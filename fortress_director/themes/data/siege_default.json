{
  "id": "siege_default",
  "label": "Siege of Lornhaven",
  "description": "Classic fortress defense with grounded fantasy tone.",
  "map": {
    "width": 8,
    "height": 8,
    "layout": [
      ["wall", "wall", "wall", "tower", "wall", "wall", "wall", "yard"],
      ["wall", "yard", "yard", "gate", "yard", "yard", "tower", "yard"],
      ["wall", "yard", "barracks", "yard", "yard", "yard", "yard", "yard"],
      ["tower", "yard", "yard", "courtyard", "courtyard", "yard", "yard", "wall"],
      ["yard", "yard", "yard", "courtyard", "courtyard", "yard", "gate", "wall"],
      ["yard", "workshop", "yard", "yard", "yard", "yard", "yard", "wall"],
      ["yard", "yard", "yard", "yard", "yard", "yard", "yard", "wall"],
      ["wall", "wall", "wall", "wall", "wall", "wall", "wall", "wall"]
    ]
  },
  "npcs": [
    {
      "id": "marshal_edda",
      "name": "Marshal Edda Vayne",
      "role": "commander",
      "x": 4,
      "y": 3,
      "tags": ["leader", "defense"]
    },
    {
      "id": "scout_rhea",
      "name": "Scout Rhea Emberfall",
      "role": "scout",
      "x": 2,
      "y": 5,
      "tags": ["intel"]
    },
    {
      "id": "quartermaster_boris",
      "name": "Quartermaster Boris",
      "role": "quartermaster",
      "x": 6,
      "y": 2,
      "tags": ["logistics"]
    }
  ],
  "initial_metrics": {
    "turn": 1,
    "turn_limit": 12,
    "wall_integrity": 70,
    "morale": 62,
    "resources": 58,
    "threat": 32,
    "npc_survival_ratio": 1.0
  },
  "event_graph_file": "siege_default_graph.json",
  "safe_function_overrides": {
    "reinforce_wall": {
      "gas_cost": 2,
      "planner_weight": 1.3
    },
    "spawn_smoke_effect": {
      "enabled": false
    }
  },
  "endings": [
    {
      "id": "victory",
      "label": "Hold the Wall",
      "conditions": {
        "wall_integrity_min": 60,
        "morale_min": 50,
        "threat_max": 40
      }
    },
    {
      "id": "narrow_escape",
      "label": "Narrow Escape",
      "conditions": {
        "wall_integrity_min": 40,
        "morale_min": 30,
        "threat_max": 60
      }
    },
    {
      "id": "fallen_keep",
      "label": "Fallen Keep",
      "conditions": {
        "wall_integrity_min": 0,
        "morale_min": 0,
        "threat_max": 100
      }
    }
  ]
}
