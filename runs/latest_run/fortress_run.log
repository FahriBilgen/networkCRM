2025-10-27 18:19:07,623 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,625 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,625 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,625 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,625 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,627 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,628 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,628 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,628 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,628 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,628 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,628 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,628 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,628 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,628 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,628 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,629 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,629 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,629 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,629 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,630 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,630 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,631 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,631 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,631 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,631 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,631 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,631 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,631 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,631 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,633 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,633 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,633 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,633 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,633 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,633 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,633 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,635 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,635 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,635 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,635 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,635 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,635 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,635 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,635 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,635 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,635 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,635 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,635 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,637 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,637 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,637 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,637 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,637 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,637 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,639 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,639 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,639 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,639 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,640 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,640 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,640 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,640 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,640 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,640 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,640 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,640 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,640 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,641 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,641 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,642 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,642 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,642 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,642 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,642 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,642 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,643 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,643 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,643 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,643 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,643 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,643 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,643 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,643 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,643 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,643 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,643 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,643 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,647 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,647 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,647 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,647 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,647 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,647 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,647 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,648 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,648 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,648 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,648 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,648 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,648 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,648 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,650 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,650 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,650 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,651 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,651 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,652 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,652 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,652 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,652 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,652 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,652 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,652 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,652 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,652 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,652 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,652 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,654 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,654 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,655 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,655 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,655 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,655 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,655 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,655 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,656 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,656 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,656 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,656 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,656 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,656 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,656 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,656 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,656 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,656 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,656 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,658 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,658 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,658 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,658 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,658 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,658 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,658 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,658 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,658 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,658 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,658 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,658 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,658 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,662 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,662 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,662 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,662 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,662 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,663 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,663 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,663 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,663 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,663 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,663 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,663 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,664 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,664 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,664 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,664 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,664 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,664 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,664 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,664 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,664 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,664 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,664 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,664 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,667 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,667 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,667 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,667 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,667 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,667 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,670 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,670 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,670 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,670 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,670 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,670 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,670 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,670 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,670 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,670 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,671 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,671 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,671 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,671 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,671 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,673 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,673 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,673 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,673 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,673 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,673 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,673 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,673 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,673 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,673 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,675 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,675 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,676 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,676 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,676 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,676 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,676 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,676 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,676 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,676 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,676 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,676 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,677 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,677 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,677 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,678 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,678 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,678 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,678 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,678 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,678 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,678 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,678 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,678 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,678 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,678 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,678 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,678 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,678 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,678 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,678 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,678 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,678 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,678 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,678 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,678 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,678 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,684 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,684 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,684 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,685 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,685 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,685 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,685 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,686 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,686 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,686 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,686 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,686 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,687 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,687 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,687 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,687 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,687 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,688 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,688 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,688 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,688 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,688 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,688 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,688 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,688 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,689 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,689 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,689 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,689 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,689 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,689 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,689 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,689 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,689 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,689 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,689 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,689 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,689 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,693 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,693 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,693 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,693 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,694 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,694 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,694 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,694 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,694 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,694 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,694 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,694 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,695 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,695 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,695 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,696 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,696 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,696 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,696 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,697 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,697 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,697 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,698 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,698 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,698 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,698 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,698 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,698 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,698 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,698 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,698 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,698 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,698 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,698 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,698 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,698 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,698 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,698 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,698 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,698 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,703 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,703 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,703 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,703 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,703 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,703 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,703 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,703 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,703 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,703 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,705 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,705 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,705 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,705 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,705 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,705 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,705 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,705 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,705 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,706 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,706 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,706 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,706 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,706 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,706 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,706 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,708 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,708 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,708 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,708 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,708 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,708 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,710 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,710 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,710 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,710 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,710 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,710 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,710 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,710 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,710 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,710 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,710 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,712 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,712 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,712 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,712 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,712 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,712 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,713 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,715 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,715 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,715 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,715 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,715 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,715 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,715 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,715 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,715 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,715 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,717 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,717 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,717 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,717 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,718 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,718 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,718 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,718 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,718 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,718 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,718 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,718 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,719 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,719 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,719 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,720 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,720 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,721 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,721 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,721 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,721 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,721 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,721 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,721 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,722 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,723 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,723 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,723 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,723 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,723 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,723 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,723 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,723 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,723 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,723 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,723 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,723 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,723 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,723 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,723 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,723 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,723 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,723 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,723 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,723 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,723 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,723 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,728 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,728 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,728 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,729 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,729 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,730 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,730 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,730 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,730 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,730 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,730 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,730 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,730 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,730 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,730 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,731 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,731 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,731 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,731 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,731 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,731 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,731 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,731 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,731 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,734 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,734 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,734 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,734 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,735 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,735 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,736 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,736 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,736 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,736 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,736 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,736 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,736 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,736 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,736 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,736 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,737 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,737 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,737 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,738 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,738 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,738 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,738 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,738 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,738 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,738 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,739 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,739 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,739 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,741 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,741 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,741 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,741 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,741 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,741 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,741 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,741 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,741 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,741 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,741 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,741 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,743 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,743 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,743 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,744 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,744 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,745 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,745 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,745 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,745 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,745 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,746 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,746 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,746 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,747 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,747 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,748 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,748 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,748 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,748 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,748 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,748 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,748 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,748 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,748 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,748 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,748 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,748 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,748 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,750 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,750 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,750 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,750 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,750 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,750 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,750 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,750 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,750 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,750 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,753 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,753 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,754 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,754 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,754 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,754 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,754 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,754 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,754 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,754 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,754 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,754 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,755 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,755 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,755 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,756 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,756 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,756 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,756 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,756 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,756 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,756 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,756 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,756 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,758 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,759 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,760 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,760 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,760 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,760 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,760 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,760 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,760 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,760 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,760 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,760 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,761 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,761 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,761 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,761 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,762 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,762 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,763 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,763 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,763 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,763 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,763 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,763 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,763 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,763 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,765 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,765 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,765 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,765 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,765 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,765 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,765 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,765 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,767 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,767 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,767 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,767 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,767 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,767 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,767 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,769 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,769 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,769 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,769 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,769 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,769 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,769 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,770 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,770 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,770 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,771 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,771 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,771 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,772 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,772 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,772 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,772 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,772 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,772 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,772 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,772 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,772 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,772 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,773 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,773 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,773 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,773 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,773 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,773 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,773 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,773 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,773 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,773 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,773 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,773 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,773 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,773 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,773 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,778 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,778 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,778 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,778 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,778 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,778 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,778 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,778 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,778 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,779 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,779 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,779 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,780 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,780 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,780 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,780 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,780 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,781 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,781 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,781 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,781 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,781 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,781 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,781 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,781 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,781 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,784 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,784 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,784 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,784 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,784 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,784 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,784 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,784 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,785 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,785 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,785 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,786 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,786 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,786 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,786 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,787 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,787 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,787 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,787 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,787 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,787 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,789 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,789 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,789 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,789 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,789 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,789 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,790 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,790 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,790 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,790 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,790 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,790 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,790 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,790 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,790 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,792 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,792 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,792 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,792 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,792 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,792 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,793 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,793 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,793 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,793 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,795 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,795 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,795 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,795 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,795 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,795 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,795 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,795 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,795 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,795 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,795 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,795 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,796 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,796 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,796 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,798 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,798 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,798 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,798 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,798 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,798 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,798 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,798 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,798 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,798 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,800 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,801 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,801 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,801 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,801 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,801 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,801 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,801 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,801 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,801 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,801 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,801 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,802 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,802 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,802 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,803 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,803 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,803 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,804 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,804 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,804 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,804 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,804 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,804 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,805 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,806 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,806 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,806 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,806 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,806 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,806 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,806 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,806 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,806 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,806 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,806 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,806 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,806 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,806 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,808 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,808 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,808 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,808 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,808 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,808 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,808 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,811 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,811 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,811 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,811 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,812 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,812 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,813 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,813 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,813 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,813 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,813 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,813 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,813 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,813 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,813 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,813 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,814 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,814 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,814 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,814 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,814 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,814 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,816 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,816 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,816 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,816 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,816 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,816 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,816 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,819 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,819 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,819 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,819 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,819 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,820 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,820 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,820 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,820 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,820 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,820 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,820 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,820 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,820 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,821 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,821 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,821 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,821 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,821 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,822 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,822 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,822 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,823 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,823 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,823 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,823 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,823 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,823 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,825 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,825 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,825 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,825 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,825 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,825 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,825 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,825 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,825 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,827 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,827 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,827 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,828 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,828 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,828 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,828 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,828 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,828 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,828 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,829 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,829 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,829 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,830 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,830 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,831 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,831 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,831 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,831 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,831 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,831 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,831 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,831 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,831 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,831 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,831 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,831 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,831 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,833 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,833 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,833 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,833 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,833 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,835 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,835 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,835 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,835 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,835 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,837 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,837 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,837 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,837 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,837 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,837 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,837 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,837 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,837 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,837 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,837 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,838 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,838 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,838 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,838 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,840 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,840 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,840 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,840 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,840 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,840 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,840 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,840 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,840 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,840 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,843 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,843 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,843 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,843 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,844 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,844 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,844 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,844 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,844 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,844 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,844 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,844 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,845 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,845 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,845 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,846 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,846 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,846 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,846 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,846 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,846 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,846 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,846 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,846 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,847 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,848 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,848 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,848 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,848 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,848 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,848 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,848 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,848 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,848 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,848 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,848 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,848 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,850 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,850 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,850 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,851 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,851 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,851 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,851 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,851 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,853 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,853 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,853 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,853 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,853 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,854 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,855 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,855 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,855 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,855 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,855 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,855 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,855 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,855 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,855 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,855 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,855 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,856 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,856 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,856 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,856 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,856 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,856 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,856 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,856 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,856 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,856 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,859 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,859 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,859 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,859 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,859 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,859 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,859 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,859 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,859 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,859 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,859 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,859 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,859 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,859 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,859 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,859 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,862 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,862 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,862 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,862 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,862 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,862 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,862 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,862 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,862 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,862 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,862 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,862 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,867 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,867 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,867 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,867 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,867 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,867 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,867 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,867 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,867 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,867 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,867 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,867 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,867 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,867 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,867 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,870 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,870 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,870 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,870 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,870 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,870 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,870 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,871 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,871 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,871 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,872 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,872 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,872 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,872 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,873 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,873 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,873 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,873 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,873 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,873 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,873 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,873 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,873 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,873 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,875 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,876 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,876 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,876 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,876 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,876 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,876 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,876 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,877 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,877 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,877 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,878 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,878 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,878 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,878 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,878 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,878 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,878 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,878 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,878 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,878 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,878 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,878 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,878 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,878 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,878 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,878 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,878 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,878 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,878 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,878 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,878 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,878 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,882 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,882 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,882 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,883 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,884 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,884 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,884 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,884 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,884 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,884 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,884 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,884 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,884 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,884 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,885 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,885 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,885 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,885 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,887 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,887 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,887 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,887 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,888 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,888 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,888 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,888 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,888 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,888 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,889 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,889 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,889 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,889 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,889 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,889 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,889 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,889 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,889 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,889 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,889 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,889 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,892 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,892 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,892 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,893 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,893 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,893 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,893 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,893 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,893 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,894 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,894 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,894 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,894 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,895 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,895 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,897 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,897 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,897 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,897 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,897 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,897 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,897 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,897 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,897 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,897 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,898 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,898 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,898 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,898 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,898 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,900 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,900 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,900 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,900 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,900 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,901 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,901 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,901 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,902 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,902 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,902 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,902 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,902 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,902 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,902 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,902 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,902 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,902 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,902 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,902 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,902 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,902 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,902 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,904 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,904 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,904 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,904 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,904 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,904 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,904 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,906 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,906 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,906 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,908 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,908 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,908 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,908 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,909 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,909 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,909 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,909 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,909 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,909 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,909 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,909 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,910 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,910 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,910 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,911 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,911 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,912 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,912 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,912 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,912 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,912 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,913 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,913 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,913 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,913 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,914 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,914 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,914 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,914 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,914 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,914 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,914 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,914 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,914 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,914 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,914 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,914 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,914 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,914 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,918 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,918 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,918 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,918 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,918 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,918 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,919 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,919 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,919 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,919 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,920 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,920 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,921 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,921 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,921 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,921 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,921 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,921 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,921 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,921 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,921 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,921 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,922 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,922 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,922 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,923 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,923 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,923 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,923 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,923 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,923 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,923 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,923 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,923 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,923 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,925 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,925 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,925 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,926 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,926 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,926 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,926 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,926 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,926 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,926 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,926 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,926 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,927 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,927 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,927 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,929 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,929 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,929 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,929 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,929 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,929 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,929 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,930 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,930 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,930 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,931 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,931 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,931 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,932 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,932 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,932 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,932 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,932 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,932 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,932 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,932 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,932 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,934 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,934 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,934 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,935 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,935 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,935 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,935 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,936 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,936 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,936 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,936 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,936 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,937 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,938 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,938 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,938 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,938 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,938 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,938 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,938 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,938 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,938 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,938 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,938 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,938 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,938 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,938 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,938 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,941 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,941 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,941 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,941 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,941 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,941 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,941 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,941 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,941 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,941 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,944 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,944 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,944 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,944 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,944 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,945 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,945 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,945 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,945 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,945 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,945 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,945 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,945 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,946 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,946 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,947 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,947 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,947 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,947 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,947 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,947 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,948 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,948 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,948 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,948 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,951 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,951 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,951 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,951 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,951 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,951 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,952 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,952 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,952 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,952 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,952 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,952 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,952 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,952 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,953 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,954 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,954 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,955 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,955 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,955 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,955 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,955 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,955 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,955 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,955 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,955 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,955 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,955 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,955 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,955 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,955 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,955 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,959 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,959 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,959 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,959 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,959 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,960 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,960 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,960 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,961 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,961 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,962 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,962 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,962 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,962 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,962 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,963 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,963 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,963 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,964 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,965 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,965 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,965 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,965 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,965 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,965 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,965 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,965 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,965 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,965 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,965 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,967 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,967 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,967 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,968 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,968 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,968 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,968 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,968 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,969 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,969 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,969 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,969 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,970 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,971 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,971 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,971 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,971 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,971 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,972 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,972 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,972 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,972 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,972 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,972 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,972 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,972 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,973 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,973 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,974 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,974 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,974 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,974 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,974 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,974 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,974 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,976 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,976 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,976 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,977 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,977 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,977 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,977 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,978 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,978 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,978 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,978 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,978 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,978 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,978 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,978 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,979 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,979 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,979 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,980 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,980 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,980 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,980 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,980 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,980 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,980 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,980 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,980 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,980 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,982 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,982 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,982 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,982 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,982 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,982 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,984 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,984 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,984 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,984 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,984 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,984 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,984 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,984 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,984 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,986 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,986 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,986 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,986 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,986 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,986 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,987 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,987 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,987 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,987 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,989 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,989 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,990 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,990 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,990 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,990 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,990 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,990 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,990 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,990 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,990 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,990 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,992 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,992 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,992 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,992 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,994 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,994 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,994 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,994 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,994 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,994 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,995 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,995 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:07,995 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:07,996 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,996 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:07,997 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,997 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:07,997 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:07,997 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:07,997 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,997 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:07,997 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:07,997 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:07,997 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:07,997 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:07,998 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,998 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:07,998 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:07,999 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,999 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:07,999 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:07,999 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:07,999 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:07,999 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:07,999 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,001 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,001 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,001 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,002 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,002 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,002 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,003 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,003 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,003 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,003 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,003 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,003 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,003 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,003 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,003 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,004 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,004 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,004 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,005 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,005 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,006 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,006 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,006 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,006 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,006 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,006 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,006 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,006 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,009 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,009 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,009 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,009 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,009 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,009 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,010 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,010 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,010 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,010 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,010 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,010 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,010 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,010 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,012 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,014 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,014 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,014 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,014 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,016 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,016 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,016 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,016 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,016 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,016 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,018 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,018 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,018 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,020 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,020 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,020 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,020 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,020 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,020 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,020 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,020 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,020 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,020 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,022 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,022 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,024 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,024 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,024 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,024 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,024 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,024 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,024 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,026 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,026 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,026 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,028 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,028 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,028 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,028 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,028 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,028 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,028 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,028 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,028 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,028 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,028 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,028 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,030 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,030 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,030 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,032 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,032 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,032 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,032 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,032 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,032 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,034 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,034 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,034 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,034 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,036 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,036 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,036 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,036 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,036 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,036 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,036 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,038 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,038 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,038 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,038 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,038 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,038 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,038 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,038 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,040 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,040 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,040 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,040 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,042 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,042 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,042 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,042 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,042 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,042 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,044 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,044 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,044 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,044 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,044 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,044 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,046 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,046 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,046 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,046 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,046 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,046 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,046 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,046 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,046 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,048 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,048 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,048 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,048 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,048 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,048 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,048 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,048 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,048 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,052 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,053 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,053 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,053 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,053 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,053 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,053 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,054 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,054 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,054 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,054 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,054 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,054 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,055 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,055 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,055 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,057 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,057 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,057 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,058 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,058 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,058 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,058 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,059 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,059 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,059 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,061 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,061 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,061 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,061 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,061 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,061 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,061 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,061 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,061 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,061 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,061 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,061 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,063 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,063 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,063 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,064 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,064 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,064 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,065 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,065 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,065 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,065 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,066 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,066 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,066 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,067 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,067 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,068 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,068 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,068 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,068 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,068 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,068 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,068 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,068 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,068 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,068 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,069 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,069 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,069 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,070 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,070 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,071 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,071 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,071 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,071 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,071 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,072 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,072 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,072 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,073 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,073 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,073 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,073 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,073 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,073 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,075 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,075 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,075 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,075 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,075 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,075 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,076 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,076 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,076 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,078 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,078 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,078 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,078 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,078 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,079 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,079 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,080 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,080 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,080 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,081 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,082 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,082 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,082 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,082 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,082 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,082 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,083 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,083 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,083 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,083 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,083 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,084 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,084 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,084 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,085 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,086 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,086 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,086 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,086 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,086 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,086 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,087 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,087 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,087 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,088 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,088 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,088 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,088 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,088 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,088 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,088 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,088 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,088 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,088 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,088 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,088 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,090 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,090 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,090 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,092 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,092 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,092 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,092 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,092 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,093 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,093 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,093 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,093 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,094 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,096 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,096 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,096 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,096 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,096 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,096 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,096 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,096 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,096 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,096 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,096 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,096 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,096 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,098 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,098 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,099 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,099 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,099 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,099 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,099 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,099 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,101 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,101 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,101 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,101 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,102 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,102 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,102 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,102 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,102 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,102 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,102 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,102 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,102 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,102 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,102 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,102 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,104 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,104 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,104 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,104 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,104 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,104 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,104 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,104 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,104 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,106 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,109 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,109 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,109 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,112 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,112 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,113 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,113 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,113 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,113 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,113 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,113 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,113 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,113 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,113 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,113 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,113 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,113 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,113 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,113 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,113 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,113 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,113 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,113 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,113 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,113 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,117 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,117 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,117 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,118 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,118 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,118 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,119 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,119 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,119 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,119 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,119 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,119 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,119 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,119 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,119 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,120 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,120 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,120 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,122 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,122 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,122 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,122 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,122 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,122 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,122 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,122 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,122 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,122 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,122 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,122 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,122 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,122 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,122 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,122 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,122 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,122 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,122 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,126 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,126 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,126 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,126 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,126 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,126 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,128 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,128 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,129 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,129 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,129 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,129 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,129 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,129 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,130 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,130 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,131 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,131 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,131 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,131 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,131 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,131 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,131 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,131 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,131 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,131 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,131 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,131 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,131 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,131 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,131 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,134 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,134 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,134 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,134 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,134 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,134 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,134 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,135 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,135 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,135 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,136 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,136 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,136 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,137 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,137 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,137 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,137 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,137 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,137 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,137 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,137 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,137 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,137 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,137 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,139 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,139 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,139 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,139 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,139 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,139 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,139 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,139 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,141 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,141 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,141 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,143 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,143 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,143 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,143 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,143 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,143 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,143 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,143 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,143 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,143 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,143 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,143 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,145 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,145 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,145 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,146 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,146 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,146 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,146 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,146 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,146 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,146 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,147 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,147 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,147 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,148 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,148 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,148 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,148 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,148 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,148 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,148 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,148 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,148 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,148 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,148 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,148 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,150 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,150 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,150 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,150 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,150 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,150 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,150 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,150 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,150 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,150 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,153 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,153 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,153 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,154 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,154 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,155 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,155 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,155 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,155 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,155 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,155 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,155 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,155 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,155 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,156 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,156 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,156 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,156 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,156 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,156 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,156 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,156 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,156 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,158 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,158 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,159 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,159 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,159 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,160 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,160 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,161 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,161 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,161 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,161 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,161 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,161 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,161 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,161 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,161 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,161 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,162 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,162 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,162 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,163 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,164 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,164 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,164 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,164 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,164 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,164 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,165 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,165 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,165 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,166 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,166 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,166 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,166 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,166 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,166 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,166 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,166 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,166 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,166 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,166 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,167 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,167 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,167 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,167 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,169 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,169 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,170 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,170 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,170 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,170 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,170 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,170 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,171 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,171 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,172 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,172 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,172 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,172 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,172 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,172 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,172 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,172 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,172 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,172 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,172 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,172 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,172 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,172 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,172 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,174 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,174 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,175 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,175 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,175 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,175 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,175 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,176 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,176 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,176 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,177 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,178 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,178 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,178 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,178 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,178 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,178 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,178 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,178 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,178 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,178 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,178 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,179 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,179 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,179 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,180 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,180 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,180 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,182 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,182 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,182 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,182 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,182 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,182 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,183 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,184 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,184 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,184 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,184 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,184 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,185 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,185 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,185 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,185 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,185 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,185 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,185 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,186 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,186 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,186 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,187 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,187 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,187 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,187 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,187 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,187 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,188 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,188 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,188 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,188 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,189 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,189 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,189 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,189 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,189 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,189 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,189 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,189 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,189 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,189 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,189 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,189 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,189 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,189 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,189 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,189 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,189 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,189 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,189 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,194 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,194 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,194 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,194 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,194 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,195 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,196 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,196 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,196 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,196 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,196 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,196 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,196 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,196 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,196 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,196 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,196 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,196 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,197 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,198 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,198 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,198 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,198 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,198 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,198 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,198 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,198 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,200 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,200 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,200 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,200 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,202 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,202 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,202 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,202 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,202 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,202 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,202 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,202 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,202 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,202 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,202 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,202 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,202 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,202 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,202 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,202 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,202 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,202 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,202 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,202 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,202 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,202 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,206 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,206 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,206 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,206 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,206 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,208 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,208 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,208 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,208 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,208 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,208 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,208 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,208 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,208 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,208 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,210 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,210 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,210 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,211 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,211 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,211 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,211 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,211 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,211 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,211 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,212 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,212 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,212 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,212 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,212 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,212 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,212 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,212 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,212 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,212 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,212 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,212 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,212 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,212 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,212 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,212 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,212 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,212 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,216 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,216 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,216 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,216 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,216 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,217 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,217 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,217 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,217 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,217 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,217 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,217 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,217 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,217 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,217 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,217 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,217 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,217 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,217 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,217 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,217 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,217 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,221 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,221 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,221 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,222 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,222 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,223 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,223 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,223 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,223 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,223 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,223 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,223 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,223 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,225 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,225 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,225 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,225 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,225 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,225 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,225 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,225 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,226 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,226 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,226 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,226 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,226 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,226 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,226 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,227 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,228 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,228 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,228 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,228 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,228 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,228 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,229 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,229 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,229 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,230 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,230 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,230 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,230 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,230 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,230 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,230 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,230 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,230 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,230 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,230 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,230 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,230 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,230 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,233 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,233 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,233 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,233 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,233 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,235 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,235 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,235 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,235 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,235 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,235 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,237 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,237 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,237 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,237 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,237 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,237 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,237 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,237 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,237 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,238 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,238 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,238 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,238 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,238 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,238 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,239 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,240 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,240 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,240 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,240 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,240 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,240 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,240 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,240 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,240 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,242 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,242 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,242 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,242 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,243 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,243 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,243 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,243 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,243 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,243 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,243 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,243 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,244 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,244 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,245 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,245 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,245 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,246 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,246 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,246 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,246 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,246 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,247 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,247 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,247 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,247 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,247 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,247 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,247 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,247 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,247 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,247 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,249 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,249 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,249 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,249 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,249 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,250 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,250 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,250 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,251 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,251 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,251 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,251 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,251 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,251 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,252 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,252 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,252 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,252 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,254 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,254 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,254 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,254 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,255 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,255 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,255 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,255 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,255 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,255 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,255 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,255 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,256 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,256 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,256 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,257 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,257 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,257 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,257 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,257 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,257 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,257 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,257 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,257 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,257 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,260 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,260 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,260 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,260 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,260 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,260 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,261 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,261 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,261 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,261 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,261 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,261 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,262 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,262 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,262 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,263 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,263 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,263 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,263 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,263 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,263 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,264 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,264 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,264 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,265 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,265 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,265 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,265 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,265 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,265 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,265 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,265 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,265 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,265 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,265 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,265 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,265 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,265 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,265 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,265 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,265 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,265 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,265 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,270 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,270 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,270 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,270 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,270 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,270 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,270 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,272 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,272 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,272 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,272 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,272 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,272 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,272 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,272 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,272 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,272 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,272 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,273 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,273 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,273 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,273 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,273 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,273 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,273 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,275 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,275 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,275 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,275 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,276 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,276 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,276 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,277 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,277 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,277 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,277 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,277 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,277 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,278 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,278 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,278 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,278 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,278 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,278 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,279 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,279 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,279 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,280 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,280 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,281 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,281 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,281 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,281 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,281 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,281 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,281 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,281 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,283 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,283 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,283 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,283 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,283 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,283 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,285 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,285 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,285 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,285 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,285 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,285 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,285 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,285 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,285 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,287 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,287 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,287 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,287 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,287 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,287 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,287 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,288 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,288 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,288 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,289 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,289 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,290 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,290 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,290 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,290 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,290 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,290 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,290 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,290 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,290 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,290 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,290 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,290 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,290 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,293 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,293 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,293 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,293 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,293 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,293 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,294 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,294 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,294 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,294 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,295 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,295 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,295 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,295 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,295 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,295 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,295 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,295 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,295 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,296 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,296 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,296 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,296 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,296 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,296 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,296 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,296 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,296 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,296 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,296 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,296 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,296 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,300 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,300 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,300 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,300 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,300 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,301 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,301 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,301 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,301 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,301 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,301 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,301 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,301 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,301 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,301 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,302 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,302 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,302 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,303 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,304 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,304 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,305 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,305 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,305 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,305 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,305 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,305 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,306 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,307 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,307 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,307 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,307 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,307 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,307 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,307 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,307 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,307 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,307 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,308 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,308 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,308 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,308 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,308 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,310 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,310 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,310 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,310 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,310 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,311 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,311 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,311 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,311 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,311 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,312 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,313 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,313 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,313 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,313 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,313 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,313 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,313 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,313 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,313 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,313 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,313 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,314 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,314 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,314 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,314 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,314 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,314 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,314 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,314 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,314 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,314 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,314 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,314 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,314 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,314 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,314 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,314 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,314 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,314 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,314 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,319 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,319 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,319 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,319 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,319 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,319 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,319 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,320 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,320 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,321 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,321 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,321 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,321 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,321 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,321 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,321 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,322 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,322 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,322 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,323 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,323 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,323 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,323 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,323 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,323 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,325 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,325 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,325 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,325 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,325 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,325 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,325 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,325 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,325 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,327 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,327 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,327 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,327 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,327 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,327 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,328 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,328 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,328 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,328 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,329 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,329 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,331 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,331 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,331 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,331 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,331 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,331 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,331 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,331 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,331 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,331 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,332 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,332 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,332 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,332 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,332 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,332 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,332 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,332 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,334 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,334 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,335 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,335 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,335 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,336 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,336 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,336 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,336 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,337 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,337 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,337 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,337 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,337 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,337 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,337 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,337 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,338 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,338 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,338 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,339 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,339 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,340 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,340 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,340 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,340 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,340 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,340 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,340 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,340 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,342 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,342 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,342 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,342 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,342 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,342 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,342 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,342 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,342 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,342 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,342 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,342 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,342 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,342 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,342 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,345 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,345 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,346 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,346 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,346 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,346 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,346 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,346 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,347 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,347 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,348 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,348 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,348 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,348 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,348 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,348 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,348 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,348 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,348 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,348 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,348 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,348 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,350 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,350 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,350 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,352 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,352 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,352 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,352 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,352 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,352 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,353 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,353 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,353 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,353 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,354 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,354 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,355 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,355 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,355 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,355 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,355 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,355 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,355 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,355 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,355 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,355 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,356 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,356 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,356 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,356 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,356 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,358 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,358 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,358 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,358 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,358 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,358 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,358 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,358 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,360 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,360 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,361 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,361 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,361 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,361 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,361 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,361 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,361 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,361 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,361 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,361 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,362 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,362 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,362 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,363 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,363 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,364 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,364 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,364 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,364 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,365 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,365 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,365 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,365 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,367 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,367 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,367 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,367 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,367 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,367 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,367 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,367 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,367 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,367 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,367 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,367 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,367 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,367 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,367 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,370 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,370 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,370 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,371 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,371 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,371 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,371 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,371 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,371 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,372 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,373 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,373 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,373 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,373 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,373 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,373 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,373 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,373 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,373 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,373 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,373 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,373 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,373 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,375 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,375 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,376 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,376 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,376 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,376 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,376 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,376 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,376 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,378 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,378 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,378 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,379 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,380 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,380 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,380 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,380 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,380 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,380 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,380 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,380 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,380 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,380 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,380 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,381 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,381 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,381 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,381 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,381 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,381 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,381 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,381 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,381 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,381 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,383 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,383 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,383 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,385 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,385 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,385 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,385 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,385 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,385 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,385 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,385 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,385 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,385 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,385 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,385 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,387 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,387 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,387 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,389 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,389 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,389 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,389 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,389 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,389 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,389 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,390 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,390 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,390 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,390 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,390 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,392 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,392 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,392 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,392 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,392 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,392 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,392 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,392 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,392 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,392 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,393 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,393 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,393 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,394 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,394 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,395 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,395 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,395 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,395 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,395 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,396 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,396 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,396 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,397 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,397 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,397 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,398 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,398 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,398 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,398 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,398 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,398 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,398 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,398 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,398 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,398 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,398 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,398 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,400 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,400 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,400 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,400 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,400 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,400 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,400 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,402 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,402 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,402 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,403 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,403 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,403 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,403 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,405 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,405 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,405 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,405 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,405 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,405 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,405 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,405 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,405 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,406 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,406 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,406 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,406 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,406 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,406 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,406 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,406 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,406 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,406 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,406 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,406 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,410 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,410 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,410 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,410 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,411 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,411 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,411 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,411 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,411 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,411 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,411 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,411 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,411 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,411 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,411 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,412 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,412 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,412 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,413 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,413 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,413 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,413 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,414 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,414 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,414 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,415 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,415 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,415 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,415 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,415 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,417 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,417 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,417 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,417 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,417 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,417 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,417 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,418 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,418 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,418 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,419 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,419 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,419 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,419 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,419 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,419 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,420 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,420 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,420 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,420 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,422 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,422 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,422 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,422 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,423 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,423 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,423 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,423 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,423 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,423 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,423 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,423 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,424 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,424 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,424 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,424 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,424 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,424 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,424 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,424 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,424 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,426 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,427 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,427 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,427 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,428 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,428 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,428 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,428 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,428 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,429 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,429 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,429 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,429 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,429 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,429 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,429 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,430 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,431 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,431 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,431 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,431 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,431 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,431 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,431 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,431 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,431 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,431 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,431 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,431 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,435 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,435 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,435 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,435 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,435 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,435 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,435 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,435 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,436 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,436 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,436 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,436 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,436 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,436 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,436 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,437 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,437 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,438 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,438 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,438 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,438 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,438 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,439 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,439 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,439 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,439 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,439 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,439 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,439 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,439 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,439 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,439 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,439 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,439 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,439 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,439 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,439 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,443 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,443 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,443 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,444 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,444 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,444 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,444 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,444 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,444 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,444 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,445 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,445 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,445 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,446 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,446 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,446 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,446 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,447 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,447 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,447 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,447 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,447 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,447 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,447 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,447 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,448 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,448 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,448 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,448 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,448 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,450 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,450 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,450 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,450 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,451 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,451 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,451 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,451 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,453 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,453 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,453 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,453 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,453 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,453 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,453 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,453 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,453 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,453 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,453 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,453 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,454 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,454 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,454 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,455 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,455 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,455 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,455 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,455 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,455 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,455 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,457 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,457 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,457 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,457 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,457 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,457 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,457 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,459 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,459 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,459 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,459 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,459 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,459 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,459 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,459 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,459 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,459 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,459 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,461 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,461 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,461 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,461 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,461 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,461 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,461 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,463 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,463 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,463 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,465 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,465 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,465 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,465 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,465 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,465 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,465 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,465 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,465 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,465 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,465 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,465 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,466 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,466 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,466 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,468 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,468 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,468 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,468 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,468 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,468 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,468 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,468 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,470 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,470 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,471 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,471 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,471 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,471 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,471 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,471 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,471 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,471 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,471 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,471 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,471 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,471 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,473 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,473 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,473 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,473 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,473 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,473 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,475 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,475 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,475 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,475 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,475 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,475 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,476 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,477 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,477 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,477 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,477 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,477 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,477 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,477 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,477 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,477 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,477 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,477 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,477 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,478 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,478 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,478 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,480 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,480 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,480 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,481 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,481 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,481 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,481 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,482 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,482 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,482 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,482 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,482 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,484 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,484 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,484 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,484 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,484 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,484 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,484 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,484 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,484 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,485 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,485 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,485 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,485 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,486 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,486 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,487 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,487 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,487 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,487 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,487 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,487 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,487 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,487 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,489 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,489 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,489 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,489 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,489 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,489 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,489 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,489 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,489 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,489 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,489 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,489 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,489 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,489 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,489 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,493 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,493 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,493 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,493 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,493 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,493 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,493 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,494 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,494 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,494 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,494 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,494 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,494 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,494 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,494 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,494 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,494 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,494 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,494 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,494 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,494 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,494 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,494 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,494 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,494 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,494 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,494 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,494 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,494 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,494 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,494 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,494 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,499 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,499 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,499 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,500 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,500 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,500 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,501 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,501 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,501 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,501 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,501 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,501 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,501 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,501 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,501 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,502 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,502 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,502 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,504 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,504 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,504 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,504 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,504 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,504 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,505 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,505 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,505 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,505 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,506 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,506 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,506 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,506 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,506 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,506 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,506 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,506 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,506 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,506 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,506 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,506 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,509 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,509 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,509 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,511 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,511 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,511 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,511 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,511 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,511 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,511 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,512 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,512 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,512 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,513 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,513 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,513 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,513 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,513 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,513 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,513 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,513 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,513 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,513 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,513 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,513 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,513 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,513 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,513 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,513 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,517 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,517 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,517 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,517 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,517 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,517 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,518 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,518 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,518 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,519 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,520 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,520 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,520 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,520 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,520 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,520 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,520 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,520 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,520 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,520 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,520 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,520 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,520 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,521 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,522 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,522 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,522 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,522 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,522 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,522 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,522 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,524 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,524 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,524 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,525 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,525 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,525 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,525 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,526 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,526 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,526 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,526 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,526 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,526 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,526 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,526 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,527 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,527 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,527 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,528 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,528 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,528 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,528 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,528 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,528 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,529 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,529 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,529 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,529 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,530 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,531 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,531 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,531 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,531 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,531 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,531 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,531 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,531 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,531 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,531 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,531 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,531 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,531 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,531 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,534 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,534 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,534 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,534 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,534 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,534 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,534 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,535 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,535 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,535 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,536 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,536 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,536 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,536 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,536 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,536 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,536 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,536 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,536 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,536 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,536 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,536 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,536 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,536 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,536 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,536 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,536 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,536 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,536 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,536 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,536 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,536 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,541 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,541 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,541 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,543 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,543 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,543 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,543 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,543 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,543 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,544 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,544 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,544 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,544 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,544 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,544 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,544 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,545 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,545 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,545 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,545 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,545 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,545 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,545 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,547 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,547 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,547 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,547 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,548 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,548 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,548 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,548 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,548 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,548 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,548 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,548 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,548 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,548 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,548 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,548 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,548 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,548 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,551 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,551 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,552 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,552 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,552 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,552 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,552 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,552 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,552 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,553 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,553 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,553 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,554 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,554 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,554 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,555 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,555 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,555 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,555 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,555 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,555 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,555 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,555 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,555 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,555 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,555 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,556 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,556 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,556 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,556 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,556 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,556 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,556 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,556 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,556 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,556 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,556 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,556 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,556 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,556 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,556 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,561 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,561 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,561 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,561 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,561 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,561 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,561 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,561 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,562 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,562 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,562 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,563 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,563 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,563 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,563 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,563 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,563 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,564 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,565 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,565 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,565 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,565 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,567 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,567 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,567 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,567 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,567 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,567 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,567 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,567 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,567 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,567 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,567 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,568 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,568 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,568 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,569 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,569 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,569 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,570 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,570 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,570 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,570 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,570 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,570 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,570 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,572 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,572 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,572 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,573 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,573 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,573 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,573 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,573 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,573 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,573 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,573 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,573 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,574 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,574 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,574 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,575 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,575 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,575 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,575 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,575 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,575 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,575 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,575 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,575 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,575 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,578 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,578 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,578 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,579 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,579 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,579 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,579 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,579 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,579 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,579 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,579 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,579 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,580 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,580 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,580 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,580 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,580 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,580 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,580 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,580 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,582 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,582 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,582 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,582 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,582 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,584 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,584 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,584 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,584 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,584 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,584 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,584 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,584 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,584 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,584 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,586 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,586 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,586 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,586 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,586 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,588 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,588 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,588 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,588 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,588 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,588 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,588 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,589 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,589 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,590 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,590 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,590 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,590 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,590 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,590 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,590 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,592 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,592 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,592 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,592 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,592 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,592 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,592 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,592 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,592 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,594 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,594 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,594 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,595 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,595 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,595 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,595 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,595 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,595 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,595 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,596 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,596 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,596 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,596 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,597 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,597 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,597 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,597 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,597 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,597 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,597 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,597 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,598 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,598 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,598 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,598 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,598 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,598 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,598 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,601 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,601 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,601 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,602 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,602 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,602 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,603 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,603 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,604 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,604 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,604 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,604 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,604 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,604 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,604 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,604 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,604 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,604 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,605 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,605 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,605 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,606 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,606 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,606 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,606 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,606 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,606 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,606 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,608 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,608 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,608 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,609 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,609 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,609 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,609 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,609 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,609 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,609 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,609 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,609 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,609 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,609 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,609 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,611 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,611 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,611 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,612 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,612 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,613 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,613 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,613 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,613 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,613 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,614 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,614 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,614 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,615 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,615 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,615 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,615 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,615 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,615 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,615 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,615 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,615 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,615 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,615 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,615 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,617 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,617 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,617 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,618 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,618 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,618 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,619 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,619 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,619 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,619 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,619 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,620 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,620 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,620 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,620 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,620 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,620 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,622 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,622 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,622 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,622 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,622 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,622 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,622 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,622 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,623 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,623 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,623 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,623 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,623 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,623 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,623 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,623 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,623 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,623 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,626 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,626 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,626 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,627 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,627 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,627 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,627 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,627 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,627 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,627 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,628 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,628 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,628 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,628 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,628 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,628 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,628 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,628 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,630 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,630 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,630 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,630 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,630 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,630 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,630 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,630 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,630 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,630 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,631 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,631 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,631 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,631 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,631 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,631 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,631 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,631 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,631 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,631 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,631 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,631 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,631 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,631 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,631 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,631 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,631 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,631 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,636 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,636 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,636 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,636 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,636 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,637 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,637 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,639 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,639 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,639 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,639 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,639 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,639 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,639 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,639 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,640 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,640 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,640 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,640 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,640 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,640 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,640 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,642 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,642 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,642 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,642 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,642 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,642 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,642 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,643 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,643 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,643 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,644 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,644 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,645 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,645 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,645 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,645 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,645 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,645 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,645 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,645 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,645 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,645 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,646 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,647 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,647 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,648 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,648 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,648 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,648 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,648 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,648 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,648 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,648 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,648 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,648 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,650 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,650 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,650 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,651 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,651 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,651 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,651 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,651 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,651 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,651 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,652 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,652 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,652 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,652 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,652 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,653 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,653 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,654 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,654 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,654 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,654 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,654 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,655 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,655 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,655 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,656 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,656 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,656 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,656 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,656 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,656 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,656 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,656 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,656 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,656 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,656 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,656 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,658 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,658 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,658 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,658 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,658 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,658 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,658 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,658 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,658 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,658 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,658 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,661 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,661 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,662 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,662 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,662 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,663 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,663 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,663 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,663 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,663 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,663 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,663 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,663 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,663 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,664 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,664 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,664 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,665 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,665 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,665 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,665 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,665 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,665 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,665 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,667 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,667 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,667 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,667 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,667 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,667 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,667 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,667 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,667 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,667 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,667 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,667 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,670 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,670 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,670 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,670 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,670 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,670 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,671 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,671 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,671 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,672 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,672 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,672 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,672 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,673 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,673 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,673 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,675 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,675 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,675 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,675 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,675 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,675 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,675 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,676 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,676 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,676 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,676 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,676 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,677 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,677 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,677 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,678 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,678 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,678 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,679 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,679 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,679 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,679 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,679 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,679 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,679 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,681 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,681 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,681 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,681 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,681 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,681 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,681 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,681 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,681 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,681 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,681 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,681 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,681 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,681 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,681 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,684 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,684 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,685 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,685 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,685 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,685 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,685 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,685 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,686 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,686 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,687 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,687 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,688 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,688 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,688 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,688 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,688 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,688 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,688 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,688 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,688 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,688 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,689 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,689 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,689 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,690 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,690 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,690 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,691 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,691 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,691 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,691 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,691 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,691 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,691 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,693 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,693 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,693 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,693 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,694 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,694 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,694 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,694 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,694 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,694 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,694 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,694 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,695 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,695 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,695 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,696 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,696 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,696 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,696 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,696 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,696 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,697 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,697 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,697 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,697 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,698 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,698 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,698 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,698 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,698 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,698 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,698 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,698 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,698 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,698 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,698 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,698 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,698 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,698 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,698 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,698 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,698 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,698 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,703 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,703 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,703 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,703 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,703 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,703 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,704 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,705 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,705 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,705 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,705 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,705 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,705 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,705 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,705 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,705 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,705 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,706 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,706 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,706 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,706 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,706 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,706 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,706 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,706 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,708 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,708 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,709 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,709 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,709 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,709 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,709 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,711 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,711 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,711 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,711 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,711 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,711 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,711 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,712 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,712 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,712 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,712 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,712 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,712 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,712 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,712 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,713 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,713 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,713 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,713 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,715 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,715 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,715 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,715 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,715 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,716 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,717 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,717 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,717 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,717 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,717 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,717 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,717 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,717 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,717 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,717 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,717 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,717 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,717 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,717 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,717 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,720 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,720 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,720 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,720 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,720 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,720 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,720 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,721 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,721 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,721 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,722 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,722 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,723 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,723 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,723 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,723 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,723 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,723 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,723 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,723 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,723 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,723 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,723 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,723 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,723 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,726 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,726 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,726 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,726 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,726 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,726 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,726 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,727 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,727 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,727 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,728 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,728 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,729 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,729 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,729 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,729 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,729 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,729 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,729 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,730 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,730 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,730 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,731 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,731 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,731 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,731 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,731 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,731 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,731 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,731 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,733 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,733 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,734 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,734 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,734 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,735 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,735 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,735 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,735 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,735 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,735 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,735 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,735 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,735 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,735 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,735 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,735 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,735 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,735 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,735 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,737 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,737 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,737 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,737 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,737 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,737 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,737 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,737 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,737 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,737 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,741 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,741 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,741 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,741 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,741 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,742 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,742 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,742 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,742 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,742 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,742 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,742 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,743 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,743 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,743 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,744 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,744 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,744 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,744 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,744 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,745 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,745 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,746 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,746 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,746 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,747 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,747 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,747 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,747 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,747 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,748 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,748 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,748 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,748 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,748 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,748 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,748 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,748 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,748 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,748 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,748 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,748 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,748 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,748 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,751 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,751 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,751 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,752 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,752 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,752 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,753 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,753 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,753 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,753 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,753 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,753 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,753 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,753 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,753 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,754 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,754 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,754 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,754 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,754 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,754 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,756 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,756 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,756 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,756 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,756 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,756 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,756 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,756 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,756 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,756 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,759 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,759 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,759 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,759 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,759 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,759 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,759 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,759 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,759 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,759 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,761 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,761 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,761 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,761 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,761 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,763 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,763 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,763 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,763 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,763 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,763 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,763 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,764 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,764 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,764 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,765 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,765 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,765 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,765 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,765 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,765 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,765 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,765 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,765 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,765 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,765 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,765 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,767 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,767 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,767 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,768 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,768 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,768 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,768 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,769 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,769 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,769 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,769 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,769 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,769 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,770 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,770 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,770 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,770 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,772 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,772 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,772 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,772 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,772 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,772 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,772 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,772 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,773 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,773 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,773 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,774 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,774 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,774 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,774 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,774 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,774 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,774 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,775 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,775 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,775 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,776 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,776 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,776 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,777 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,777 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,777 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,777 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,777 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,777 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,777 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,777 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,777 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,778 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,778 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,778 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,779 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,779 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,779 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,780 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,780 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,780 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,780 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,780 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,780 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,781 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,781 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,781 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,781 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,781 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,781 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,781 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,783 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,783 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,783 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,783 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,783 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,783 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,783 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,783 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,783 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,783 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,783 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,783 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,783 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,786 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,786 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,786 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,786 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,786 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,786 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,788 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,789 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,789 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,789 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,789 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,789 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,789 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,789 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,789 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,789 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,789 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,789 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,790 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,790 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,790 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,790 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,790 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,792 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,792 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,792 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,792 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,792 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,793 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,793 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,793 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,794 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,794 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,794 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,794 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,795 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,795 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,795 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,795 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,795 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,795 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,795 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,795 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,795 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,795 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,796 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,797 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,797 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,797 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,797 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,797 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,797 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,797 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,797 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,799 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,799 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,799 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,799 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,801 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,801 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,801 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,802 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,802 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,802 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,802 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,802 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,802 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,802 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,802 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,803 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,803 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,804 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,804 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,804 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,804 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,805 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,805 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,805 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,805 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,805 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,805 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,806 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,806 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,806 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,806 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,806 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,806 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,806 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,806 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,806 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,806 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,806 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,806 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,808 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,808 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,808 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,810 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,810 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,810 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,810 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,810 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,811 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,811 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,811 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,811 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,811 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,813 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,813 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,813 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,813 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,813 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,813 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,813 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,813 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,813 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,813 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,813 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,813 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,814 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,814 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,814 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,816 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,816 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,816 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,816 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,816 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,816 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,816 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,817 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,817 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,817 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,817 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,817 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,817 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,817 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,817 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,820 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,820 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,820 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,820 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,820 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,820 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,820 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,821 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,821 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,821 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,822 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,822 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,823 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,823 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,823 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,823 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,823 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,823 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,823 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,823 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,826 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,826 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,826 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,826 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,826 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,826 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,826 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,826 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,826 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,826 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,826 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,826 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,826 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,828 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,828 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,828 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,828 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,829 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,829 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,829 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,829 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,829 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,830 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,830 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,830 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,831 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,831 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,831 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,831 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,831 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,831 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,831 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,831 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,831 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,831 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,831 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,831 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,834 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,834 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,834 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,835 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,835 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,835 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,835 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,836 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,836 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,836 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,836 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,836 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,836 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,837 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,837 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,838 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,838 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,838 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,838 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,838 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,838 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,838 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,838 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,838 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,838 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,840 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,840 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,840 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,840 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,840 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,840 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,840 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,842 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,842 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,842 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,842 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,842 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,842 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,843 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,843 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,845 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,845 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,845 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,845 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,845 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,845 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,845 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,845 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,845 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,845 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,845 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,845 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,846 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,847 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,847 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,848 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,848 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,848 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,848 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,848 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,848 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,848 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,848 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,848 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,848 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,848 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,851 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,851 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,851 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,852 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,852 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,852 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,852 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,852 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,852 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,853 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,853 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,853 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,854 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,854 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,854 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,854 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,854 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,854 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,855 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,855 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,855 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,855 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,856 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,856 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,856 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,856 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,856 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,856 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,856 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,856 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,856 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,856 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,856 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,856 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,859 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,859 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,859 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,860 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,860 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,861 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,861 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,861 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,861 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,861 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,861 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,861 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,861 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,862 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,862 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,863 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,863 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,863 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,863 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,863 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,863 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,863 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,863 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,863 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,863 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,865 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,865 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,865 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,866 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,866 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,866 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,866 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,866 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,866 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,866 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,866 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,866 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,866 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,869 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,869 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,870 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,870 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,870 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,870 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,870 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,870 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,870 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,870 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,870 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,870 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,870 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,871 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,871 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,871 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,871 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,873 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,873 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,873 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,873 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,873 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,875 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,875 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,875 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,877 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,877 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,877 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,877 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,877 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,878 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,878 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,878 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,878 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,878 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,878 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,878 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,879 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,879 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,879 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,879 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,880 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,880 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,880 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,880 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,880 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,880 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,881 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,881 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,881 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,883 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,883 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,883 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,883 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,883 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,883 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,883 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,883 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,883 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,883 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,883 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,883 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,883 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,883 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,883 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,886 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,886 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,886 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,887 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,887 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,887 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,887 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,888 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,888 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,888 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,890 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,890 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,890 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,890 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,890 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,890 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,890 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,890 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,890 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,890 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,890 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,890 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,890 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,890 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,890 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,893 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,893 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,894 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,894 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,894 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,894 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,895 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,895 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,895 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,895 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,896 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,896 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,897 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,897 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,897 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,898 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,898 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,898 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,898 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,898 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,898 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,898 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,898 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,898 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,898 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,900 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,900 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,900 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,900 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,900 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,900 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,900 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,901 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,901 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,901 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,903 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,903 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,903 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,903 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,903 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,903 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,903 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,904 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,904 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,904 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,904 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,904 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,904 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,904 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,905 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,906 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,906 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,906 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,906 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,906 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,906 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,906 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,908 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,908 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,908 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,910 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,910 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,910 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,910 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,910 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,910 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,910 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,910 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,910 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,910 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,910 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,910 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,911 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,911 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,911 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,913 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,913 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,914 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,914 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,914 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,914 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,914 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,915 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,915 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,915 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,915 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,915 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,915 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,915 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,915 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,915 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,918 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,918 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,918 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,918 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,918 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,918 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,918 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,919 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,919 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,920 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,920 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,920 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,920 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,920 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,920 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,921 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,921 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,921 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,921 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,923 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,923 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,923 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,923 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,924 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,924 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,924 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,924 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,924 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,924 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,924 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,924 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,925 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,925 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,925 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,926 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,926 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,927 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,927 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,927 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,927 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,927 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,928 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,928 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,928 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,929 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,929 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,929 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,930 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,930 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,930 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,930 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,930 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,930 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,930 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,930 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,930 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,931 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,931 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,931 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,933 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,933 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,934 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,934 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,934 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,934 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,934 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,935 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,935 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,935 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,937 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,937 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,937 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,937 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,938 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,938 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,938 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,938 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,938 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,938 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,938 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,938 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,939 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,939 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,939 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,940 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,940 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,940 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,940 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,941 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,941 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,941 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,942 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,942 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,942 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,944 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,944 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,944 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,944 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,944 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,944 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,945 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,945 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,945 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,945 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,945 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,945 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,946 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,946 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,946 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,947 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,947 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,947 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,948 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,948 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,948 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,948 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,948 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,948 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,949 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,949 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,949 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,949 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,949 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,951 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,951 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,951 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,951 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,951 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,951 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,951 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,951 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,953 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,953 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,953 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,954 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,954 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,954 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,954 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,955 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,955 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,955 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,955 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,955 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,956 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,958 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,958 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,958 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,958 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,958 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,958 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,959 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,959 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,959 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,959 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,959 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,959 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,960 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,960 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,960 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,961 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,961 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,961 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,962 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,962 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,962 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,962 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,962 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,963 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,963 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,964 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,964 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,964 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,964 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,964 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,965 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,965 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,965 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,965 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,965 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,965 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,965 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,966 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,966 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,966 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,968 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,968 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,969 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,969 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,969 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,969 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,969 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,970 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,970 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,970 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,971 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,971 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,971 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,971 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,971 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,971 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,971 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,971 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,971 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,971 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,971 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,972 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,972 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,972 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,972 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,974 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,974 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,974 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,974 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,974 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,974 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,974 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,976 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,976 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,976 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,977 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,977 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,977 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,978 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,978 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,978 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,978 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,978 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,978 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,978 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,978 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,978 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,979 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,979 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,979 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,980 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,980 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,980 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,980 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,981 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,981 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,981 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,981 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,981 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,982 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,983 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,983 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,983 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,983 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,983 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,984 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,984 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,984 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,984 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,984 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,984 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,984 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,985 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,985 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,985 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,986 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,986 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,986 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,986 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,986 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,986 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,986 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,987 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,987 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,987 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,988 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,988 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,988 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,988 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,988 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,988 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,988 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,988 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,988 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,988 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,990 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,990 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,990 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,990 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,991 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,992 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,992 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,992 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,992 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,992 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,993 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,993 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,993 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,993 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,994 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:08,995 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,995 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:08,995 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,995 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:08,995 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:08,995 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:08,996 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,996 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:08,996 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:08,996 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:08,996 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:08,996 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:08,997 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,997 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:08,997 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:08,998 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,998 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:08,998 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,998 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:08,998 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:08,998 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:08,998 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,999 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:08,999 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:08,999 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,000 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,000 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,000 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,002 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,002 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,002 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,002 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,002 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,002 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,002 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,002 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,002 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,003 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,003 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,003 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,004 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,004 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,004 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,004 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,004 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,004 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,004 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,005 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,005 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,005 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,007 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,007 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,007 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,007 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,007 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,008 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,008 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,008 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,008 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,008 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,008 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,008 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,009 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,009 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,009 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,010 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,010 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,011 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,011 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,011 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,011 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,011 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,012 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,012 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,012 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,013 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,013 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,013 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,013 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,014 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,014 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,014 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,014 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,014 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,014 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,014 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,014 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,015 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,015 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,015 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,017 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,017 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,017 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,017 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,017 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,017 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,017 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,018 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,018 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,018 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,019 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,019 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,020 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,020 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,020 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,020 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,020 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,020 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,020 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,020 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,020 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,020 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,021 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,021 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,021 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,023 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,023 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,023 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,023 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,023 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,023 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,023 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,024 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,024 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,024 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,026 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,026 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,026 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,026 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,026 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,026 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,027 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,027 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,027 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,027 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,027 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,027 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,027 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,028 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,028 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,029 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,029 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,029 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,029 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,029 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,029 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,029 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,030 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,030 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,030 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,031 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,031 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,032 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,032 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,032 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,032 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,032 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,032 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,032 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,032 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,032 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,032 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,033 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,033 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,033 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,035 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,035 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,035 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,035 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,035 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,035 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,035 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,036 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,036 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,036 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,038 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,038 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,038 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,038 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,038 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,039 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,039 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,039 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,039 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,039 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,039 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,039 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,040 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,040 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,040 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,041 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,041 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,041 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,042 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,042 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,042 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,042 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,043 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,043 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,043 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,044 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,044 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,044 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,044 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,045 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,045 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,045 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,045 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,045 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,045 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,045 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,045 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,046 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,046 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,046 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,047 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,047 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,047 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,047 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,047 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,047 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,047 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,049 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,049 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,049 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,050 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,051 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,051 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,051 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,051 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,051 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,051 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,052 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,052 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,052 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,052 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,052 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,052 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,053 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,053 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,054 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,054 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,054 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,054 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,054 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,054 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,054 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,055 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,055 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,055 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,056 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,056 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,056 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,056 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,057 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,057 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,057 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,057 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,057 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,057 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,057 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,057 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,058 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,058 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,058 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,059 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,059 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,059 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,059 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,059 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,059 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,061 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,061 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,061 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,061 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,062 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,062 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,062 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,063 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,063 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,063 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,063 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,063 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,063 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,063 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,063 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,063 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,064 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,064 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,064 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,065 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,065 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,065 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,066 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,066 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,066 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,066 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,067 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,067 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,067 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,069 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,069 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,069 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,069 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,069 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,069 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,069 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,070 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,070 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,070 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,070 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,070 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,070 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,070 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,071 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,072 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,072 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,072 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,072 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,072 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,072 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,073 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,073 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,073 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,073 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,075 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,075 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,075 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,075 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,075 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,075 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,076 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,076 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,076 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,076 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,076 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,076 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,077 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,077 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,077 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,078 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,078 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,078 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,078 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,078 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,078 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,078 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,080 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,080 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,080 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,081 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,081 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,082 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,082 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,082 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,082 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,082 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,082 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,082 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,082 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,082 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,082 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,083 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,083 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,083 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,085 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,085 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,085 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,085 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,085 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,085 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,085 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,086 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,086 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,086 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,087 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,087 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,088 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,088 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,088 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,088 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,088 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,088 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,088 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,088 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,088 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,088 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,089 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,089 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,089 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,090 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,090 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,090 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,090 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,090 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,090 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,090 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,091 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,091 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,091 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,093 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,093 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,093 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,093 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,093 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,093 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,093 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,093 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,093 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,095 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,095 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,095 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,095 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,095 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,095 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,095 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,096 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,096 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,096 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,096 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,096 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,096 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,097 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,097 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,097 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,099 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,099 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,099 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,099 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,099 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,100 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,100 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,100 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,100 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,100 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,100 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,100 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,101 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,101 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,101 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,102 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,102 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,102 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,102 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,102 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,102 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,102 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,103 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,103 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 18:19:09,103 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 18:19:09,105 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,105 [INFO] fortress_director.codeaware.function_registry: Validating function call: adjust_metric
2025-10-27 18:19:09,105 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,105 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=adjust_metric)
2025-10-27 18:19:09,105 [INFO] fortress_director.codeaware.function_registry: Getting registered function: adjust_metric
2025-10-27 18:19:09,105 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'adjust_metric'...
2025-10-27 18:19:09,106 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,106 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 18:19:09,106 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'order': current=100, delta=1, limits=(0, 100) (cause=adjust_metric:order)
2025-10-27 18:19:09,106 [DEBUG] fortress_director.utils.metrics_manager: Clamped metric value from 101 to 100 within bounds (0, 100)
2025-10-27 18:19:09,106 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'order', 'delta': 0, 'value': 100, 'cause': 'adjust_metric:order'}
2025-10-27 18:19:09,106 [INFO] fortress_director.utils.metrics_manager: Metric 'order' updated from 100 to 100 (cause=adjust_metric:order)
2025-10-27 18:19:09,106 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,107 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed successfully.
2025-10-27 18:19:09,107 [INFO] fortress_director.codeaware.rollback_system: Safe function 'adjust_metric' executed (checkpoint turn=14)
2025-10-27 18:19:09,108 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,108 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 18:19:09,108 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:19:09,108 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 18:19:09,109 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 18:19:09,109 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 18:19:09,109 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:55:50,897 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 18:55:50,903 [INFO] fortress_director.codeaware.function_registry: Registering safe function: change_weather
2025-10-27 18:55:50,904 [INFO] fortress_director.codeaware.function_registry: Safe function 'change_weather' registered successfully.
2025-10-27 18:55:50,904 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_item
2025-10-27 18:55:50,904 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_item' registered successfully.
2025-10-27 18:55:50,904 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_npc
2025-10-27 18:55:50,905 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_npc' registered successfully.
2025-10-27 18:55:50,905 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_logic
2025-10-27 18:55:50,905 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_logic' registered successfully.
2025-10-27 18:55:50,905 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_emotion
2025-10-27 18:55:50,905 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_emotion' registered successfully.
2025-10-27 18:55:50,906 [INFO] fortress_director.codeaware.function_registry: Registering safe function: raise_corruption
2025-10-27 18:55:50,906 [INFO] fortress_director.codeaware.function_registry: Safe function 'raise_corruption' registered successfully.
2025-10-27 18:55:50,906 [INFO] fortress_director.codeaware.function_registry: Registering safe function: advance_turn
2025-10-27 18:55:50,906 [INFO] fortress_director.codeaware.function_registry: Safe function 'advance_turn' registered successfully.
2025-10-27 18:55:50,906 [INFO] fortress_director.codeaware.function_registry: Registering safe function: modify_resources
2025-10-27 18:55:50,907 [INFO] fortress_director.codeaware.function_registry: Safe function 'modify_resources' registered successfully.
2025-10-27 18:55:50,907 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_metric
2025-10-27 18:55:50,907 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_metric' registered successfully.
2025-10-27 18:55:50,907 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_room
2025-10-27 18:55:50,907 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_room' registered successfully.
2025-10-27 18:55:50,908 [INFO] fortress_director.codeaware.function_registry: Registering safe function: apply_glitch_memory_noise
2025-10-27 18:55:50,908 [INFO] fortress_director.codeaware.function_registry: Safe function 'apply_glitch_memory_noise' registered successfully.
2025-10-27 18:55:50,908 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_duplicated_event
2025-10-27 18:55:50,908 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_duplicated_event' registered successfully.
2025-10-27 18:55:50,908 [INFO] fortress_director.codeaware.function_registry: Registering safe function: create_npc
2025-10-27 18:55:50,908 [INFO] fortress_director.codeaware.function_registry: Safe function 'create_npc' registered successfully.
2025-10-27 18:55:50,909 [INFO] fortress_director.codeaware.function_registry: Registering safe function: play_sound
2025-10-27 18:55:50,909 [INFO] fortress_director.codeaware.function_registry: Safe function 'play_sound' registered successfully.
2025-10-27 18:55:50,909 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:55:50,909 [INFO] fortress_director.codeaware.function_registry: Validating function call: spawn_duplicated_event
2025-10-27 18:56:51,189 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 18:56:51,195 [INFO] fortress_director.codeaware.function_registry: Registering safe function: change_weather
2025-10-27 18:56:51,195 [INFO] fortress_director.codeaware.function_registry: Safe function 'change_weather' registered successfully.
2025-10-27 18:56:51,195 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_item
2025-10-27 18:56:51,195 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_item' registered successfully.
2025-10-27 18:56:51,197 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_npc
2025-10-27 18:56:51,197 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_npc' registered successfully.
2025-10-27 18:56:51,197 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_logic
2025-10-27 18:56:51,197 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_logic' registered successfully.
2025-10-27 18:56:51,197 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_emotion
2025-10-27 18:56:51,198 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_emotion' registered successfully.
2025-10-27 18:56:51,198 [INFO] fortress_director.codeaware.function_registry: Registering safe function: raise_corruption
2025-10-27 18:56:51,198 [INFO] fortress_director.codeaware.function_registry: Safe function 'raise_corruption' registered successfully.
2025-10-27 18:56:51,198 [INFO] fortress_director.codeaware.function_registry: Registering safe function: advance_turn
2025-10-27 18:56:51,198 [INFO] fortress_director.codeaware.function_registry: Safe function 'advance_turn' registered successfully.
2025-10-27 18:56:51,198 [INFO] fortress_director.codeaware.function_registry: Registering safe function: modify_resources
2025-10-27 18:56:51,199 [INFO] fortress_director.codeaware.function_registry: Safe function 'modify_resources' registered successfully.
2025-10-27 18:56:51,199 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_metric
2025-10-27 18:56:51,199 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_metric' registered successfully.
2025-10-27 18:56:51,199 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_room
2025-10-27 18:56:51,199 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_room' registered successfully.
2025-10-27 18:56:51,199 [INFO] fortress_director.codeaware.function_registry: Registering safe function: apply_glitch_memory_noise
2025-10-27 18:56:51,199 [INFO] fortress_director.codeaware.function_registry: Safe function 'apply_glitch_memory_noise' registered successfully.
2025-10-27 18:56:51,200 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_duplicated_event
2025-10-27 18:56:51,200 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_duplicated_event' registered successfully.
2025-10-27 18:56:51,200 [INFO] fortress_director.codeaware.function_registry: Registering safe function: create_npc
2025-10-27 18:56:51,200 [INFO] fortress_director.codeaware.function_registry: Safe function 'create_npc' registered successfully.
2025-10-27 18:56:51,200 [INFO] fortress_director.codeaware.function_registry: Registering safe function: play_sound
2025-10-27 18:56:51,201 [INFO] fortress_director.codeaware.function_registry: Safe function 'play_sound' registered successfully.
2025-10-27 18:56:51,201 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:56:51,201 [INFO] fortress_director.codeaware.function_registry: Validating function call: spawn_duplicated_event
2025-10-27 18:56:51,201 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:56:51,201 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=spawn_duplicated_event)
2025-10-27 18:56:51,202 [INFO] fortress_director.codeaware.function_registry: Getting registered function: spawn_duplicated_event
2025-10-27 18:56:51,202 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'spawn_duplicated_event'...
2025-10-27 18:56:51,202 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:56:51,203 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 18:56:51,203 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_duplicated_event' executed successfully.
2025-10-27 18:56:51,203 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_duplicated_event' executed (checkpoint turn=14)
2025-10-27 18:56:51,204 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 19:24:57,329 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 19:24:57,335 [INFO] fortress_director.codeaware.function_registry: Registering safe function: change_weather
2025-10-27 19:24:57,335 [INFO] fortress_director.codeaware.function_registry: Safe function 'change_weather' registered successfully.
2025-10-27 19:24:57,335 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_item
2025-10-27 19:24:57,335 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_item' registered successfully.
2025-10-27 19:24:57,337 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_npc
2025-10-27 19:24:57,337 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_npc' registered successfully.
2025-10-27 19:24:57,338 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_logic
2025-10-27 19:24:57,338 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_logic' registered successfully.
2025-10-27 19:24:57,338 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_emotion
2025-10-27 19:24:57,338 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_emotion' registered successfully.
2025-10-27 19:24:57,338 [INFO] fortress_director.codeaware.function_registry: Registering safe function: raise_corruption
2025-10-27 19:24:57,338 [INFO] fortress_director.codeaware.function_registry: Safe function 'raise_corruption' registered successfully.
2025-10-27 19:24:57,339 [INFO] fortress_director.codeaware.function_registry: Registering safe function: advance_turn
2025-10-27 19:24:57,339 [INFO] fortress_director.codeaware.function_registry: Safe function 'advance_turn' registered successfully.
2025-10-27 19:24:57,339 [INFO] fortress_director.codeaware.function_registry: Registering safe function: modify_resources
2025-10-27 19:24:57,339 [INFO] fortress_director.codeaware.function_registry: Safe function 'modify_resources' registered successfully.
2025-10-27 19:24:57,339 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_metric
2025-10-27 19:24:57,340 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_metric' registered successfully.
2025-10-27 19:24:57,340 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_room
2025-10-27 19:24:57,340 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_room' registered successfully.
2025-10-27 19:24:57,340 [INFO] fortress_director.codeaware.function_registry: Registering safe function: apply_glitch_memory_noise
2025-10-27 19:24:57,340 [INFO] fortress_director.codeaware.function_registry: Safe function 'apply_glitch_memory_noise' registered successfully.
2025-10-27 19:24:57,340 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_duplicated_event
2025-10-27 19:24:57,341 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_duplicated_event' registered successfully.
2025-10-27 19:24:57,341 [INFO] fortress_director.codeaware.function_registry: Registering safe function: create_npc
2025-10-27 19:24:57,341 [INFO] fortress_director.codeaware.function_registry: Safe function 'create_npc' registered successfully.
2025-10-27 19:24:57,341 [INFO] fortress_director.codeaware.function_registry: Registering safe function: play_sound
2025-10-27 19:24:57,341 [INFO] fortress_director.codeaware.function_registry: Safe function 'play_sound' registered successfully.
2025-10-27 19:24:57,342 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 19:24:57,342 [INFO] fortress_director.codeaware.function_registry: Validating function call: spawn_duplicated_event
2025-10-27 19:24:57,342 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 19:24:57,342 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=spawn_duplicated_event)
2025-10-27 19:24:57,343 [INFO] fortress_director.codeaware.function_registry: Getting registered function: spawn_duplicated_event
2025-10-27 19:24:57,343 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'spawn_duplicated_event'...
2025-10-27 19:24:57,343 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 19:24:57,344 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 19:24:57,344 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_duplicated_event' executed successfully.
2025-10-27 19:24:57,345 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_duplicated_event' executed (checkpoint turn=14)
2025-10-27 19:24:57,346 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 19:29:48,240 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 19:29:48,242 [INFO] fortress_director.codeaware.function_registry: Registering safe function: change_weather
2025-10-27 19:29:48,242 [INFO] fortress_director.codeaware.function_registry: Safe function 'change_weather' registered successfully.
2025-10-27 19:29:48,242 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_item
2025-10-27 19:29:48,242 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_item' registered successfully.
2025-10-27 19:29:48,242 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_npc
2025-10-27 19:29:48,242 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_npc' registered successfully.
2025-10-27 19:29:48,242 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_logic
2025-10-27 19:29:48,243 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_logic' registered successfully.
2025-10-27 19:29:48,243 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_emotion
2025-10-27 19:29:48,243 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_emotion' registered successfully.
2025-10-27 19:29:48,243 [INFO] fortress_director.codeaware.function_registry: Registering safe function: raise_corruption
2025-10-27 19:29:48,243 [INFO] fortress_director.codeaware.function_registry: Safe function 'raise_corruption' registered successfully.
2025-10-27 19:29:48,243 [INFO] fortress_director.codeaware.function_registry: Registering safe function: advance_turn
2025-10-27 19:29:48,243 [INFO] fortress_director.codeaware.function_registry: Safe function 'advance_turn' registered successfully.
2025-10-27 19:29:48,244 [INFO] fortress_director.codeaware.function_registry: Registering safe function: modify_resources
2025-10-27 19:29:48,244 [INFO] fortress_director.codeaware.function_registry: Safe function 'modify_resources' registered successfully.
2025-10-27 19:29:48,244 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_metric
2025-10-27 19:29:48,244 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_metric' registered successfully.
2025-10-27 19:29:48,244 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_room
2025-10-27 19:29:48,244 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_room' registered successfully.
2025-10-27 19:29:48,244 [INFO] fortress_director.codeaware.function_registry: Registering safe function: apply_glitch_memory_noise
2025-10-27 19:29:48,244 [INFO] fortress_director.codeaware.function_registry: Safe function 'apply_glitch_memory_noise' registered successfully.
2025-10-27 19:29:48,244 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_duplicated_event
2025-10-27 19:29:48,244 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_duplicated_event' registered successfully.
2025-10-27 19:29:48,245 [INFO] fortress_director.codeaware.function_registry: Registering safe function: create_npc
2025-10-27 19:29:48,245 [INFO] fortress_director.codeaware.function_registry: Safe function 'create_npc' registered successfully.
2025-10-27 19:29:48,245 [INFO] fortress_director.codeaware.function_registry: Registering safe function: play_sound
2025-10-27 19:29:48,245 [INFO] fortress_director.codeaware.function_registry: Safe function 'play_sound' registered successfully.
2025-10-27 19:29:48,245 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 19:29:48,245 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 19:29:48,245 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 19:29:48,245 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=None)
2025-10-27 19:29:48,247 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 19:29:48,247 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 19:29:48,247 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 14, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player"], "inventory": [], "lore": {}, "memory_layers": ["Turn 11: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her ...
2025-10-27 19:29:48,247 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 19:29:48,247 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 19:29:48,247 [INFO] fortress_director.utils.glitch_manager: Game finalized, skipping glitch resolution
2025-10-27 19:29:48,247 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=0, triggered_loss=False
2025-10-27 19:29:48,247 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 19:29:48,247 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=33, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 19:29:48,247 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 32, 'cause': 'turn_recovery'}
2025-10-27 19:29:48,247 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 33 to 32 (cause=turn_recovery)
2025-10-27 19:29:48,247 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 19:29:48,247 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 19:29:48,247 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 14 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "humid", "sensory_details": "The air grows humid and heavy."}
Recent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Shieldbearer trusts the player deeply
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 19:29:48,248 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 14 in room entrance
2025-10-27 19:29:48,248 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 14 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"humid\", \"sensory_details\": \"The air grows humid and heavy.\"}\nRecent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her...
2025-10-27 19:29:48,248 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 19:29:48,248 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 14 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "humid", "sensory_details": "The air grows humid and heavy."}\nRecent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Shieldbearer trusts the player deeply\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': [], 'metrics': {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 19:29:48,248 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 19:29:48,248 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 19:29:48,248 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 19:29:48,249 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 19:29:48,249 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 14 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"humid\", \"sensory_details\": \"The air grows humid and heavy.\"}\nRecent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her...
2025-10-27 19:29:48,249 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 19:29:48,249 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 14 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "humid", "sensory_details": "The air grows humid and heavy."}\nRecent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Shieldbearer trusts the player deeply\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'world_constraint_from_prev_turn': '{"atmosphere": "humid", "sensory_details": "The air grows humid and heavy."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 11: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 12: You ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Memory summary: Turn 10: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 11: You ask the Shieldbeare...', 'Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...']}
2025-10-27 19:29:48,250 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]}
2025-10-27 19:29:48,250 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}], 'metric_delta': {}}
2025-10-27 19:29:48,250 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 19:29:48,250 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}, {"action_type": "support", "id": "opt_2", "text": "Signal the keep for additional lantern oil."}, {"action_type": "observe", "id": "opt_3", "text": "Quietly observe the storm's strange rhythm."}], "safe_functions": [{"kwargs": {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}, "metadata": {"origin": "event_stub"}, "name": "change_weather"}], "scene": "Storm clouds gather over the western wall as watch f...
2025-10-27 19:29:48,250 [INFO] fortress_director.orchestrator.orchestrator: Applying safe functions from event: [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]
2025-10-27 19:29:48,250 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 19:29:48,250 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 19:29:48,250 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 19:29:48,250 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=14, call=change_weather)
2025-10-27 19:29:48,250 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 19:29:48,250 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 19:29:48,252 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 19:29:48,252 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=14)
2025-10-27 19:29:48,252 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 19:29:48,252 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=14)
2025-10-27 19:29:48,253 [DEBUG] fortress_director.orchestrator.orchestrator: Applied safe function: {'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}
2025-10-27 19:29:48,253 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after safe functions: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 19:29:48,253 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 19:29:48,254 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], player_choice_id=None)
2025-10-27 19:29:48,254 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 19:29:48,254 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'})
2025-10-27 19:29:48,254 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 19:29:48,254 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}
2025-10-27 19:29:48,254 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'command'
2025-10-27 19:29:48,254 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 14 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"humid\", \"sensory_details\": \"The air grows humid and heavy.\"}\nRecent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her...
2025-10-27 19:29:48,254 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 19:29:48,254 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 14 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "humid", "sensory_details": "The air grows humid and heavy."}\nRecent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Shieldbearer trusts the player deeply\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'Storm clouds gather over the western wall as watch fires hiss.', 'player_choice': 'Rally the nearby scouts to reinforce the gate.', 'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player; Shieldbearer trusts the player deeply', 'player_inventory_brief': 'oil lamp, patched shield', 'memory_layers': ['Turn 11: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 12: You ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Memory summary: Turn 10: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 11: You ask the Shieldbeare...', 'Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...']}
2025-10-27 19:29:48,255 [DEBUG] fortress_director.agents.character_agent: Model returned: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 19:29:48,255 [INFO] fortress_director.agents.character_agent: Normalized output (list): [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 19:29:48,255 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 19:29:48,255 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 19:29:48,255 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 19:29:48,256 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 19:29:48,256 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 19:29:48,256 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 19:29:48,256 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 19:29:48,256 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 14, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player'], 'memory_layers': ['Turn 11: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 12: You ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Memory summary: Turn 10: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 11: You ask the Shieldbeare...', 'Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 14, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', '[DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', '[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'humid', 'sensory_details': 'The air grows humid and heavy.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Shieldbearer trusts the player deeply', 'metrics': {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 0, 'Shieldbearer': 3}, 'finalized': True, 'demo_mode': True, 'status_effects': [{'type': 'duplicated_event', 'template_id': 'tmpl_test', 'ttl': 1}, {'type': 'duplicated_event', 'template_id': 'tmpl_test', 'ttl': 1}]}
2025-10-27 19:29:48,256 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 19:29:48,256 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 14 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "humid", "sensory_details": "The air grows humid and heavy."}
Recent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Shieldbearer trusts the player deeply
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: Storm clouds gather over the western wall as watch fires hiss., player_choice: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 19:29:48,256 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 19:29:48,256 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}
2025-10-27 19:29:48,256 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 19:29:54,783 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': "The content is consistent with established world, lore, and character logic. The Shieldbearer's actions align with her role as a defender at the entrance."}
2025-10-27 19:29:54,783 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 19:29:54,783 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'trust_delta': 1, 'flag_set': ['storm_vigil']}
2025-10-27 19:29:54,783 [INFO] fortress_director.rules.rules_engine: Trust updated for Rhea: 0 -> 1 (delta: 1)
2025-10-27 19:29:54,783 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea trusts the player; Shieldbearer trusts the player deeply
2025-10-27 19:29:54,783 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 19:29:54,783 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 14, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil'], 'memory_layers': ['Turn 11: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 12: You ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Memory summary: Turn 10: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 11: You ask the Shieldbeare...', 'Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 14, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', '[DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', '[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'humid', 'sensory_details': 'The air grows humid and heavy.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Shieldbearer trusts the player deeply', 'metrics': {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 1, 'Shieldbearer': 3}, 'finalized': True, 'demo_mode': True, 'status_effects': [{'type': 'duplicated_event', 'template_id': 'tmpl_test', 'ttl': 1}, {'type': 'duplicated_event', 'template_id': 'tmpl_test', 'ttl': 1}]}
2025-10-27 19:29:54,783 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=15)
2025-10-27 19:29:54,783 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 19:29:54,783 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 19:29:54,783 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 15, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil"], "inventory": [], "lore": {}, "memory_layers": ["Memory summary: Turn 10: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, g...
2025-10-27 19:29:54,783 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 15: {'Rhea': {'old': 1, 'new': 0}, 'Shieldbearer': {'old': 3, 'new': 2}}
2025-10-27 19:29:54,783 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Rhea': {'old': 1, 'new': 0}, 'Shieldbearer': {'old': 3, 'new': 2}}
2025-10-27 19:29:54,783 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:29:54,783 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 19:29:54,783 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:29:54,783 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 19:29:54,783 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:29:54,783 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=15, call=change_weather)
2025-10-27 19:29:54,783 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 19:29:54,783 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 19:29:54,783 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:29:54,783 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:29:54,783 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 19:29:54,783 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=15)
2025-10-27 19:29:54,783 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:29:54,783 [INFO] fortress_director.codeaware.function_registry: Validating function call: spawn_item
2025-10-27 19:29:54,783 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:29:54,783 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=15, call=spawn_item)
2025-10-27 19:29:54,783 [INFO] fortress_director.codeaware.function_registry: Getting registered function: spawn_item
2025-10-27 19:29:54,783 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'spawn_item'...
2025-10-27 19:29:54,789 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:29:54,790 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:29:54,790 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed successfully.
2025-10-27 19:29:54,790 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed (checkpoint turn=15)
2025-10-27 19:29:54,791 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 19:29:54,791 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:29:54,791 [INFO] fortress_director.orchestrator.orchestrator: Weather changed via safe function, re-describing world...
2025-10-27 19:29:54,791 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 15 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Shieldbearer trusts the player deeply\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance'}
2025-10-27 19:29:54,791 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 19:29:54,791 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 19:29:54,792 [INFO] fortress_director.orchestrator.orchestrator: World re-described after safe function.
2025-10-27 19:29:54,792 [DEBUG] fortress_director.orchestrator.orchestrator: New world output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 19:29:54,792 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 19:29:54,792 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 19:29:54,792 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=15/10) with metrics={'order': 100, 'morale': 45, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 19:29:54,792 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 19:29:54,793 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 19:29:54,793 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:29:54,793 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 19:29:54,793 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 19:29:54,794 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 14 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"humid\", \"sensory_details\": \"The air grows humid and heavy.\"}\nRecent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her...
2025-10-27 19:29:54,794 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 19:29:54,794 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 19:52:42,929 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 19:52:42,931 [INFO] fortress_director.codeaware.function_registry: Registering safe function: change_weather
2025-10-27 19:52:42,931 [INFO] fortress_director.codeaware.function_registry: Safe function 'change_weather' registered successfully.
2025-10-27 19:52:42,932 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_item
2025-10-27 19:52:42,932 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_item' registered successfully.
2025-10-27 19:52:42,932 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_npc
2025-10-27 19:52:42,932 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_npc' registered successfully.
2025-10-27 19:52:42,933 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_logic
2025-10-27 19:52:42,933 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_logic' registered successfully.
2025-10-27 19:52:42,933 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_emotion
2025-10-27 19:52:42,933 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_emotion' registered successfully.
2025-10-27 19:52:42,934 [INFO] fortress_director.codeaware.function_registry: Registering safe function: raise_corruption
2025-10-27 19:52:42,934 [INFO] fortress_director.codeaware.function_registry: Safe function 'raise_corruption' registered successfully.
2025-10-27 19:52:42,934 [INFO] fortress_director.codeaware.function_registry: Registering safe function: advance_turn
2025-10-27 19:52:42,934 [INFO] fortress_director.codeaware.function_registry: Safe function 'advance_turn' registered successfully.
2025-10-27 19:52:42,935 [INFO] fortress_director.codeaware.function_registry: Registering safe function: modify_resources
2025-10-27 19:52:42,935 [INFO] fortress_director.codeaware.function_registry: Safe function 'modify_resources' registered successfully.
2025-10-27 19:52:42,935 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_metric
2025-10-27 19:52:42,935 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_metric' registered successfully.
2025-10-27 19:52:42,936 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_room
2025-10-27 19:52:42,936 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_room' registered successfully.
2025-10-27 19:52:42,936 [INFO] fortress_director.codeaware.function_registry: Registering safe function: apply_glitch_memory_noise
2025-10-27 19:52:42,936 [INFO] fortress_director.codeaware.function_registry: Safe function 'apply_glitch_memory_noise' registered successfully.
2025-10-27 19:52:42,936 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_duplicated_event
2025-10-27 19:52:42,937 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_duplicated_event' registered successfully.
2025-10-27 19:52:42,937 [INFO] fortress_director.codeaware.function_registry: Registering safe function: create_npc
2025-10-27 19:52:42,937 [INFO] fortress_director.codeaware.function_registry: Safe function 'create_npc' registered successfully.
2025-10-27 19:52:42,937 [INFO] fortress_director.codeaware.function_registry: Registering safe function: play_sound
2025-10-27 19:52:42,937 [INFO] fortress_director.codeaware.function_registry: Safe function 'play_sound' registered successfully.
2025-10-27 19:52:42,938 [INFO] fortress_director.codeaware.function_registry: Registering safe function: set_precipitation
2025-10-27 19:52:42,938 [INFO] fortress_director.codeaware.function_registry: Safe function 'set_precipitation' registered successfully.
2025-10-27 19:52:42,938 [INFO] fortress_director.codeaware.function_registry: Registering safe function: npc_speak
2025-10-27 19:52:42,938 [INFO] fortress_director.codeaware.function_registry: Safe function 'npc_speak' registered successfully.
2025-10-27 19:52:42,938 [INFO] fortress_director.codeaware.function_registry: Registering safe function: affect_npc_trust
2025-10-27 19:52:42,939 [INFO] fortress_director.codeaware.function_registry: Safe function 'affect_npc_trust' registered successfully.
2025-10-27 19:52:42,939 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,939 [INFO] fortress_director.codeaware.function_registry: Validating function call: set_precipitation
2025-10-27 19:52:42,939 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,939 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=15, call=set_precipitation)
2025-10-27 19:52:42,939 [INFO] fortress_director.codeaware.function_registry: Getting registered function: set_precipitation
2025-10-27 19:52:42,939 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'set_precipitation'...
2025-10-27 19:52:42,940 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,941 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,941 [INFO] fortress_director.orchestrator.orchestrator: Precipitation set: rain (intensity=3)
2025-10-27 19:52:42,941 [INFO] fortress_director.codeaware.rollback_system: Safe function 'set_precipitation' executed successfully.
2025-10-27 19:52:42,941 [INFO] fortress_director.codeaware.rollback_system: Safe function 'set_precipitation' executed (checkpoint turn=15)
2025-10-27 19:52:42,943 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,943 [INFO] fortress_director.codeaware.function_registry: Validating function call: npc_speak
2025-10-27 19:52:42,944 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,944 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=15, call=npc_speak)
2025-10-27 19:52:42,944 [INFO] fortress_director.codeaware.function_registry: Getting registered function: npc_speak
2025-10-27 19:52:42,944 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'npc_speak'...
2025-10-27 19:52:42,944 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,945 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,945 [INFO] fortress_director.orchestrator.orchestrator: NPC Rhea spoke: It is raining today.
2025-10-27 19:52:42,946 [INFO] fortress_director.codeaware.rollback_system: Safe function 'npc_speak' executed successfully.
2025-10-27 19:52:42,946 [INFO] fortress_director.codeaware.rollback_system: Safe function 'npc_speak' executed (checkpoint turn=15)
2025-10-27 19:52:42,948 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,948 [INFO] fortress_director.codeaware.function_registry: Validating function call: affect_npc_trust
2025-10-27 19:52:42,948 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,948 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=15, call=affect_npc_trust)
2025-10-27 19:52:42,949 [INFO] fortress_director.codeaware.function_registry: Getting registered function: affect_npc_trust
2025-10-27 19:52:42,949 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'affect_npc_trust'...
2025-10-27 19:52:42,949 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,950 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,950 [INFO] fortress_director.orchestrator.orchestrator: NPC trust changed: Rhea 0->2
2025-10-27 19:52:42,951 [INFO] fortress_director.codeaware.rollback_system: Safe function 'affect_npc_trust' executed successfully.
2025-10-27 19:52:42,951 [INFO] fortress_director.codeaware.rollback_system: Safe function 'affect_npc_trust' executed (checkpoint turn=15)
2025-10-27 19:52:42,971 [INFO] fortress_director.codeaware.function_registry: Registering safe function: change_weather
2025-10-27 19:52:42,972 [INFO] fortress_director.codeaware.function_registry: Safe function 'change_weather' registered successfully.
2025-10-27 19:52:42,972 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_item
2025-10-27 19:52:42,972 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_item' registered successfully.
2025-10-27 19:52:42,972 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_npc
2025-10-27 19:52:42,972 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_npc' registered successfully.
2025-10-27 19:52:42,972 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_logic
2025-10-27 19:52:42,974 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_logic' registered successfully.
2025-10-27 19:52:42,974 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_emotion
2025-10-27 19:52:42,974 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_emotion' registered successfully.
2025-10-27 19:52:42,974 [INFO] fortress_director.codeaware.function_registry: Registering safe function: raise_corruption
2025-10-27 19:52:42,974 [INFO] fortress_director.codeaware.function_registry: Safe function 'raise_corruption' registered successfully.
2025-10-27 19:52:42,975 [INFO] fortress_director.codeaware.function_registry: Registering safe function: advance_turn
2025-10-27 19:52:42,975 [INFO] fortress_director.codeaware.function_registry: Safe function 'advance_turn' registered successfully.
2025-10-27 19:52:42,975 [INFO] fortress_director.codeaware.function_registry: Registering safe function: modify_resources
2025-10-27 19:52:42,975 [INFO] fortress_director.codeaware.function_registry: Safe function 'modify_resources' registered successfully.
2025-10-27 19:52:42,975 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_metric
2025-10-27 19:52:42,976 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_metric' registered successfully.
2025-10-27 19:52:42,976 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_room
2025-10-27 19:52:42,976 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_room' registered successfully.
2025-10-27 19:52:42,976 [INFO] fortress_director.codeaware.function_registry: Registering safe function: apply_glitch_memory_noise
2025-10-27 19:52:42,976 [INFO] fortress_director.codeaware.function_registry: Safe function 'apply_glitch_memory_noise' registered successfully.
2025-10-27 19:52:42,977 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_duplicated_event
2025-10-27 19:52:42,977 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_duplicated_event' registered successfully.
2025-10-27 19:52:42,977 [INFO] fortress_director.codeaware.function_registry: Registering safe function: create_npc
2025-10-27 19:52:42,977 [INFO] fortress_director.codeaware.function_registry: Safe function 'create_npc' registered successfully.
2025-10-27 19:52:42,978 [INFO] fortress_director.codeaware.function_registry: Registering safe function: play_sound
2025-10-27 19:52:42,978 [INFO] fortress_director.codeaware.function_registry: Safe function 'play_sound' registered successfully.
2025-10-27 19:52:42,978 [INFO] fortress_director.codeaware.function_registry: Registering safe function: set_precipitation
2025-10-27 19:52:42,978 [INFO] fortress_director.codeaware.function_registry: Safe function 'set_precipitation' registered successfully.
2025-10-27 19:52:42,978 [INFO] fortress_director.codeaware.function_registry: Registering safe function: npc_speak
2025-10-27 19:52:42,978 [INFO] fortress_director.codeaware.function_registry: Safe function 'npc_speak' registered successfully.
2025-10-27 19:52:42,979 [INFO] fortress_director.codeaware.function_registry: Registering safe function: affect_npc_trust
2025-10-27 19:52:42,979 [INFO] fortress_director.codeaware.function_registry: Safe function 'affect_npc_trust' registered successfully.
2025-10-27 19:52:42,979 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,979 [INFO] fortress_director.codeaware.function_registry: Validating function call: set_precipitation
2025-10-27 19:52:42,980 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,980 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=15, call=set_precipitation)
2025-10-27 19:52:42,980 [INFO] fortress_director.codeaware.function_registry: Getting registered function: set_precipitation
2025-10-27 19:52:42,980 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'set_precipitation'...
2025-10-27 19:52:42,981 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,982 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,982 [INFO] fortress_director.orchestrator.orchestrator: Precipitation set: rain (intensity=3)
2025-10-27 19:52:42,983 [INFO] fortress_director.codeaware.rollback_system: Safe function 'set_precipitation' executed successfully.
2025-10-27 19:52:42,983 [INFO] fortress_director.codeaware.rollback_system: Safe function 'set_precipitation' executed (checkpoint turn=15)
2025-10-27 19:52:42,984 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,985 [INFO] fortress_director.codeaware.function_registry: Validating function call: npc_speak
2025-10-27 19:52:42,985 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,985 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=15, call=npc_speak)
2025-10-27 19:52:42,985 [INFO] fortress_director.codeaware.function_registry: Getting registered function: npc_speak
2025-10-27 19:52:42,986 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'npc_speak'...
2025-10-27 19:52:42,986 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,987 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,987 [INFO] fortress_director.orchestrator.orchestrator: NPC Rhea spoke: It is raining today.
2025-10-27 19:52:42,987 [INFO] fortress_director.codeaware.rollback_system: Safe function 'npc_speak' executed successfully.
2025-10-27 19:52:42,987 [INFO] fortress_director.codeaware.rollback_system: Safe function 'npc_speak' executed (checkpoint turn=15)
2025-10-27 19:52:42,989 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,989 [INFO] fortress_director.codeaware.function_registry: Validating function call: affect_npc_trust
2025-10-27 19:52:42,990 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,990 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=15, call=affect_npc_trust)
2025-10-27 19:52:42,991 [INFO] fortress_director.codeaware.function_registry: Getting registered function: affect_npc_trust
2025-10-27 19:52:42,991 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'affect_npc_trust'...
2025-10-27 19:52:42,991 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,992 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 19:52:42,992 [INFO] fortress_director.orchestrator.orchestrator: NPC trust changed: Rhea 2->4
2025-10-27 19:52:42,993 [INFO] fortress_director.codeaware.rollback_system: Safe function 'affect_npc_trust' executed successfully.
2025-10-27 19:52:42,993 [INFO] fortress_director.codeaware.rollback_system: Safe function 'affect_npc_trust' executed (checkpoint turn=15)
2025-10-27 20:11:11,748 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 20:11:11,749 [INFO] fortress_director.codeaware.function_registry: Registering safe function: change_weather
2025-10-27 20:11:11,750 [INFO] fortress_director.codeaware.function_registry: Safe function 'change_weather' registered successfully.
2025-10-27 20:11:11,750 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_item
2025-10-27 20:11:11,751 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_item' registered successfully.
2025-10-27 20:11:11,751 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_npc
2025-10-27 20:11:11,752 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_npc' registered successfully.
2025-10-27 20:11:11,752 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_logic
2025-10-27 20:11:11,752 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_logic' registered successfully.
2025-10-27 20:11:11,753 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_emotion
2025-10-27 20:11:11,753 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_emotion' registered successfully.
2025-10-27 20:11:11,753 [INFO] fortress_director.codeaware.function_registry: Registering safe function: raise_corruption
2025-10-27 20:11:11,753 [INFO] fortress_director.codeaware.function_registry: Safe function 'raise_corruption' registered successfully.
2025-10-27 20:11:11,753 [INFO] fortress_director.codeaware.function_registry: Registering safe function: advance_turn
2025-10-27 20:11:11,754 [INFO] fortress_director.codeaware.function_registry: Safe function 'advance_turn' registered successfully.
2025-10-27 20:11:11,754 [INFO] fortress_director.codeaware.function_registry: Registering safe function: modify_resources
2025-10-27 20:11:11,754 [INFO] fortress_director.codeaware.function_registry: Safe function 'modify_resources' registered successfully.
2025-10-27 20:11:11,754 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_metric
2025-10-27 20:11:11,754 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_metric' registered successfully.
2025-10-27 20:11:11,755 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_room
2025-10-27 20:11:11,755 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_room' registered successfully.
2025-10-27 20:11:11,755 [INFO] fortress_director.codeaware.function_registry: Registering safe function: apply_glitch_memory_noise
2025-10-27 20:11:11,755 [INFO] fortress_director.codeaware.function_registry: Safe function 'apply_glitch_memory_noise' registered successfully.
2025-10-27 20:11:11,756 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_duplicated_event
2025-10-27 20:11:11,756 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_duplicated_event' registered successfully.
2025-10-27 20:11:11,756 [INFO] fortress_director.codeaware.function_registry: Registering safe function: create_npc
2025-10-27 20:11:11,756 [INFO] fortress_director.codeaware.function_registry: Safe function 'create_npc' registered successfully.
2025-10-27 20:11:11,756 [INFO] fortress_director.codeaware.function_registry: Registering safe function: play_sound
2025-10-27 20:11:11,757 [INFO] fortress_director.codeaware.function_registry: Safe function 'play_sound' registered successfully.
2025-10-27 20:11:11,757 [INFO] fortress_director.codeaware.function_registry: Registering safe function: start_rain
2025-10-27 20:11:11,757 [INFO] fortress_director.codeaware.function_registry: Safe function 'start_rain' registered successfully.
2025-10-27 20:11:11,757 [INFO] fortress_director.codeaware.function_registry: Registering safe function: stop_rain
2025-10-27 20:11:11,757 [INFO] fortress_director.codeaware.function_registry: Safe function 'stop_rain' registered successfully.
2025-10-27 20:11:11,758 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 20:11:11,758 [INFO] fortress_director.codeaware.function_registry: Validating function call: start_rain
2025-10-27 20:11:11,758 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 20:11:11,758 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=15, call=start_rain)
2025-10-27 20:11:11,758 [INFO] fortress_director.codeaware.function_registry: Getting registered function: start_rain
2025-10-27 20:11:11,759 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'start_rain'...
2025-10-27 20:11:11,759 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 20:11:11,760 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 20:11:11,760 [INFO] fortress_director.codeaware.rollback_system: Safe function 'start_rain' executed successfully.
2025-10-27 20:11:11,761 [INFO] fortress_director.codeaware.rollback_system: Safe function 'start_rain' executed (checkpoint turn=15)
2025-10-27 20:11:11,763 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 20:11:11,763 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 20:11:11,763 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 20:11:11,763 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=15, call=None)
2025-10-27 20:11:11,763 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 20:11:11,765 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=15)
2025-10-27 20:11:11,765 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 15, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil"], "inventory": [], "lore": {}, "memory_layers": ["Memory summary: Turn 10: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, g...
2025-10-27 20:11:11,765 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:11:11,765 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:11:11,765 [INFO] fortress_director.utils.glitch_manager: Game finalized, skipping glitch resolution
2025-10-27 20:11:11,765 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=0, triggered_loss=False
2025-10-27 20:11:11,765 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:11:11,766 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=32, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 20:11:11,766 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 31, 'cause': 'turn_recovery'}
2025-10-27 20:11:11,766 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 32 to 31 (cause=turn_recovery)
2025-10-27 20:11:11,766 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:11:11,766 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 20:11:11,766 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 15 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "steady rain", "sensory_details": "steady rain blankets the area; the ground darkens and the air smells of wet stone."}
Recent events: [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Shieldbearer trusts the player deeply
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 20:11:11,766 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 15 in room entrance
2025-10-27 20:11:11,767 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 15 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"steady rain\", \"sensory_details\": \"steady rain blankets the area; the ground darkens and the air smells of wet stone.\"}\nRecent events: [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_...
2025-10-27 20:11:11,767 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 20:11:11,767 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 15 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "steady rain", "sensory_details": "steady rain blankets the area; the ground darkens and the air smells of wet stone."}\nRecent events: [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Shieldbearer trusts the player deeply\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': [], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 20:11:19,245 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp; raindrops patter on the shield' enduringly."}
2025-10-27 20:11:19,245 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}
2025-10-27 20:11:19,245 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 20:11:19,245 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
2025-10-27 20:11:19,246 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 15 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"steady rain\", \"sensory_details\": \"steady rain blankets the area; the ground darkens and the air smells of wet stone.\"}\nRecent events: [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_...
2025-10-27 20:11:19,246 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 20:11:19,246 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 15 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "steady rain", "sensory_details": "steady rain blankets the area; the ground darkens and the air smells of wet stone."}\nRecent events: [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Shieldbearer trusts the player deeply\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': '[DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.', 'world_constraint_from_prev_turn': '{"atmosphere": "steady rain", "sensory_details": "steady rain blankets the area; the ground darkens and the air smells of wet stone."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Memory summary: Turn 10: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 11: You ask the Shieldbeare...', 'Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...']}
2025-10-27 20:11:54,232 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area, making the ground dark and the air smell of wet stone.', 'options': [{'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm that has been brewing for hours.', 'action_type': 'dialog'}, {'id': 'offer_shelter', 'text': 'You offer to take shelter with the Shieldbearer, suggesting that you could share your oil lamp and lantern oil to keep warm.', 'action_type': 'dialog'}, {'id': 'check_for_signs_of_enemy', 'text': 'You ask the Shieldbearer if she has noticed any signs of an enemy approach during her watch.', 'action_type': 'dialog'}], 'major_event': False, 'safe_functions': []}
2025-10-27 20:11:54,232 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area, making the ground dark and the air smell of wet stone.', 'options': [{'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm that has been brewing for hours.', 'action_type': 'dialog'}, {'id': 'offer_shelter', 'text': 'You offer to take shelter with the Shieldbearer, suggesting that you could share your oil lamp and lantern oil to keep warm.', 'action_type': 'dialog'}, {'id': 'check_for_signs_of_enemy', 'text': 'You ask the Shieldbearer if she has noticed any signs of an enemy approach during her watch.', 'action_type': 'dialog'}], 'major_event': False, 'safe_functions': [], 'metric_delta': {}}
2025-10-27 20:11:54,232 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 20:11:54,232 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "dialog", "id": "ask_about_storm", "text": "You ask the Shieldbearer about the storm that has been brewing for hours."}, {"action_type": "dialog", "id": "offer_shelter", "text": "You offer to take shelter with the Shieldbearer, suggesting that you could share your oil lamp and lantern oil to keep warm."}, {"action_type": "dialog", "id": "check_for_signs_of_enemy", "text": "You ask the Shieldbearer if she has noticed any signs of an enemy approach during her watch."}], "safe_functions": [], "scene": "The Shieldbearer, sta...
2025-10-27 20:11:54,232 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 20:11:54,232 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm that has been brewing for hours.', 'action_type': 'dialog'}, {'id': 'offer_shelter', 'text': 'You offer to take shelter with the Shieldbearer, suggesting that you could share your oil lamp and lantern oil to keep warm.', 'action_type': 'dialog'}, {'id': 'check_for_signs_of_enemy', 'text': 'You ask the Shieldbearer if she has noticed any signs of an enemy approach during her watch.', 'action_type': 'dialog'}], player_choice_id=None)
2025-10-27 20:11:54,232 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm that has been brewing for hours.', 'action_type': 'dialog'}
2025-10-27 20:11:54,232 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm that has been brewing for hours.', 'action_type': 'dialog'})
2025-10-27 20:11:54,232 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm that has been brewing for hours.', 'action_type': 'dialog'}
2025-10-27 20:11:54,232 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "dialog", "id": "ask_about_storm", "text": "You ask the Shieldbearer about the storm that has been brewing for hours."}
2025-10-27 20:11:54,232 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'dialog'
2025-10-27 20:11:54,232 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 15 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"steady rain\", \"sensory_details\": \"steady rain blankets the area; the ground darkens and the air smells of wet stone.\"}\nRecent events: [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_...
2025-10-27 20:11:54,232 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 20:11:54,232 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 15 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "steady rain", "sensory_details": "steady rain blankets the area; the ground darkens and the air smells of wet stone."}\nRecent events: [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Shieldbearer trusts the player deeply\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area, making the ground dark and the air smell of wet stone.', 'player_choice': 'You ask the Shieldbearer about the storm that has been brewing for hours.', 'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly.", 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player; Shieldbearer trusts the player deeply', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Memory summary: Turn 10: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 11: You ask the Shieldbeare...', 'Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...']}
2025-10-27 20:12:03,404 [DEBUG] fortress_director.agents.character_agent: Model returned: {'name': 'Rhea', 'intent': 'observe', 'action': 'stand still and listen', 'speech': "The rain continues its relentless patter, a constant reminder of the world's constant churn.", 'effects': {'trust_delta': 100, 'flag_set': ['has_seen_storm'], 'item_change': None, 'status_change': None}}
2025-10-27 20:12:03,404 [INFO] fortress_director.agents.character_agent: Normalized output (dict): [{'name': 'Rhea', 'intent': 'observe', 'action': 'stand still and listen', 'speech': "(It's raining.) The rain continues its relentless patter, a constant reminder of the world's constant churn.", 'effects': {'flag_set': ['has_seen_storm']}}]
2025-10-27 20:12:03,404 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 20:12:03,404 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "stand still and listen", "effects": {"flag_set": ["has_seen_storm"]}, "intent": "observe", "name": "Rhea", "speech": "(It's raining.) The rain continues its relentless patter, a constant reminder of the world's constant churn."}]
2025-10-27 20:12:03,404 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 20:12:03,404 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 20:12:03,404 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 20:12:03,404 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "stand still and listen", "effects": {"flag_set": ["has_seen_storm"]}, "intent": "observe", "name": "Rhea", "speech": "(It's raining.) The rain continues its relentless patter, a constant reminder of the world's constant churn."}]
2025-10-27 20:12:03,404 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 20:12:03,406 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 15, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil'], 'memory_layers': ['Memory summary: Turn 10: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 11: You ask the Shieldbeare...', 'Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 15, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['A steady rain begins; people adjust their pace.', '[DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', '[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'steady rain', 'sensory_details': 'steady rain blankets the area; the ground darkens and the air smells of wet stone.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Shieldbearer trusts the player deeply', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 0, 'Shieldbearer': 1}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:12:03,406 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'observe', 'action': 'stand still and listen', 'speech': "(It's raining.) The rain continues its relentless patter, a constant reminder of the world's constant churn.", 'effects': {'flag_set': ['has_seen_storm']}}]
2025-10-27 20:12:03,406 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 15 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "steady rain", "sensory_details": "steady rain blankets the area; the ground darkens and the air smells of wet stone."}
Recent events: [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Shieldbearer trusts the player deeply
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area, making the ground dark and the air smell of wet stone., player_choice: {'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm that has been brewing for hours.', 'action_type': 'dialog'}
2025-10-27 20:12:03,406 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 20:12:03,406 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'observe', 'action': 'stand still and listen', 'speech': "(It's raining.) The rain continues its relentless patter, a constant reminder of the world's constant churn.", 'effects': {'flag_set': ['has_seen_storm']}}
2025-10-27 20:12:03,406 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 20:12:10,203 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': 'The content is consistent with established world, lore, and character logic. The scene described by the player choice matches the established atmosphere and events in the game.'}
2025-10-27 20:12:10,203 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 20:12:10,203 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'flag_set': ['has_seen_storm']}
2025-10-27 20:12:10,203 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea is neutral toward the player; Shieldbearer trusts the player
2025-10-27 20:12:10,204 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 20:12:10,204 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 15, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Memory summary: Turn 10: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 11: You ask the Shieldbeare...', 'Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 15, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['A steady rain begins; people adjust their pace.', '[DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', '[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'steady rain', 'sensory_details': 'steady rain blankets the area; the ground darkens and the air smells of wet stone.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 0, 'Shieldbearer': 1}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:12:10,204 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=16)
2025-10-27 20:12:10,204 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 20:12:10,205 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 20:12:10,205 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 16, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance,...
2025-10-27 20:12:10,205 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 16: {'Shieldbearer': {'old': 1, 'new': 0}}
2025-10-27 20:12:10,205 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Shieldbearer': {'old': 1, 'new': 0}}
2025-10-27 20:12:10,206 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=16)
2025-10-27 20:12:10,206 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 20:12:10,206 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 20:12:10,206 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=16)
2025-10-27 20:12:10,207 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:12:10,207 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:12:10,207 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=16/10) with metrics={'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:12:10,207 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:12:10,207 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:12:10,208 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=16)
2025-10-27 20:12:10,208 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 20:12:10,209 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 20:12:10,209 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 15 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"steady rain\", \"sensory_details\": \"steady rain blankets the area; the ground darkens and the air smells of wet stone.\"}\nRecent events: [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; [DUP:tmpl_...
2025-10-27 20:12:10,209 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 20:12:10,209 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 20:15:50,804 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 20:16:20,686 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 20:25:08,432 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 20:32:15,194 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 20:33:05,628 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 20:34:14,950 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 20:34:48,295 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 20:35:29,657 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 20:35:29,663 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 20:35:29,663 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 20:35:29,664 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 20:35:29,664 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=0, call=None)
2025-10-27 20:35:29,664 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 20:35:29,664 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 20:35:29,664 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 16, "day": 1, "demo_mode": true, "finalized": false, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance...
2025-10-27 20:35:29,664 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:35:29,664 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:35:29,664 [INFO] fortress_director.utils.glitch_manager: Resolving glitch (turn=17, seed=7, current_glitch=31)
2025-10-27 20:35:29,664 [DEBUG] fortress_director.utils.glitch_manager: Metrics before glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:35:29,664 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=31, delta=10, limits=(0, 100) (cause=glitch:momentum_overload)
2025-10-27 20:35:29,664 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': 10, 'value': 41, 'cause': 'glitch:momentum_overload'}
2025-10-27 20:35:29,666 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 31 to 41 (cause=glitch:momentum_overload)
2025-10-27 20:35:29,666 [INFO] fortress_director.utils.glitch_manager: Glitch roll complete: roll=58, triggered_loss=True
2025-10-27 20:35:29,666 [DEBUG] fortress_director.utils.glitch_manager: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 41, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:35:29,666 [DEBUG] fortress_director.utils.glitch_manager: Glitch effects applied: ['Glitch momentum overload triggers early cascade.']
2025-10-27 20:35:29,666 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=58, triggered_loss=True
2025-10-27 20:35:29,666 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 41, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:35:29,666 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=41, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 20:35:29,666 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 40, 'cause': 'turn_recovery'}
2025-10-27 20:35:29,666 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 41 to 40 (cause=turn_recovery)
2025-10-27 20:35:29,667 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:35:29,667 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 20:35:29,667 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
Recent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 20:35:29,667 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 0 in room entrance
2025-10-27 20:35:29,667 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 20:35:29,667 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 20:35:29,667 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': ['Glitch momentum overload triggers early cascade.'], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 20:35:29,668 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:35:29,668 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:35:29,668 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 20:35:29,668 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:35:29,668 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 20:35:29,668 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 20:35:29,668 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': '[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...', 'world_constraint_from_prev_turn': '{"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...']}
2025-10-27 20:35:29,670 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]}
2025-10-27 20:35:29,670 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}], 'metric_delta': {}}
2025-10-27 20:35:29,671 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 20:35:29,671 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}, {"action_type": "support", "id": "opt_2", "text": "Signal the keep for additional lantern oil."}, {"action_type": "observe", "id": "opt_3", "text": "Quietly observe the storm's strange rhythm."}], "safe_functions": [{"kwargs": {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}, "metadata": {"origin": "event_stub"}, "name": "change_weather"}], "scene": "Storm clouds gather over the western wall as watch f...
2025-10-27 20:35:29,671 [INFO] fortress_director.orchestrator.orchestrator: Applying safe functions from event: [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]
2025-10-27 20:35:29,671 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 20:35:29,671 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:35:29,672 [WARNING] fortress_director.orchestrator.orchestrator: Safe function change_weather failed: Function 'change_weather' is not registered
2025-10-27 20:35:29,673 [WARNING] fortress_director.orchestrator.orchestrator: Failed to apply safe function {'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}: Function 'change_weather' is not registered
2025-10-27 20:35:29,673 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after safe functions: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:35:29,673 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 20:35:29,673 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], player_choice_id=None)
2025-10-27 20:35:29,673 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:35:29,673 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'})
2025-10-27 20:35:29,673 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:35:29,673 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}
2025-10-27 20:35:29,674 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'command'
2025-10-27 20:35:29,674 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 20:35:29,674 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 20:35:29,674 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'Storm clouds gather over the western wall as watch fires hiss.', 'player_choice': 'Rally the nearby scouts to reinforce the gate.', 'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...']}
2025-10-27 20:35:29,675 [DEBUG] fortress_director.agents.character_agent: Model returned: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:35:29,675 [INFO] fortress_director.agents.character_agent: Normalized output (list): [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:35:29,675 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 20:35:29,675 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:35:29,675 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 20:35:29,676 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 20:35:29,676 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 20:35:29,676 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:35:29,676 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 20:35:29,676 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 16, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'Storm clouds gather over the western wall as watch fires hiss.', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 0, 'Shieldbearer': 0}, 'finalized': False, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:35:29,676 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:35:29,676 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
Recent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: Storm clouds gather over the western wall as watch fires hiss., player_choice: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:35:29,676 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 20:35:29,677 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}
2025-10-27 20:35:29,677 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 20:35:36,807 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': 'The content is consistent with established world, lore, and character logic. The scene described matches the established atmosphere and events in the game.'}
2025-10-27 20:35:36,807 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 20:35:36,807 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'trust_delta': 1, 'flag_set': ['storm_vigil']}
2025-10-27 20:35:36,807 [INFO] fortress_director.rules.rules_engine: Trust updated for Rhea: 0 -> 1 (delta: 1)
2025-10-27 20:35:36,807 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea trusts the player; Shieldbearer is neutral toward the player
2025-10-27 20:35:36,807 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 20:35:36,807 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 16, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'Storm clouds gather over the western wall as watch fires hiss.', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Shieldbearer is neutral toward the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 1, 'Shieldbearer': 0}, 'finalized': False, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:35:36,807 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=1)
2025-10-27 20:35:36,807 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 20:35:36,807 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 20:35:36,807 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 17, "day": 1, "demo_mode": true, "finalized": false, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at...
2025-10-27 20:35:36,807 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 17: {'Rhea': {'old': 1, 'new': 2}}
2025-10-27 20:35:36,807 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Rhea': {'old': 1, 'new': 2}}
2025-10-27 20:35:36,807 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:35:36,807 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 20:35:36,807 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:35:36,807 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:35:36,807 [ERROR] fortress_director.orchestrator.orchestrator: Exception during turn: Function 'change_weather' is not registered
Traceback (most recent call last):
  File "C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\codeaware\function_registry.py", line 172, in _require
    return self._functions[name]
           ~~~~~~~~~~~~~~~^^^^^^
KeyError: 'change_weather'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\orchestrator\orchestrator.py", line 771, in run_turn
    safe_function_results = self._execute_safe_function_queue(
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\orchestrator\orchestrator.py", line 1740, in _execute_safe_function_queue
    outcome = self.run_safe_function(payload, metadata=metadata)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\orchestrator\orchestrator.py", line 925, in run_safe_function
    result = self.rollback_system.run_validated_call(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\codeaware\rollback_system.py", line 197, in run_validated_call
    call = validator.validate(payload)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\codeaware\function_validator.py", line 66, in validate
    validated = self._registry.validate(call)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\codeaware\function_registry.py", line 126, in validate
    entry = self._require(call.name)
            ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\codeaware\function_registry.py", line 174, in _require
    raise FunctionNotRegisteredError(
fortress_director.codeaware.function_registry.FunctionNotRegisteredError: Function 'change_weather' is not registered
2025-10-27 20:35:36,823 [INFO] fortress_director.codeaware.rollback_system: Rollback requested (reason=Turn execution failed: FunctionNotRegisteredError)
2025-10-27 20:35:36,824 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 20:35:36,824 [INFO] fortress_director.codeaware.rollback_system: Rollback applied (turn=0, reason=Turn execution failed: FunctionNotRegisteredError)
2025-10-27 20:35:36,824 [INFO] fortress_director.orchestrator.orchestrator: Rollback performed after exception.
2025-10-27 20:36:18,176 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 20:36:18,181 [INFO] fortress_director.codeaware.function_registry: Registering safe function: change_weather
2025-10-27 20:36:18,182 [INFO] fortress_director.codeaware.function_registry: Safe function 'change_weather' registered successfully.
2025-10-27 20:36:18,182 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_item
2025-10-27 20:36:18,182 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_item' registered successfully.
2025-10-27 20:36:18,182 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_npc
2025-10-27 20:36:18,182 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_npc' registered successfully.
2025-10-27 20:36:18,183 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_logic
2025-10-27 20:36:18,183 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_logic' registered successfully.
2025-10-27 20:36:18,183 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_emotion
2025-10-27 20:36:18,184 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_emotion' registered successfully.
2025-10-27 20:36:18,184 [INFO] fortress_director.codeaware.function_registry: Registering safe function: raise_corruption
2025-10-27 20:36:18,184 [INFO] fortress_director.codeaware.function_registry: Safe function 'raise_corruption' registered successfully.
2025-10-27 20:36:18,184 [INFO] fortress_director.codeaware.function_registry: Registering safe function: advance_turn
2025-10-27 20:36:18,184 [INFO] fortress_director.codeaware.function_registry: Safe function 'advance_turn' registered successfully.
2025-10-27 20:36:18,185 [INFO] fortress_director.codeaware.function_registry: Registering safe function: modify_resources
2025-10-27 20:36:18,185 [INFO] fortress_director.codeaware.function_registry: Safe function 'modify_resources' registered successfully.
2025-10-27 20:36:18,185 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_metric
2025-10-27 20:36:18,185 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_metric' registered successfully.
2025-10-27 20:36:18,186 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_room
2025-10-27 20:36:18,186 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_room' registered successfully.
2025-10-27 20:36:18,186 [INFO] fortress_director.codeaware.function_registry: Registering safe function: apply_glitch_memory_noise
2025-10-27 20:36:18,186 [INFO] fortress_director.codeaware.function_registry: Safe function 'apply_glitch_memory_noise' registered successfully.
2025-10-27 20:36:18,186 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_duplicated_event
2025-10-27 20:36:18,187 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_duplicated_event' registered successfully.
2025-10-27 20:36:18,187 [INFO] fortress_director.codeaware.function_registry: Registering safe function: create_npc
2025-10-27 20:36:18,187 [INFO] fortress_director.codeaware.function_registry: Safe function 'create_npc' registered successfully.
2025-10-27 20:36:18,187 [INFO] fortress_director.codeaware.function_registry: Registering safe function: play_sound
2025-10-27 20:36:18,187 [INFO] fortress_director.codeaware.function_registry: Safe function 'play_sound' registered successfully.
2025-10-27 20:36:18,187 [INFO] fortress_director.codeaware.function_registry: Registering safe function: start_rain
2025-10-27 20:36:18,187 [INFO] fortress_director.codeaware.function_registry: Safe function 'start_rain' registered successfully.
2025-10-27 20:36:18,188 [INFO] fortress_director.codeaware.function_registry: Registering safe function: stop_rain
2025-10-27 20:36:18,188 [INFO] fortress_director.codeaware.function_registry: Safe function 'stop_rain' registered successfully.
2025-10-27 20:36:18,188 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 20:36:18,190 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 20:36:18,190 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 20:36:18,190 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=0, call=None)
2025-10-27 20:36:18,190 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 20:36:18,190 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 20:36:18,190 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 16, "day": 1, "demo_mode": true, "finalized": false, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance...
2025-10-27 20:36:18,191 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:36:18,191 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:36:18,191 [INFO] fortress_director.utils.glitch_manager: Resolving glitch (turn=17, seed=7, current_glitch=31)
2025-10-27 20:36:18,191 [DEBUG] fortress_director.utils.glitch_manager: Metrics before glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:36:18,191 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=31, delta=10, limits=(0, 100) (cause=glitch:momentum_overload)
2025-10-27 20:36:18,191 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': 10, 'value': 41, 'cause': 'glitch:momentum_overload'}
2025-10-27 20:36:18,191 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 31 to 41 (cause=glitch:momentum_overload)
2025-10-27 20:36:18,192 [INFO] fortress_director.utils.glitch_manager: Glitch roll complete: roll=58, triggered_loss=True
2025-10-27 20:36:18,192 [DEBUG] fortress_director.utils.glitch_manager: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 41, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:36:18,192 [DEBUG] fortress_director.utils.glitch_manager: Glitch effects applied: ['Glitch momentum overload triggers early cascade.']
2025-10-27 20:36:18,192 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=58, triggered_loss=True
2025-10-27 20:36:18,192 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 41, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:36:18,192 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=41, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 20:36:18,192 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 40, 'cause': 'turn_recovery'}
2025-10-27 20:36:18,192 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 41 to 40 (cause=turn_recovery)
2025-10-27 20:36:18,193 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:36:18,193 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 20:36:18,193 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
Recent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 20:36:18,193 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 0 in room entrance
2025-10-27 20:36:18,193 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 20:36:18,193 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 20:36:18,193 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': ['Glitch momentum overload triggers early cascade.'], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 20:36:18,194 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:36:18,194 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:36:18,194 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 20:36:18,195 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:36:18,195 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 20:36:18,195 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 20:36:18,195 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': '[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...', 'world_constraint_from_prev_turn': '{"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...']}
2025-10-27 20:36:18,196 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]}
2025-10-27 20:36:18,196 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}], 'metric_delta': {}}
2025-10-27 20:36:18,196 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 20:36:18,196 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}, {"action_type": "support", "id": "opt_2", "text": "Signal the keep for additional lantern oil."}, {"action_type": "observe", "id": "opt_3", "text": "Quietly observe the storm's strange rhythm."}], "safe_functions": [{"kwargs": {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}, "metadata": {"origin": "event_stub"}, "name": "change_weather"}], "scene": "Storm clouds gather over the western wall as watch f...
2025-10-27 20:36:18,196 [INFO] fortress_director.orchestrator.orchestrator: Applying safe functions from event: [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]
2025-10-27 20:36:18,196 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 20:36:18,196 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:36:18,198 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 20:36:18,198 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=0, call=change_weather)
2025-10-27 20:36:18,198 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:36:18,198 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:36:18,199 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 20:36:18,199 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 20:36:18,199 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:36:18,200 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=0)
2025-10-27 20:36:18,201 [DEBUG] fortress_director.orchestrator.orchestrator: Applied safe function: {'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}
2025-10-27 20:36:18,201 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after safe functions: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:36:18,202 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 20:36:18,202 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], player_choice_id=None)
2025-10-27 20:36:18,202 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:36:18,202 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'})
2025-10-27 20:36:18,202 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:36:18,202 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}
2025-10-27 20:36:18,202 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'command'
2025-10-27 20:36:18,203 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 20:36:18,203 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 20:36:18,203 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'Storm clouds gather over the western wall as watch fires hiss.', 'player_choice': 'Rally the nearby scouts to reinforce the gate.', 'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...']}
2025-10-27 20:36:18,203 [DEBUG] fortress_director.agents.character_agent: Model returned: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:36:18,205 [INFO] fortress_director.agents.character_agent: Normalized output (list): [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:36:18,205 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 20:36:18,205 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:36:18,205 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 20:36:18,205 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 20:36:18,205 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 20:36:18,205 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:36:18,205 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 20:36:18,206 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 16, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'Storm clouds gather over the western wall as watch fires hiss.', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 0, 'Shieldbearer': 0}, 'finalized': False, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:36:18,206 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:36:18,206 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
Recent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: Storm clouds gather over the western wall as watch fires hiss., player_choice: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:36:18,206 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 20:36:18,206 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}
2025-10-27 20:36:18,206 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 20:36:22,239 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': 'The content is consistent with established world, lore, and character logic. The scene described matches the established atmosphere and events in the game.'}
2025-10-27 20:36:22,239 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 20:36:22,239 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'trust_delta': 1, 'flag_set': ['storm_vigil']}
2025-10-27 20:36:22,239 [INFO] fortress_director.rules.rules_engine: Trust updated for Rhea: 0 -> 1 (delta: 1)
2025-10-27 20:36:22,239 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea trusts the player; Shieldbearer is neutral toward the player
2025-10-27 20:36:22,240 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 20:36:22,240 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 16, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'Storm clouds gather over the western wall as watch fires hiss.', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Shieldbearer is neutral toward the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 1, 'Shieldbearer': 0}, 'finalized': False, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:36:22,240 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=1)
2025-10-27 20:36:22,240 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 20:36:22,240 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 20:36:22,240 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 17, "day": 1, "demo_mode": true, "finalized": false, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at...
2025-10-27 20:36:22,240 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 17: {'Rhea': {'old': 1, 'new': 2}}
2025-10-27 20:36:22,241 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Rhea': {'old': 1, 'new': 2}}
2025-10-27 20:36:22,241 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:36:22,242 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 20:36:22,242 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:36:22,242 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:36:22,242 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:36:22,242 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=17, call=change_weather)
2025-10-27 20:36:22,243 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:36:22,243 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:36:22,243 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:36:22,244 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:36:22,244 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:36:22,244 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=17)
2025-10-27 20:36:22,246 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:36:22,246 [INFO] fortress_director.codeaware.function_registry: Validating function call: spawn_item
2025-10-27 20:36:22,246 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:36:22,247 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=17, call=spawn_item)
2025-10-27 20:36:22,247 [INFO] fortress_director.codeaware.function_registry: Getting registered function: spawn_item
2025-10-27 20:36:22,247 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'spawn_item'...
2025-10-27 20:36:22,247 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:36:22,248 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:36:22,248 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed successfully.
2025-10-27 20:36:22,248 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed (checkpoint turn=17)
2025-10-27 20:36:22,250 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 20:36:22,250 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:36:22,250 [INFO] fortress_director.orchestrator.orchestrator: Weather changed via safe function, re-describing world...
2025-10-27 20:36:22,250 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Shieldbearer is neutral toward the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance'}
2025-10-27 20:36:22,251 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:36:22,251 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:36:22,251 [INFO] fortress_director.orchestrator.orchestrator: World re-described after safe function.
2025-10-27 20:36:22,251 [DEBUG] fortress_director.orchestrator.orchestrator: New world output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:36:22,252 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:36:22,252 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:36:22,252 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=17/10) with metrics={'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:36:22,252 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:36:22,252 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:36:22,253 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:36:22,253 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 20:36:22,254 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 20:36:22,254 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 20:36:22,254 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 20:36:22,254 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 20:49:21,579 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 20:49:21,585 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=16)
2025-10-27 20:49:21,585 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=16)
2025-10-27 20:49:21,585 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=16)
2025-10-27 20:49:21,586 [INFO] fortress_director.codeaware.function_registry: Registering safe function: change_weather
2025-10-27 20:49:21,586 [INFO] fortress_director.codeaware.function_registry: Safe function 'change_weather' registered successfully.
2025-10-27 20:49:21,586 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_item
2025-10-27 20:49:21,586 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_item' registered successfully.
2025-10-27 20:49:21,587 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_npc
2025-10-27 20:49:21,587 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_npc' registered successfully.
2025-10-27 20:49:21,587 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_logic
2025-10-27 20:49:21,587 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_logic' registered successfully.
2025-10-27 20:49:21,587 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_emotion
2025-10-27 20:49:21,588 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_emotion' registered successfully.
2025-10-27 20:49:21,588 [INFO] fortress_director.codeaware.function_registry: Registering safe function: raise_corruption
2025-10-27 20:49:21,588 [INFO] fortress_director.codeaware.function_registry: Safe function 'raise_corruption' registered successfully.
2025-10-27 20:49:21,588 [INFO] fortress_director.codeaware.function_registry: Registering safe function: advance_turn
2025-10-27 20:49:21,589 [INFO] fortress_director.codeaware.function_registry: Safe function 'advance_turn' registered successfully.
2025-10-27 20:49:21,589 [INFO] fortress_director.codeaware.function_registry: Registering safe function: modify_resources
2025-10-27 20:49:21,589 [INFO] fortress_director.codeaware.function_registry: Safe function 'modify_resources' registered successfully.
2025-10-27 20:49:21,589 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_metric
2025-10-27 20:49:21,589 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_metric' registered successfully.
2025-10-27 20:49:21,589 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_room
2025-10-27 20:49:21,590 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_room' registered successfully.
2025-10-27 20:49:21,590 [INFO] fortress_director.codeaware.function_registry: Registering safe function: apply_glitch_memory_noise
2025-10-27 20:49:21,591 [INFO] fortress_director.codeaware.function_registry: Safe function 'apply_glitch_memory_noise' registered successfully.
2025-10-27 20:49:21,591 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_duplicated_event
2025-10-27 20:49:21,591 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_duplicated_event' registered successfully.
2025-10-27 20:49:21,591 [INFO] fortress_director.codeaware.function_registry: Registering safe function: create_npc
2025-10-27 20:49:21,591 [INFO] fortress_director.codeaware.function_registry: Safe function 'create_npc' registered successfully.
2025-10-27 20:49:21,592 [INFO] fortress_director.codeaware.function_registry: Registering safe function: play_sound
2025-10-27 20:49:21,592 [INFO] fortress_director.codeaware.function_registry: Safe function 'play_sound' registered successfully.
2025-10-27 20:49:21,592 [INFO] fortress_director.codeaware.function_registry: Registering safe function: start_rain
2025-10-27 20:49:21,592 [INFO] fortress_director.codeaware.function_registry: Safe function 'start_rain' registered successfully.
2025-10-27 20:49:21,592 [INFO] fortress_director.codeaware.function_registry: Registering safe function: stop_rain
2025-10-27 20:49:21,593 [INFO] fortress_director.codeaware.function_registry: Safe function 'stop_rain' registered successfully.
2025-10-27 20:49:21,594 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 20:49:21,595 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 20:49:21,595 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 20:49:21,595 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=0, call=None)
2025-10-27 20:49:21,595 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 20:49:21,595 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 20:49:21,596 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 16, "day": 1, "demo_mode": true, "finalized": false, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance...
2025-10-27 20:49:21,596 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:21,596 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:21,596 [INFO] fortress_director.utils.glitch_manager: Resolving glitch (turn=17, seed=7, current_glitch=31)
2025-10-27 20:49:21,596 [DEBUG] fortress_director.utils.glitch_manager: Metrics before glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:21,596 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=31, delta=10, limits=(0, 100) (cause=glitch:momentum_overload)
2025-10-27 20:49:21,596 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': 10, 'value': 41, 'cause': 'glitch:momentum_overload'}
2025-10-27 20:49:21,596 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 31 to 41 (cause=glitch:momentum_overload)
2025-10-27 20:49:21,597 [INFO] fortress_director.utils.glitch_manager: Glitch roll complete: roll=58, triggered_loss=True
2025-10-27 20:49:21,597 [DEBUG] fortress_director.utils.glitch_manager: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 41, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:21,597 [DEBUG] fortress_director.utils.glitch_manager: Glitch effects applied: ['Glitch momentum overload triggers early cascade.']
2025-10-27 20:49:21,597 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=58, triggered_loss=True
2025-10-27 20:49:21,597 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 41, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:21,597 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=41, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 20:49:21,597 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 40, 'cause': 'turn_recovery'}
2025-10-27 20:49:21,597 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 41 to 40 (cause=turn_recovery)
2025-10-27 20:49:21,599 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:21,599 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 20:49:21,599 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
Recent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 20:49:21,599 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 0 in room entrance
2025-10-27 20:49:21,599 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 20:49:21,599 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 20:49:21,600 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': ['Glitch momentum overload triggers early cascade.'], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 20:49:21,601 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:21,601 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:21,601 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 20:49:21,601 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:21,601 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 20:49:21,601 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 20:49:21,602 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': '[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...', 'world_constraint_from_prev_turn': '{"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...']}
2025-10-27 20:49:21,602 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]}
2025-10-27 20:49:21,602 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}], 'metric_delta': {}}
2025-10-27 20:49:21,603 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 20:49:21,603 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}, {"action_type": "support", "id": "opt_2", "text": "Signal the keep for additional lantern oil."}, {"action_type": "observe", "id": "opt_3", "text": "Quietly observe the storm's strange rhythm."}], "safe_functions": [{"kwargs": {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}, "metadata": {"origin": "event_stub"}, "name": "change_weather"}], "scene": "Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:21,603 [INFO] fortress_director.orchestrator.orchestrator: Applying safe functions from event: [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]
2025-10-27 20:49:21,603 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 20:49:21,604 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:21,604 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 20:49:21,604 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=0, call=change_weather)
2025-10-27 20:49:21,604 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:21,604 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:21,605 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 20:49:21,605 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 20:49:21,605 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:21,606 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=0)
2025-10-27 20:49:21,607 [DEBUG] fortress_director.orchestrator.orchestrator: Applied safe function: {'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}
2025-10-27 20:49:21,608 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after safe functions: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:21,608 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 20:49:21,608 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], player_choice_id=None)
2025-10-27 20:49:21,608 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:21,608 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'})
2025-10-27 20:49:21,608 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:21,608 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}
2025-10-27 20:49:21,608 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'command'
2025-10-27 20:49:21,609 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 20:49:21,609 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 20:49:21,609 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'Storm clouds gather over the western wall as watch fires hiss.', 'player_choice': 'Rally the nearby scouts to reinforce the gate.', 'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...']}
2025-10-27 20:49:21,610 [DEBUG] fortress_director.agents.character_agent: Model returned: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:21,610 [INFO] fortress_director.agents.character_agent: Normalized output (list): [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:21,610 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 20:49:21,610 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:21,611 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 20:49:21,611 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 20:49:21,611 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 20:49:21,611 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:21,611 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 20:49:21,611 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 16, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'Storm clouds gather over the western wall as watch fires hiss.', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 0, 'Shieldbearer': 0}, 'finalized': False, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:21,612 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:21,612 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
Recent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: Storm clouds gather over the western wall as watch fires hiss., player_choice: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:21,612 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 20:49:21,612 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}
2025-10-27 20:49:21,612 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 20:49:30,053 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': 'The content is consistent with established world, lore, and character logic. The scene described matches the established atmosphere and events in the game.'}
2025-10-27 20:49:30,053 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 20:49:30,053 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'trust_delta': 1, 'flag_set': ['storm_vigil']}
2025-10-27 20:49:30,053 [INFO] fortress_director.rules.rules_engine: Trust updated for Rhea: 0 -> 1 (delta: 1)
2025-10-27 20:49:30,053 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea trusts the player; Shieldbearer is neutral toward the player
2025-10-27 20:49:30,053 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 20:49:30,053 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 16, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'Storm clouds gather over the western wall as watch fires hiss.', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Shieldbearer is neutral toward the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 1, 'Shieldbearer': 0}, 'finalized': False, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,053 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=1)
2025-10-27 20:49:30,055 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 20:49:30,055 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 20:49:30,055 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 17, "day": 1, "demo_mode": true, "finalized": false, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at...
2025-10-27 20:49:30,055 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 17: {'Rhea': {'old': 1, 'new': 2}}
2025-10-27 20:49:30,056 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Rhea': {'old': 1, 'new': 2}}
2025-10-27 20:49:30,057 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,057 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 20:49:30,058 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,058 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,058 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,058 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=17, call=change_weather)
2025-10-27 20:49:30,058 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,059 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,059 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,060 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,060 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,060 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=17)
2025-10-27 20:49:30,061 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,061 [INFO] fortress_director.codeaware.function_registry: Validating function call: spawn_item
2025-10-27 20:49:30,062 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,062 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=17, call=spawn_item)
2025-10-27 20:49:30,062 [INFO] fortress_director.codeaware.function_registry: Getting registered function: spawn_item
2025-10-27 20:49:30,062 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'spawn_item'...
2025-10-27 20:49:30,062 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,063 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,063 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed successfully.
2025-10-27 20:49:30,064 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed (checkpoint turn=17)
2025-10-27 20:49:30,066 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 20:49:30,067 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,067 [INFO] fortress_director.orchestrator.orchestrator: Weather changed via safe function, re-describing world...
2025-10-27 20:49:30,067 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Shieldbearer is neutral toward the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance'}
2025-10-27 20:49:30,068 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,068 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,068 [INFO] fortress_director.orchestrator.orchestrator: World re-described after safe function.
2025-10-27 20:49:30,068 [DEBUG] fortress_director.orchestrator.orchestrator: New world output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,068 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,068 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,068 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=17/10) with metrics={'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,068 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,068 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,069 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,069 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 20:49:30,070 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 20:49:30,070 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 20:49:30,070 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 20:49:30,070 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 20:49:30,072 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 20:49:30,072 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 20:49:30,073 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,073 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=17, call=None)
2025-10-27 20:49:30,073 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 20:49:30,073 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,074 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 17, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at ...
2025-10-27 20:49:30,074 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,074 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,074 [INFO] fortress_director.utils.glitch_manager: Game finalized, skipping glitch resolution
2025-10-27 20:49:30,074 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=0, triggered_loss=False
2025-10-27 20:49:30,074 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,074 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=40, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 20:49:30,075 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 39, 'cause': 'turn_recovery'}
2025-10-27 20:49:30,075 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 40 to 39 (cause=turn_recovery)
2025-10-27 20:49:30,075 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,075 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 20:49:30,075 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 17 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Shieldbearer is neutral toward the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 20:49:30,075 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 17 in room entrance
2025-10-27 20:49:30,075 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds...
2025-10-27 20:49:30,075 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 20:49:30,076 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Shieldbearer is neutral toward the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': [], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 20:49:30,076 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,076 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,076 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 20:49:30,076 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,077 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds...
2025-10-27 20:49:30,077 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 20:49:30,077 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Shieldbearer is neutral toward the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.', 'world_constraint_from_prev_turn': '{"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....']}
2025-10-27 20:49:30,078 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]}
2025-10-27 20:49:30,078 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}], 'metric_delta': {}}
2025-10-27 20:49:30,078 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 20:49:30,078 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}, {"action_type": "support", "id": "opt_2", "text": "Signal the keep for additional lantern oil."}, {"action_type": "observe", "id": "opt_3", "text": "Quietly observe the storm's strange rhythm."}], "safe_functions": [{"kwargs": {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}, "metadata": {"origin": "event_stub"}, "name": "change_weather"}], "scene": "Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,078 [INFO] fortress_director.orchestrator.orchestrator: Applying safe functions from event: [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]
2025-10-27 20:49:30,080 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,080 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,080 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,080 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=17, call=change_weather)
2025-10-27 20:49:30,080 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,080 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,081 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,082 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 20:49:30,082 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,082 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=17)
2025-10-27 20:49:30,085 [DEBUG] fortress_director.orchestrator.orchestrator: Applied safe function: {'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}
2025-10-27 20:49:30,085 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after safe functions: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,085 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 20:49:30,085 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], player_choice_id=None)
2025-10-27 20:49:30,085 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,085 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'})
2025-10-27 20:49:30,085 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,085 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}
2025-10-27 20:49:30,085 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'command'
2025-10-27 20:49:30,085 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds...
2025-10-27 20:49:30,086 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 20:49:30,086 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Shieldbearer is neutral toward the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'Storm clouds gather over the western wall as watch fires hiss.', 'player_choice': 'Rally the nearby scouts to reinforce the gate.', 'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player; Shieldbearer is neutral toward the player', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....']}
2025-10-27 20:49:30,087 [DEBUG] fortress_director.agents.character_agent: Model returned: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,087 [INFO] fortress_director.agents.character_agent: Normalized output (list): [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,088 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 20:49:30,088 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,088 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 20:49:30,088 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 20:49:30,088 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 20:49:30,089 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,089 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 20:49:30,089 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 17, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 17, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Shieldbearer is neutral toward the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 2, 'Shieldbearer': 0}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,089 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,089 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 17 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Shieldbearer is neutral toward the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: Storm clouds gather over the western wall as watch fires hiss., player_choice: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,089 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 20:49:30,090 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}
2025-10-27 20:49:30,090 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 20:49:30,090 [INFO] fortress_director.agents.judge_agent: Redundant content detected, skipping LLM evaluation
2025-10-27 20:49:30,090 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': 'redundant_content'}
2025-10-27 20:49:30,090 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 20:49:30,091 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'trust_delta': 1, 'flag_set': ['storm_vigil']}
2025-10-27 20:49:30,091 [INFO] fortress_director.rules.rules_engine: Trust updated for Rhea: 2 -> 3 (delta: 1)
2025-10-27 20:49:30,091 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea trusts the player deeply; Shieldbearer is neutral toward the player
2025-10-27 20:49:30,092 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 20:49:30,092 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 17, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 17, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer is neutral toward the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 3, 'Shieldbearer': 0}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,092 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=18)
2025-10-27 20:49:30,092 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 20:49:30,092 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 20:49:30,092 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 18, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard ...
2025-10-27 20:49:30,093 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 18: {'Shieldbearer': {'old': 0, 'new': -1}}
2025-10-27 20:49:30,093 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Shieldbearer': {'old': 0, 'new': -1}}
2025-10-27 20:49:30,093 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,093 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 20:49:30,095 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,095 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,095 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,095 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=18, call=change_weather)
2025-10-27 20:49:30,096 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,096 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,096 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,096 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,096 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,098 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=18)
2025-10-27 20:49:30,099 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,100 [INFO] fortress_director.codeaware.function_registry: Validating function call: spawn_item
2025-10-27 20:49:30,100 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,100 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=18, call=spawn_item)
2025-10-27 20:49:30,100 [INFO] fortress_director.codeaware.function_registry: Getting registered function: spawn_item
2025-10-27 20:49:30,100 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'spawn_item'...
2025-10-27 20:49:30,102 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,102 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,102 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed successfully.
2025-10-27 20:49:30,102 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed (checkpoint turn=18)
2025-10-27 20:49:30,104 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 20:49:30,104 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,104 [INFO] fortress_director.orchestrator.orchestrator: Weather changed via safe function, re-describing world...
2025-10-27 20:49:30,104 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 18 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer is neutral toward the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance'}
2025-10-27 20:49:30,104 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,105 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,105 [INFO] fortress_director.orchestrator.orchestrator: World re-described after safe function.
2025-10-27 20:49:30,105 [DEBUG] fortress_director.orchestrator.orchestrator: New world output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,105 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,105 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,106 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=18/10) with metrics={'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,106 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,106 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,107 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,107 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 20:49:30,108 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 20:49:30,108 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds...
2025-10-27 20:49:30,108 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 20:49:30,108 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 20:49:30,110 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 20:49:30,110 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 20:49:30,111 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,111 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=18, call=None)
2025-10-27 20:49:30,111 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 20:49:30,111 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,111 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 18, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard ...
2025-10-27 20:49:30,111 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,112 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,112 [INFO] fortress_director.utils.glitch_manager: Game finalized, skipping glitch resolution
2025-10-27 20:49:30,112 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=0, triggered_loss=False
2025-10-27 20:49:30,112 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,112 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=39, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 20:49:30,112 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 38, 'cause': 'turn_recovery'}
2025-10-27 20:49:30,112 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 39 to 38 (cause=turn_recovery)
2025-10-27 20:49:30,112 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 38, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,113 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 20:49:30,113 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 18 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player deeply; Shieldbearer is neutral toward the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 20:49:30,113 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 18 in room entrance
2025-10-27 20:49:30,113 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 18 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds...
2025-10-27 20:49:30,113 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 20:49:30,113 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 18 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer is neutral toward the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': [], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 38, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 20:49:30,114 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,114 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,114 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 20:49:30,114 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,114 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 18 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds...
2025-10-27 20:49:30,114 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 20:49:30,115 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 18 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer is neutral toward the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.', 'world_constraint_from_prev_turn': '{"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 18: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 17:...']}
2025-10-27 20:49:30,116 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]}
2025-10-27 20:49:30,116 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}], 'metric_delta': {}}
2025-10-27 20:49:30,116 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 20:49:30,116 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}, {"action_type": "support", "id": "opt_2", "text": "Signal the keep for additional lantern oil."}, {"action_type": "observe", "id": "opt_3", "text": "Quietly observe the storm's strange rhythm."}], "safe_functions": [{"kwargs": {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}, "metadata": {"origin": "event_stub"}, "name": "change_weather"}], "scene": "Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,116 [INFO] fortress_director.orchestrator.orchestrator: Applying safe functions from event: [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]
2025-10-27 20:49:30,117 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,117 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,117 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,117 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=18, call=change_weather)
2025-10-27 20:49:30,118 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,118 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,119 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,119 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 20:49:30,119 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,119 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=18)
2025-10-27 20:49:30,121 [DEBUG] fortress_director.orchestrator.orchestrator: Applied safe function: {'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}
2025-10-27 20:49:30,121 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after safe functions: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 38, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,121 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 20:49:30,121 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], player_choice_id=None)
2025-10-27 20:49:30,121 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,121 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'})
2025-10-27 20:49:30,121 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,122 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}
2025-10-27 20:49:30,122 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'command'
2025-10-27 20:49:30,122 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 18 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds...
2025-10-27 20:49:30,122 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 20:49:30,122 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 18 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer is neutral toward the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'Storm clouds gather over the western wall as watch fires hiss.', 'player_choice': 'Rally the nearby scouts to reinforce the gate.', 'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player deeply; Shieldbearer is neutral toward the player', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 18: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 17:...']}
2025-10-27 20:49:30,123 [DEBUG] fortress_director.agents.character_agent: Model returned: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,123 [INFO] fortress_director.agents.character_agent: Normalized output (list): [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,125 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 20:49:30,125 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,125 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 20:49:30,125 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 20:49:30,125 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 20:49:30,126 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,126 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 20:49:30,126 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 18, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 18: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 17:...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 18, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...', 'Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer is neutral toward the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 38, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 3, 'Shieldbearer': -1}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,126 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,126 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 18 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player deeply; Shieldbearer is neutral toward the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: Storm clouds gather over the western wall as watch fires hiss., player_choice: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,126 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 20:49:30,126 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}
2025-10-27 20:49:30,126 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 20:49:30,126 [INFO] fortress_director.agents.judge_agent: Redundant content detected, skipping LLM evaluation
2025-10-27 20:49:30,127 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': 'redundant_content'}
2025-10-27 20:49:30,127 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 20:49:30,127 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'trust_delta': 1, 'flag_set': ['storm_vigil']}
2025-10-27 20:49:30,127 [INFO] fortress_director.rules.rules_engine: Trust updated for Rhea: 3 -> 4 (delta: 1)
2025-10-27 20:49:30,127 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea trusts the player deeply; Shieldbearer distrusts the player
2025-10-27 20:49:30,127 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 20:49:30,128 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 18, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 18: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 17:...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 18, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...', 'Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer distrusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 38, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 4, 'Shieldbearer': -1}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,128 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=19)
2025-10-27 20:49:30,128 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 20:49:30,128 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 20:49:30,128 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 19, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standin...
2025-10-27 20:49:30,128 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 19: {'Rhea': {'old': 4, 'new': 5}, 'Shieldbearer': {'old': -1, 'new': -2}}
2025-10-27 20:49:30,128 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Rhea': {'old': 4, 'new': 5}, 'Shieldbearer': {'old': -1, 'new': -2}}
2025-10-27 20:49:30,130 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,130 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 20:49:30,130 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,131 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,131 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,131 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=19, call=change_weather)
2025-10-27 20:49:30,131 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,132 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,132 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,133 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,133 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,133 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=19)
2025-10-27 20:49:30,135 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,135 [INFO] fortress_director.codeaware.function_registry: Validating function call: spawn_item
2025-10-27 20:49:30,136 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,136 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=19, call=spawn_item)
2025-10-27 20:49:30,136 [INFO] fortress_director.codeaware.function_registry: Getting registered function: spawn_item
2025-10-27 20:49:30,136 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'spawn_item'...
2025-10-27 20:49:30,136 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,137 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,137 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed successfully.
2025-10-27 20:49:30,137 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed (checkpoint turn=19)
2025-10-27 20:49:30,139 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 20:49:30,139 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,139 [INFO] fortress_director.orchestrator.orchestrator: Weather changed via safe function, re-describing world...
2025-10-27 20:49:30,139 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 19 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance'}
2025-10-27 20:49:30,139 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,140 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,140 [INFO] fortress_director.orchestrator.orchestrator: World re-described after safe function.
2025-10-27 20:49:30,140 [DEBUG] fortress_director.orchestrator.orchestrator: New world output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,140 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 38, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,140 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 38, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,140 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=19/10) with metrics={'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 38, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,140 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,140 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,142 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,142 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 20:49:30,143 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 20:49:30,143 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 18 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds...
2025-10-27 20:49:30,143 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 20:49:30,143 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 20:49:30,144 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 20:49:30,144 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 20:49:30,145 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,145 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=19, call=None)
2025-10-27 20:49:30,145 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 20:49:30,145 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,145 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 19, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standin...
2025-10-27 20:49:30,145 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 38, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,145 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 38, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,145 [INFO] fortress_director.utils.glitch_manager: Game finalized, skipping glitch resolution
2025-10-27 20:49:30,147 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=0, triggered_loss=False
2025-10-27 20:49:30,147 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 38, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,147 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=38, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 20:49:30,147 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 37, 'cause': 'turn_recovery'}
2025-10-27 20:49:30,147 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 38 to 37 (cause=turn_recovery)
2025-10-27 20:49:30,147 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 37, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,147 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 20:49:30,148 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 19 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player deeply; Shieldbearer distrusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 20:49:30,148 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 19 in room entrance
2025-10-27 20:49:30,148 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 19 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,148 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 20:49:30,148 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 19 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': [], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 37, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 20:49:30,148 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,149 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,149 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 20:49:30,149 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,149 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 19 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,149 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 20:49:30,150 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 19 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.', 'world_constraint_from_prev_turn': '{"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 18: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 17:...', 'Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....']}
2025-10-27 20:49:30,150 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]}
2025-10-27 20:49:30,150 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}], 'metric_delta': {}}
2025-10-27 20:49:30,151 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 20:49:30,151 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}, {"action_type": "support", "id": "opt_2", "text": "Signal the keep for additional lantern oil."}, {"action_type": "observe", "id": "opt_3", "text": "Quietly observe the storm's strange rhythm."}], "safe_functions": [{"kwargs": {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}, "metadata": {"origin": "event_stub"}, "name": "change_weather"}], "scene": "Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,152 [INFO] fortress_director.orchestrator.orchestrator: Applying safe functions from event: [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]
2025-10-27 20:49:30,152 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,152 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,152 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,152 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=19, call=change_weather)
2025-10-27 20:49:30,153 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,153 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,153 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,154 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=19)
2025-10-27 20:49:30,154 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,154 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=19)
2025-10-27 20:49:30,156 [DEBUG] fortress_director.orchestrator.orchestrator: Applied safe function: {'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}
2025-10-27 20:49:30,156 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after safe functions: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 37, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,156 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 20:49:30,156 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], player_choice_id=None)
2025-10-27 20:49:30,156 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,156 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'})
2025-10-27 20:49:30,156 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,156 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}
2025-10-27 20:49:30,157 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'command'
2025-10-27 20:49:30,157 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 19 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,157 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 20:49:30,157 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 19 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'Storm clouds gather over the western wall as watch fires hiss.', 'player_choice': 'Rally the nearby scouts to reinforce the gate.', 'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player deeply; Shieldbearer distrusts the player', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 18: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 17:...', 'Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....']}
2025-10-27 20:49:30,158 [DEBUG] fortress_director.agents.character_agent: Model returned: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,158 [INFO] fortress_director.agents.character_agent: Normalized output (list): [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,158 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 20:49:30,158 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,158 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 20:49:30,159 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 20:49:30,159 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 20:49:30,159 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,159 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 20:49:30,160 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 19, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 18: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 17:...', 'Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 19, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer distrusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 37, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 5, 'Shieldbearer': -2}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,160 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,160 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 19 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player deeply; Shieldbearer distrusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: Storm clouds gather over the western wall as watch fires hiss., player_choice: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,160 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 20:49:30,161 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}
2025-10-27 20:49:30,161 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 20:49:30,161 [INFO] fortress_director.agents.judge_agent: Redundant content detected, skipping LLM evaluation
2025-10-27 20:49:30,161 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': 'redundant_content'}
2025-10-27 20:49:30,161 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 20:49:30,161 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'trust_delta': 1, 'flag_set': ['storm_vigil']}
2025-10-27 20:49:30,161 [INFO] fortress_director.rules.rules_engine: Trust updated for Rhea: 5 -> 5 (delta: 1)
2025-10-27 20:49:30,162 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player
2025-10-27 20:49:30,162 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 20:49:30,162 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 19, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 18: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 17:...', 'Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 19, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer deeply distrusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 37, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 5, 'Shieldbearer': -2}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,162 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=20)
2025-10-27 20:49:30,162 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 20:49:30,162 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 20:49:30,162 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 20, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,162 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 20: {'Rhea': {'old': 5, 'new': 6}}
2025-10-27 20:49:30,163 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Rhea': {'old': 5, 'new': 6}}
2025-10-27 20:49:30,164 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,164 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 20:49:30,164 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,164 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,165 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,165 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=20, call=change_weather)
2025-10-27 20:49:30,165 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,165 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,165 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,166 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,166 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,167 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=20)
2025-10-27 20:49:30,169 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,169 [INFO] fortress_director.codeaware.function_registry: Validating function call: spawn_item
2025-10-27 20:49:30,169 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,169 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=20, call=spawn_item)
2025-10-27 20:49:30,169 [INFO] fortress_director.codeaware.function_registry: Getting registered function: spawn_item
2025-10-27 20:49:30,170 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'spawn_item'...
2025-10-27 20:49:30,170 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,171 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,171 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed successfully.
2025-10-27 20:49:30,171 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed (checkpoint turn=20)
2025-10-27 20:49:30,173 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 20:49:30,173 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,174 [INFO] fortress_director.orchestrator.orchestrator: Weather changed via safe function, re-describing world...
2025-10-27 20:49:30,174 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 20 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance'}
2025-10-27 20:49:30,174 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,174 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,176 [INFO] fortress_director.orchestrator.orchestrator: World re-described after safe function.
2025-10-27 20:49:30,176 [DEBUG] fortress_director.orchestrator.orchestrator: New world output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,176 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 37, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,176 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 37, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,176 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=20/10) with metrics={'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 37, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,176 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,177 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,177 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,178 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 20:49:30,178 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 20:49:30,178 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 19 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,178 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 20:49:30,178 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 20:49:30,179 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 20:49:30,179 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 20:49:30,179 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,180 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=20, call=None)
2025-10-27 20:49:30,180 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 20:49:30,180 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,180 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 20, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,180 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 37, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,180 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 37, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,180 [INFO] fortress_director.utils.glitch_manager: Game finalized, skipping glitch resolution
2025-10-27 20:49:30,180 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=0, triggered_loss=False
2025-10-27 20:49:30,181 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 37, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,181 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=37, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 20:49:30,181 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 36, 'cause': 'turn_recovery'}
2025-10-27 20:49:30,181 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 37 to 36 (cause=turn_recovery)
2025-10-27 20:49:30,181 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 36, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,181 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 20:49:30,182 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 20 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 20:49:30,182 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 20 in room entrance
2025-10-27 20:49:30,182 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 20 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,182 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 20:49:30,182 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 20 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': [], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 36, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 20:49:30,182 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,182 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,183 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 20:49:30,183 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,183 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 20 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,183 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 20:49:30,183 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 20 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.', 'world_constraint_from_prev_turn': '{"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 18: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 17:...', 'Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....']}
2025-10-27 20:49:30,184 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]}
2025-10-27 20:49:30,184 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}], 'metric_delta': {}}
2025-10-27 20:49:30,184 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 20:49:30,184 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}, {"action_type": "support", "id": "opt_2", "text": "Signal the keep for additional lantern oil."}, {"action_type": "observe", "id": "opt_3", "text": "Quietly observe the storm's strange rhythm."}], "safe_functions": [{"kwargs": {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}, "metadata": {"origin": "event_stub"}, "name": "change_weather"}], "scene": "Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,184 [INFO] fortress_director.orchestrator.orchestrator: Applying safe functions from event: [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]
2025-10-27 20:49:30,184 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,185 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,185 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,185 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=20, call=change_weather)
2025-10-27 20:49:30,185 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,186 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,186 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,187 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=20)
2025-10-27 20:49:30,187 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,187 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=20)
2025-10-27 20:49:30,188 [DEBUG] fortress_director.orchestrator.orchestrator: Applied safe function: {'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}
2025-10-27 20:49:30,189 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after safe functions: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 36, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,189 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 20:49:30,189 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], player_choice_id=None)
2025-10-27 20:49:30,189 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,189 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'})
2025-10-27 20:49:30,189 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,189 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}
2025-10-27 20:49:30,189 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'command'
2025-10-27 20:49:30,189 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 20 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,189 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 20:49:30,191 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 20 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'Storm clouds gather over the western wall as watch fires hiss.', 'player_choice': 'Rally the nearby scouts to reinforce the gate.', 'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player deeply; Shieldbearer deeply distrusts the player', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 18: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 17:...', 'Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....']}
2025-10-27 20:49:30,191 [DEBUG] fortress_director.agents.character_agent: Model returned: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,191 [INFO] fortress_director.agents.character_agent: Normalized output (list): [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,192 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 20:49:30,192 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,192 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 20:49:30,192 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 20:49:30,192 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 20:49:30,193 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,193 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 20:49:30,193 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 20, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 18: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 17:...', 'Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 20, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer deeply distrusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 36, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 6, 'Shieldbearer': -2}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,193 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,193 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 20 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: Storm clouds gather over the western wall as watch fires hiss., player_choice: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,193 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 20:49:30,193 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}
2025-10-27 20:49:30,193 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 20:49:30,194 [INFO] fortress_director.agents.judge_agent: Redundant content detected, skipping LLM evaluation
2025-10-27 20:49:30,194 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': 'redundant_content'}
2025-10-27 20:49:30,194 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 20:49:30,194 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'trust_delta': 1, 'flag_set': ['storm_vigil']}
2025-10-27 20:49:30,194 [INFO] fortress_director.rules.rules_engine: Trust updated for Rhea: 6 -> 5 (delta: 1)
2025-10-27 20:49:30,194 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player
2025-10-27 20:49:30,194 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 20:49:30,194 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 20, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 17: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 18: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 17:...', 'Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 20, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer deeply distrusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 36, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 5, 'Shieldbearer': -2}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,195 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=21)
2025-10-27 20:49:30,195 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 20:49:30,195 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 20:49:30,195 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 21, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shiel...
2025-10-27 20:49:30,195 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 21: {'Rhea': {'old': 5, 'new': 4}, 'Shieldbearer': {'old': -2, 'new': -1}}
2025-10-27 20:49:30,196 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Rhea': {'old': 5, 'new': 4}, 'Shieldbearer': {'old': -2, 'new': -1}}
2025-10-27 20:49:30,197 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,197 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 20:49:30,197 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,197 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,198 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,198 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=21, call=change_weather)
2025-10-27 20:49:30,198 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,198 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,199 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,200 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,200 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,200 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=21)
2025-10-27 20:49:30,202 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,202 [INFO] fortress_director.codeaware.function_registry: Validating function call: spawn_item
2025-10-27 20:49:30,202 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,202 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=21, call=spawn_item)
2025-10-27 20:49:30,202 [INFO] fortress_director.codeaware.function_registry: Getting registered function: spawn_item
2025-10-27 20:49:30,203 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'spawn_item'...
2025-10-27 20:49:30,203 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,204 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,204 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed successfully.
2025-10-27 20:49:30,204 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed (checkpoint turn=21)
2025-10-27 20:49:30,207 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 20:49:30,207 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,208 [INFO] fortress_director.orchestrator.orchestrator: Weather changed via safe function, re-describing world...
2025-10-27 20:49:30,208 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 21 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance'}
2025-10-27 20:49:30,208 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,208 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,209 [INFO] fortress_director.orchestrator.orchestrator: World re-described after safe function.
2025-10-27 20:49:30,209 [DEBUG] fortress_director.orchestrator.orchestrator: New world output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,209 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 36, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,209 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 36, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,209 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=21/10) with metrics={'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 36, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,209 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,210 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,210 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,211 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 20:49:30,211 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 20:49:30,211 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 20 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,211 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 20:49:30,212 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 20:49:30,212 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 20:49:30,213 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 20:49:30,213 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,213 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=21, call=None)
2025-10-27 20:49:30,213 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 20:49:30,213 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,213 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 21, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shiel...
2025-10-27 20:49:30,213 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 36, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,214 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 36, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,214 [INFO] fortress_director.utils.glitch_manager: Game finalized, skipping glitch resolution
2025-10-27 20:49:30,214 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=0, triggered_loss=False
2025-10-27 20:49:30,214 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 36, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,214 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=36, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 20:49:30,214 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 35, 'cause': 'turn_recovery'}
2025-10-27 20:49:30,214 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 36 to 35 (cause=turn_recovery)
2025-10-27 20:49:30,214 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 35, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,214 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 20:49:30,215 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 21 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 20:49:30,215 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 21 in room entrance
2025-10-27 20:49:30,215 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 21 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,215 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 20:49:30,215 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 21 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': [], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 35, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 20:49:30,216 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,216 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,216 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 20:49:30,217 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,217 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 21 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,217 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 20:49:30,217 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 21 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.', 'world_constraint_from_prev_turn': '{"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 17:...', 'Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 21: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...']}
2025-10-27 20:49:30,218 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]}
2025-10-27 20:49:30,218 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}], 'metric_delta': {}}
2025-10-27 20:49:30,218 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 20:49:30,219 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}, {"action_type": "support", "id": "opt_2", "text": "Signal the keep for additional lantern oil."}, {"action_type": "observe", "id": "opt_3", "text": "Quietly observe the storm's strange rhythm."}], "safe_functions": [{"kwargs": {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}, "metadata": {"origin": "event_stub"}, "name": "change_weather"}], "scene": "Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,219 [INFO] fortress_director.orchestrator.orchestrator: Applying safe functions from event: [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]
2025-10-27 20:49:30,219 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,219 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,219 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,220 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=21, call=change_weather)
2025-10-27 20:49:30,220 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,220 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,220 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,221 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=21)
2025-10-27 20:49:30,221 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,221 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=21)
2025-10-27 20:49:30,224 [DEBUG] fortress_director.orchestrator.orchestrator: Applied safe function: {'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}
2025-10-27 20:49:30,224 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after safe functions: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 35, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,224 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 20:49:30,224 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], player_choice_id=None)
2025-10-27 20:49:30,224 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,224 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'})
2025-10-27 20:49:30,224 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,225 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}
2025-10-27 20:49:30,225 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'command'
2025-10-27 20:49:30,225 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 21 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,225 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 20:49:30,225 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 21 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'Storm clouds gather over the western wall as watch fires hiss.', 'player_choice': 'Rally the nearby scouts to reinforce the gate.', 'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player deeply; Shieldbearer deeply distrusts the player', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 17:...', 'Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 21: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...']}
2025-10-27 20:49:30,226 [DEBUG] fortress_director.agents.character_agent: Model returned: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,226 [INFO] fortress_director.agents.character_agent: Normalized output (list): [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,226 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 20:49:30,226 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,226 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 20:49:30,227 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 20:49:30,227 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 20:49:30,227 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,227 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 20:49:30,227 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 21, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 17:...', 'Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 21: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 21, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer deeply distrusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 35, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 4, 'Shieldbearer': -1}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,228 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,228 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 21 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: Storm clouds gather over the western wall as watch fires hiss., player_choice: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,228 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 20:49:30,228 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}
2025-10-27 20:49:30,228 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 20:49:30,228 [INFO] fortress_director.agents.judge_agent: Redundant content detected, skipping LLM evaluation
2025-10-27 20:49:30,228 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': 'redundant_content'}
2025-10-27 20:49:30,229 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 20:49:30,229 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'trust_delta': 1, 'flag_set': ['storm_vigil']}
2025-10-27 20:49:30,229 [INFO] fortress_director.rules.rules_engine: Trust updated for Rhea: 4 -> 5 (delta: 1)
2025-10-27 20:49:30,229 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea trusts the player deeply; Shieldbearer distrusts the player
2025-10-27 20:49:30,229 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 20:49:30,230 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 21, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Memory summary: Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 17:...', 'Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 21: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 21, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer distrusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 35, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 5, 'Shieldbearer': -1}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,230 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=22)
2025-10-27 20:49:30,230 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 20:49:30,230 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 20:49:30,230 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 22, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,231 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 22: {'Rhea': {'old': 5, 'new': 6}, 'Shieldbearer': {'old': -1, 'new': -2}}
2025-10-27 20:49:30,231 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Rhea': {'old': 5, 'new': 6}, 'Shieldbearer': {'old': -1, 'new': -2}}
2025-10-27 20:49:30,231 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,233 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 20:49:30,233 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,233 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,233 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,234 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=22, call=change_weather)
2025-10-27 20:49:30,234 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,234 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,234 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,235 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,235 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,235 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=22)
2025-10-27 20:49:30,237 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,237 [INFO] fortress_director.codeaware.function_registry: Validating function call: spawn_item
2025-10-27 20:49:30,238 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,238 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=22, call=spawn_item)
2025-10-27 20:49:30,238 [INFO] fortress_director.codeaware.function_registry: Getting registered function: spawn_item
2025-10-27 20:49:30,238 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'spawn_item'...
2025-10-27 20:49:30,238 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,239 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,239 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed successfully.
2025-10-27 20:49:30,240 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed (checkpoint turn=22)
2025-10-27 20:49:30,241 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 20:49:30,242 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,242 [INFO] fortress_director.orchestrator.orchestrator: Weather changed via safe function, re-describing world...
2025-10-27 20:49:30,242 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 22 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance'}
2025-10-27 20:49:30,242 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,243 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,243 [INFO] fortress_director.orchestrator.orchestrator: World re-described after safe function.
2025-10-27 20:49:30,243 [DEBUG] fortress_director.orchestrator.orchestrator: New world output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,243 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 35, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,243 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 35, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,243 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=22/10) with metrics={'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 35, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,243 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,244 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,244 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,245 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 20:49:30,245 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 20:49:30,245 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 21 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,245 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 20:49:30,245 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 20:49:30,247 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 20:49:30,247 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 20:49:30,247 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,248 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=22, call=None)
2025-10-27 20:49:30,248 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 20:49:30,248 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,248 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 22, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,248 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 35, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,249 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 35, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,249 [INFO] fortress_director.utils.glitch_manager: Game finalized, skipping glitch resolution
2025-10-27 20:49:30,249 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=0, triggered_loss=False
2025-10-27 20:49:30,249 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 35, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,249 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=35, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 20:49:30,249 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 34, 'cause': 'turn_recovery'}
2025-10-27 20:49:30,249 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 35 to 34 (cause=turn_recovery)
2025-10-27 20:49:30,250 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 34, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,250 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 20:49:30,250 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 22 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player deeply; Shieldbearer distrusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 20:49:30,250 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 22 in room entrance
2025-10-27 20:49:30,250 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 22 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,250 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 20:49:30,250 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 22 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': [], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 34, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 20:49:30,251 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,251 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,251 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 20:49:30,251 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,251 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 22 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,252 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 20:49:30,252 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 22 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.', 'world_constraint_from_prev_turn': '{"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 21: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...', 'Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....']}
2025-10-27 20:49:30,252 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]}
2025-10-27 20:49:30,252 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}], 'metric_delta': {}}
2025-10-27 20:49:30,252 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 20:49:30,253 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}, {"action_type": "support", "id": "opt_2", "text": "Signal the keep for additional lantern oil."}, {"action_type": "observe", "id": "opt_3", "text": "Quietly observe the storm's strange rhythm."}], "safe_functions": [{"kwargs": {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}, "metadata": {"origin": "event_stub"}, "name": "change_weather"}], "scene": "Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,253 [INFO] fortress_director.orchestrator.orchestrator: Applying safe functions from event: [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]
2025-10-27 20:49:30,253 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,253 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,254 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,254 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=22, call=change_weather)
2025-10-27 20:49:30,254 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,254 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,254 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,256 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=22)
2025-10-27 20:49:30,256 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,256 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=22)
2025-10-27 20:49:30,258 [DEBUG] fortress_director.orchestrator.orchestrator: Applied safe function: {'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}
2025-10-27 20:49:30,258 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after safe functions: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 34, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,258 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 20:49:30,258 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], player_choice_id=None)
2025-10-27 20:49:30,258 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,258 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'})
2025-10-27 20:49:30,258 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,260 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}
2025-10-27 20:49:30,260 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'command'
2025-10-27 20:49:30,260 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 22 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,260 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 20:49:30,260 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 22 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'Storm clouds gather over the western wall as watch fires hiss.', 'player_choice': 'Rally the nearby scouts to reinforce the gate.', 'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player deeply; Shieldbearer distrusts the player', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 21: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...', 'Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....']}
2025-10-27 20:49:30,260 [DEBUG] fortress_director.agents.character_agent: Model returned: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,260 [INFO] fortress_director.agents.character_agent: Normalized output (list): [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,261 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 20:49:30,261 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,261 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 20:49:30,261 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 20:49:30,261 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 20:49:30,261 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,262 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 20:49:30,262 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 22, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 21: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...', 'Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 22, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer distrusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 34, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 6, 'Shieldbearer': -2}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,262 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,262 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 22 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player deeply; Shieldbearer distrusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: Storm clouds gather over the western wall as watch fires hiss., player_choice: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,262 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 20:49:30,262 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}
2025-10-27 20:49:30,262 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 20:49:30,262 [INFO] fortress_director.agents.judge_agent: Redundant content detected, skipping LLM evaluation
2025-10-27 20:49:30,263 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': 'redundant_content'}
2025-10-27 20:49:30,263 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 20:49:30,263 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'trust_delta': 1, 'flag_set': ['storm_vigil']}
2025-10-27 20:49:30,263 [INFO] fortress_director.rules.rules_engine: Trust updated for Rhea: 6 -> 5 (delta: 1)
2025-10-27 20:49:30,263 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player
2025-10-27 20:49:30,264 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 20:49:30,264 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 22, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 21: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...', 'Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 22, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer deeply distrusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 34, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 5, 'Shieldbearer': -2}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,264 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=23)
2025-10-27 20:49:30,264 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 20:49:30,264 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 20:49:30,265 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 23, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,265 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 23: {'Rhea': {'old': 5, 'new': 6}}
2025-10-27 20:49:30,265 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Rhea': {'old': 5, 'new': 6}}
2025-10-27 20:49:30,266 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,266 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 20:49:30,266 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,266 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,267 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,267 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=23, call=change_weather)
2025-10-27 20:49:30,267 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,267 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,268 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,269 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,269 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,269 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=23)
2025-10-27 20:49:30,271 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,272 [INFO] fortress_director.codeaware.function_registry: Validating function call: spawn_item
2025-10-27 20:49:30,272 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,272 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=23, call=spawn_item)
2025-10-27 20:49:30,272 [INFO] fortress_director.codeaware.function_registry: Getting registered function: spawn_item
2025-10-27 20:49:30,273 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'spawn_item'...
2025-10-27 20:49:30,273 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,274 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,274 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed successfully.
2025-10-27 20:49:30,274 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed (checkpoint turn=23)
2025-10-27 20:49:30,276 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 20:49:30,276 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,276 [INFO] fortress_director.orchestrator.orchestrator: Weather changed via safe function, re-describing world...
2025-10-27 20:49:30,276 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 23 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance'}
2025-10-27 20:49:30,277 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,277 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,277 [INFO] fortress_director.orchestrator.orchestrator: World re-described after safe function.
2025-10-27 20:49:30,277 [DEBUG] fortress_director.orchestrator.orchestrator: New world output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,277 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 34, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,277 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 34, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,277 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=23/10) with metrics={'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 34, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,277 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,278 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,278 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,279 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 20:49:30,279 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 20:49:30,280 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 22 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,280 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 20:49:30,280 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 20:49:30,281 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 20:49:30,281 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 20:49:30,281 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,281 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=23, call=None)
2025-10-27 20:49:30,281 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 20:49:30,282 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,282 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 23, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,282 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 34, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,282 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 34, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,282 [INFO] fortress_director.utils.glitch_manager: Game finalized, skipping glitch resolution
2025-10-27 20:49:30,283 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=0, triggered_loss=False
2025-10-27 20:49:30,283 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 34, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,283 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=34, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 20:49:30,283 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 33, 'cause': 'turn_recovery'}
2025-10-27 20:49:30,283 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 34 to 33 (cause=turn_recovery)
2025-10-27 20:49:30,283 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,283 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 20:49:30,284 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 23 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 20:49:30,284 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 23 in room entrance
2025-10-27 20:49:30,284 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 23 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,284 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 20:49:30,284 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 23 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': [], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 20:49:30,284 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,285 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,285 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 20:49:30,285 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,285 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 23 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,285 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 20:49:30,285 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 23 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.', 'world_constraint_from_prev_turn': '{"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 21: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...', 'Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....']}
2025-10-27 20:49:30,287 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]}
2025-10-27 20:49:30,287 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}], 'metric_delta': {}}
2025-10-27 20:49:30,287 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 20:49:30,287 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}, {"action_type": "support", "id": "opt_2", "text": "Signal the keep for additional lantern oil."}, {"action_type": "observe", "id": "opt_3", "text": "Quietly observe the storm's strange rhythm."}], "safe_functions": [{"kwargs": {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}, "metadata": {"origin": "event_stub"}, "name": "change_weather"}], "scene": "Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,288 [INFO] fortress_director.orchestrator.orchestrator: Applying safe functions from event: [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]
2025-10-27 20:49:30,288 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,288 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,288 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,288 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=23, call=change_weather)
2025-10-27 20:49:30,289 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,289 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,289 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,291 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=23)
2025-10-27 20:49:30,291 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,291 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=23)
2025-10-27 20:49:30,292 [DEBUG] fortress_director.orchestrator.orchestrator: Applied safe function: {'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}
2025-10-27 20:49:30,292 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after safe functions: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,292 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 20:49:30,293 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], player_choice_id=None)
2025-10-27 20:49:30,293 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,293 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'})
2025-10-27 20:49:30,293 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,293 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}
2025-10-27 20:49:30,293 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'command'
2025-10-27 20:49:30,293 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 23 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,293 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 20:49:30,293 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 23 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'Storm clouds gather over the western wall as watch fires hiss.', 'player_choice': 'Rally the nearby scouts to reinforce the gate.', 'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player deeply; Shieldbearer deeply distrusts the player', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 21: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...', 'Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....']}
2025-10-27 20:49:30,294 [DEBUG] fortress_director.agents.character_agent: Model returned: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,294 [INFO] fortress_director.agents.character_agent: Normalized output (list): [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,294 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 20:49:30,295 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,295 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 20:49:30,295 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 20:49:30,295 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 20:49:30,295 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,295 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 20:49:30,295 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 23, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 21: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...', 'Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 23, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer deeply distrusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 6, 'Shieldbearer': -2}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,296 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,296 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 23 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: Storm clouds gather over the western wall as watch fires hiss., player_choice: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,296 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 20:49:30,296 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}
2025-10-27 20:49:30,296 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 20:49:30,296 [INFO] fortress_director.agents.judge_agent: Redundant content detected, skipping LLM evaluation
2025-10-27 20:49:30,297 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': 'redundant_content'}
2025-10-27 20:49:30,297 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 20:49:30,297 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'trust_delta': 1, 'flag_set': ['storm_vigil']}
2025-10-27 20:49:30,297 [INFO] fortress_director.rules.rules_engine: Trust updated for Rhea: 6 -> 5 (delta: 1)
2025-10-27 20:49:30,298 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player
2025-10-27 20:49:30,298 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 20:49:30,298 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 23, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 21: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...', 'Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 23, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer deeply distrusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 5, 'Shieldbearer': -2}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,298 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=24)
2025-10-27 20:49:30,298 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 20:49:30,298 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 20:49:30,298 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 24, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western...
2025-10-27 20:49:30,299 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 24: {'Rhea': {'old': 5, 'new': 4}}
2025-10-27 20:49:30,299 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Rhea': {'old': 5, 'new': 4}}
2025-10-27 20:49:30,300 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,300 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 20:49:30,301 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,301 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,301 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,301 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=24, call=change_weather)
2025-10-27 20:49:30,301 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,302 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,302 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,303 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,303 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,303 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=24)
2025-10-27 20:49:30,304 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,305 [INFO] fortress_director.codeaware.function_registry: Validating function call: spawn_item
2025-10-27 20:49:30,305 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,305 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=24, call=spawn_item)
2025-10-27 20:49:30,305 [INFO] fortress_director.codeaware.function_registry: Getting registered function: spawn_item
2025-10-27 20:49:30,305 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'spawn_item'...
2025-10-27 20:49:30,306 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,307 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,308 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed successfully.
2025-10-27 20:49:30,308 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed (checkpoint turn=24)
2025-10-27 20:49:30,309 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 20:49:30,310 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,310 [INFO] fortress_director.orchestrator.orchestrator: Weather changed via safe function, re-describing world...
2025-10-27 20:49:30,310 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 24 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance'}
2025-10-27 20:49:30,311 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,311 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,311 [INFO] fortress_director.orchestrator.orchestrator: World re-described after safe function.
2025-10-27 20:49:30,311 [DEBUG] fortress_director.orchestrator.orchestrator: New world output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,311 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,311 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,311 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=24/10) with metrics={'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,311 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,311 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,312 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,312 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 20:49:30,312 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 20:49:30,313 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 23 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,313 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 20:49:30,313 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 20:49:30,315 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 20:49:30,315 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 20:49:30,316 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,316 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=24, call=None)
2025-10-27 20:49:30,316 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 20:49:30,316 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,316 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 24, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western...
2025-10-27 20:49:30,317 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,317 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,317 [INFO] fortress_director.utils.glitch_manager: Game finalized, skipping glitch resolution
2025-10-27 20:49:30,317 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=0, triggered_loss=False
2025-10-27 20:49:30,317 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 33, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,317 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=33, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 20:49:30,317 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 32, 'cause': 'turn_recovery'}
2025-10-27 20:49:30,317 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 33 to 32 (cause=turn_recovery)
2025-10-27 20:49:30,318 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,318 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 20:49:30,318 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 24 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 20:49:30,318 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 24 in room entrance
2025-10-27 20:49:30,318 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 24 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,318 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 20:49:30,319 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 24 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': [], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 20:49:30,319 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,319 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,319 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 20:49:30,319 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,320 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 24 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,320 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 20:49:30,320 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 24 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.', 'world_constraint_from_prev_turn': '{"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...', 'Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 24: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...']}
2025-10-27 20:49:30,320 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]}
2025-10-27 20:49:30,321 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}], 'metric_delta': {}}
2025-10-27 20:49:30,321 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 20:49:30,321 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}, {"action_type": "support", "id": "opt_2", "text": "Signal the keep for additional lantern oil."}, {"action_type": "observe", "id": "opt_3", "text": "Quietly observe the storm's strange rhythm."}], "safe_functions": [{"kwargs": {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}, "metadata": {"origin": "event_stub"}, "name": "change_weather"}], "scene": "Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,321 [INFO] fortress_director.orchestrator.orchestrator: Applying safe functions from event: [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]
2025-10-27 20:49:30,322 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,322 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,322 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,322 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=24, call=change_weather)
2025-10-27 20:49:30,322 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,322 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,323 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,324 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=24)
2025-10-27 20:49:30,324 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,324 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=24)
2025-10-27 20:49:30,326 [DEBUG] fortress_director.orchestrator.orchestrator: Applied safe function: {'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}
2025-10-27 20:49:30,326 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after safe functions: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,326 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 20:49:30,326 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], player_choice_id=None)
2025-10-27 20:49:30,327 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,327 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'})
2025-10-27 20:49:30,327 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,327 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}
2025-10-27 20:49:30,327 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'command'
2025-10-27 20:49:30,327 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 24 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,327 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 20:49:30,327 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 24 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'Storm clouds gather over the western wall as watch fires hiss.', 'player_choice': 'Rally the nearby scouts to reinforce the gate.', 'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player deeply; Shieldbearer deeply distrusts the player', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...', 'Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 24: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...']}
2025-10-27 20:49:30,328 [DEBUG] fortress_director.agents.character_agent: Model returned: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,328 [INFO] fortress_director.agents.character_agent: Normalized output (list): [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,328 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 20:49:30,329 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,329 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 20:49:30,329 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 20:49:30,329 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 20:49:30,330 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,330 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 20:49:30,330 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 24, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...', 'Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 24: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 24, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer deeply distrusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 4, 'Shieldbearer': -2}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,330 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,330 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 24 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: Storm clouds gather over the western wall as watch fires hiss., player_choice: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,331 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 20:49:30,331 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}
2025-10-27 20:49:30,331 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 20:49:30,331 [INFO] fortress_director.agents.judge_agent: Redundant content detected, skipping LLM evaluation
2025-10-27 20:49:30,332 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': 'redundant_content'}
2025-10-27 20:49:30,332 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 20:49:30,333 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'trust_delta': 1, 'flag_set': ['storm_vigil']}
2025-10-27 20:49:30,333 [INFO] fortress_director.rules.rules_engine: Trust updated for Rhea: 4 -> 5 (delta: 1)
2025-10-27 20:49:30,333 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player
2025-10-27 20:49:30,333 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 20:49:30,333 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 24, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Memory summary: Turn 19: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 20: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...', 'Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 24: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 24, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer deeply distrusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 5, 'Shieldbearer': -2}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,334 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=25)
2025-10-27 20:49:30,334 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 20:49:30,334 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 20:49:30,334 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 25, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,335 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 25: {'Rhea': {'old': 5, 'new': 4}, 'Shieldbearer': {'old': -2, 'new': -3}}
2025-10-27 20:49:30,335 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Rhea': {'old': 5, 'new': 4}, 'Shieldbearer': {'old': -2, 'new': -3}}
2025-10-27 20:49:30,336 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,336 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 20:49:30,336 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,336 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,337 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,337 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=25, call=change_weather)
2025-10-27 20:49:30,337 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,337 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,337 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,338 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,338 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,338 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=25)
2025-10-27 20:49:30,339 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,341 [INFO] fortress_director.codeaware.function_registry: Validating function call: spawn_item
2025-10-27 20:49:30,341 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,341 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=25, call=spawn_item)
2025-10-27 20:49:30,341 [INFO] fortress_director.codeaware.function_registry: Getting registered function: spawn_item
2025-10-27 20:49:30,342 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'spawn_item'...
2025-10-27 20:49:30,342 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,342 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,342 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed successfully.
2025-10-27 20:49:30,343 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed (checkpoint turn=25)
2025-10-27 20:49:30,344 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 20:49:30,344 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,344 [INFO] fortress_director.orchestrator.orchestrator: Weather changed via safe function, re-describing world...
2025-10-27 20:49:30,346 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 25 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance'}
2025-10-27 20:49:30,346 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,346 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,346 [INFO] fortress_director.orchestrator.orchestrator: World re-described after safe function.
2025-10-27 20:49:30,347 [DEBUG] fortress_director.orchestrator.orchestrator: New world output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,347 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,347 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,347 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=25/10) with metrics={'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,347 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,347 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,348 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,348 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 20:49:30,349 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 20:49:30,349 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 24 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,349 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 20:49:30,349 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 20:49:30,350 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 20:49:30,351 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 20:49:30,351 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,351 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=25, call=None)
2025-10-27 20:49:30,351 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 20:49:30,351 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,351 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 25, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,352 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,352 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,352 [INFO] fortress_director.utils.glitch_manager: Game finalized, skipping glitch resolution
2025-10-27 20:49:30,352 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=0, triggered_loss=False
2025-10-27 20:49:30,352 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 32, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,352 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=32, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 20:49:30,352 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 31, 'cause': 'turn_recovery'}
2025-10-27 20:49:30,352 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 32 to 31 (cause=turn_recovery)
2025-10-27 20:49:30,353 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,353 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 20:49:30,353 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 25 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 20:49:30,353 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 25 in room entrance
2025-10-27 20:49:30,353 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 25 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,353 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 20:49:30,353 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 25 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': [], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 20:49:30,354 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,354 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,354 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 20:49:30,354 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,354 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 25 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,354 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 20:49:30,354 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 25 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.', 'world_constraint_from_prev_turn': '{"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 24: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...', 'Turn 25: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....']}
2025-10-27 20:49:30,355 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]}
2025-10-27 20:49:30,355 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'Storm clouds gather over the western wall as watch fires hiss.', 'options': [{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], 'major_event': False, 'safe_functions': [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}], 'metric_delta': {}}
2025-10-27 20:49:30,356 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 20:49:30,356 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}, {"action_type": "support", "id": "opt_2", "text": "Signal the keep for additional lantern oil."}, {"action_type": "observe", "id": "opt_3", "text": "Quietly observe the storm's strange rhythm."}], "safe_functions": [{"kwargs": {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}, "metadata": {"origin": "event_stub"}, "name": "change_weather"}], "scene": "Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,356 [INFO] fortress_director.orchestrator.orchestrator: Applying safe functions from event: [{'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}]
2025-10-27 20:49:30,356 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,357 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,357 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,357 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=25, call=change_weather)
2025-10-27 20:49:30,357 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,358 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,358 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,359 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=25)
2025-10-27 20:49:30,359 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,359 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=25)
2025-10-27 20:49:30,361 [DEBUG] fortress_director.orchestrator.orchestrator: Applied safe function: {'name': 'change_weather', 'kwargs': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'metadata': {'origin': 'event_stub'}}
2025-10-27 20:49:30,361 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after safe functions: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,362 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 20:49:30,362 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}, {'id': 'opt_2', 'text': 'Signal the keep for additional lantern oil.', 'action_type': 'support'}, {'id': 'opt_3', 'text': "Quietly observe the storm's strange rhythm.", 'action_type': 'observe'}], player_choice_id=None)
2025-10-27 20:49:30,362 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,362 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'})
2025-10-27 20:49:30,362 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,362 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "command", "id": "opt_1", "text": "Rally the nearby scouts to reinforce the gate."}
2025-10-27 20:49:30,362 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'command'
2025-10-27 20:49:30,363 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 25 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,363 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 20:49:30,363 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 25 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'Storm clouds gather over the western wall as watch fires hiss.', 'player_choice': 'Rally the nearby scouts to reinforce the gate.', 'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player deeply; Shieldbearer deeply distrusts the player', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 24: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...', 'Turn 25: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....']}
2025-10-27 20:49:30,363 [DEBUG] fortress_director.agents.character_agent: Model returned: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,363 [INFO] fortress_director.agents.character_agent: Normalized output (list): [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,363 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 20:49:30,364 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,364 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 20:49:30,364 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 20:49:30,364 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 20:49:30,364 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "brace_shield", "effects": {"flag_set": ["storm_vigil"], "trust_delta": 1}, "intent": "defend", "name": "Rhea", "safe_functions": [{"args": [], "kwargs": {"item_id": "lantern_oil", "target": "player"}, "metadata": {"origin": "character_stub"}, "name": "spawn_item"}], "speech": "(It's raining.) I'll keep the storm off the wall while you plan our next move."}]
2025-10-27 20:49:30,364 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 20:49:30,365 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 25, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 24: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...', 'Turn 25: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 25, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer deeply distrusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 4, 'Shieldbearer': -3}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,365 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}]
2025-10-27 20:49:30,365 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 25 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: Storm clouds gather over the western wall as watch fires hiss., player_choice: {'id': 'opt_1', 'text': 'Rally the nearby scouts to reinforce the gate.', 'action_type': 'command'}
2025-10-27 20:49:30,365 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 20:49:30,365 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'defend', 'action': 'brace_shield', 'speech': "(It's raining.) I'll keep the storm off the wall while you plan our next move.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_vigil']}, 'safe_functions': [{'name': 'spawn_item', 'args': [], 'kwargs': {'item_id': 'lantern_oil', 'target': 'player'}, 'metadata': {'origin': 'character_stub'}}]}
2025-10-27 20:49:30,365 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 20:49:30,366 [INFO] fortress_director.agents.judge_agent: Redundant content detected, skipping LLM evaluation
2025-10-27 20:49:30,366 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': 'redundant_content'}
2025-10-27 20:49:30,366 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 20:49:30,366 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'trust_delta': 1, 'flag_set': ['storm_vigil']}
2025-10-27 20:49:30,366 [INFO] fortress_director.rules.rules_engine: Trust updated for Rhea: 4 -> 5 (delta: 1)
2025-10-27 20:49:30,367 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player
2025-10-27 20:49:30,367 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 20:49:30,367 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 25, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Turn 24: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 22: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss.... | Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds g...', 'Turn 25: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 25, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.', 'Storm clouds gather over the western wall as watch fires hiss.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'electric storm', 'sensory_details': 'lightning traces the parapets'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player deeply; Shieldbearer deeply distrusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 5, 'Shieldbearer': -3}, 'finalized': True, 'demo_mode': True, 'status_effects': []}
2025-10-27 20:49:30,367 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=26)
2025-10-27 20:49:30,367 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 20:49:30,368 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 20:49:30,368 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 26, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "lore": {}, "memory_layers": ["Turn 23: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch f...
2025-10-27 20:49:30,368 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 26: {'Rhea': {'old': 5, 'new': 6}, 'Shieldbearer': {'old': -3, 'new': -4}}
2025-10-27 20:49:30,368 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Rhea': {'old': 5, 'new': 6}, 'Shieldbearer': {'old': -3, 'new': -4}}
2025-10-27 20:49:30,369 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=26)
2025-10-27 20:49:30,369 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 20:49:30,369 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=26)
2025-10-27 20:49:30,369 [INFO] fortress_director.codeaware.function_registry: Validating function call: change_weather
2025-10-27 20:49:30,370 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=26)
2025-10-27 20:49:30,370 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=26, call=change_weather)
2025-10-27 20:49:30,370 [INFO] fortress_director.codeaware.function_registry: Getting registered function: change_weather
2025-10-27 20:49:30,370 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'change_weather'...
2025-10-27 20:49:30,371 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=26)
2025-10-27 20:49:30,371 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=26)
2025-10-27 20:49:30,371 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed successfully.
2025-10-27 20:49:30,372 [INFO] fortress_director.codeaware.rollback_system: Safe function 'change_weather' executed (checkpoint turn=26)
2025-10-27 20:49:30,373 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=26)
2025-10-27 20:49:30,373 [INFO] fortress_director.codeaware.function_registry: Validating function call: spawn_item
2025-10-27 20:49:30,375 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=26)
2025-10-27 20:49:30,375 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=26, call=spawn_item)
2025-10-27 20:49:30,375 [INFO] fortress_director.codeaware.function_registry: Getting registered function: spawn_item
2025-10-27 20:49:30,375 [INFO] fortress_director.codeaware.rollback_system: Executing safe function 'spawn_item'...
2025-10-27 20:49:30,376 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=26)
2025-10-27 20:49:30,377 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=26)
2025-10-27 20:49:30,377 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed successfully.
2025-10-27 20:49:30,377 [INFO] fortress_director.codeaware.rollback_system: Safe function 'spawn_item' executed (checkpoint turn=26)
2025-10-27 20:49:30,379 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 20:49:30,379 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=26)
2025-10-27 20:49:30,379 [INFO] fortress_director.orchestrator.orchestrator: Weather changed via safe function, re-describing world...
2025-10-27 20:49:30,379 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 26 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "electric storm", "sensory_details": "lightning traces the parapets"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player deeply; Shieldbearer deeply distrusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance'}
2025-10-27 20:49:30,379 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,380 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'storm glare', 'sensory_details': 'hail rattles the stones'}
2025-10-27 20:49:30,380 [INFO] fortress_director.orchestrator.orchestrator: World re-described after safe function.
2025-10-27 20:49:30,380 [DEBUG] fortress_director.orchestrator.orchestrator: New world output: {"atmosphere": "storm glare", "sensory_details": "hail rattles the stones"}
2025-10-27 20:49:30,380 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,380 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,380 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=26/10) with metrics={'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 20:49:30,380 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,381 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 20:49:30,383 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=26)
2025-10-27 20:49:30,383 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 20:49:30,383 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 20:49:30,383 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 25 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"electric storm\", \"sensory_details\": \"lightning traces the parapets\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.; Storm clouds gather over the western wall as watch fires hiss.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the pla...
2025-10-27 20:49:30,383 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 20:49:30,383 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 21:18:08,512 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 21:18:08,512 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=16)
2025-10-27 21:18:08,512 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=16)
2025-10-27 21:18:08,512 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=16)
2025-10-27 21:18:08,512 [INFO] fortress_director.codeaware.function_registry: Registering safe function: change_weather
2025-10-27 21:18:08,512 [INFO] fortress_director.codeaware.function_registry: Safe function 'change_weather' registered successfully.
2025-10-27 21:18:08,512 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_item
2025-10-27 21:18:08,512 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_item' registered successfully.
2025-10-27 21:18:08,520 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_npc
2025-10-27 21:18:08,520 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_npc' registered successfully.
2025-10-27 21:18:08,520 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_logic
2025-10-27 21:18:08,520 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_logic' registered successfully.
2025-10-27 21:18:08,520 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_emotion
2025-10-27 21:18:08,520 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_emotion' registered successfully.
2025-10-27 21:18:08,520 [INFO] fortress_director.codeaware.function_registry: Registering safe function: raise_corruption
2025-10-27 21:18:08,520 [INFO] fortress_director.codeaware.function_registry: Safe function 'raise_corruption' registered successfully.
2025-10-27 21:18:08,520 [INFO] fortress_director.codeaware.function_registry: Registering safe function: advance_turn
2025-10-27 21:18:08,520 [INFO] fortress_director.codeaware.function_registry: Safe function 'advance_turn' registered successfully.
2025-10-27 21:18:08,520 [INFO] fortress_director.codeaware.function_registry: Registering safe function: modify_resources
2025-10-27 21:18:08,520 [INFO] fortress_director.codeaware.function_registry: Safe function 'modify_resources' registered successfully.
2025-10-27 21:18:08,520 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_metric
2025-10-27 21:18:08,520 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_metric' registered successfully.
2025-10-27 21:18:08,520 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_room
2025-10-27 21:18:08,523 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_room' registered successfully.
2025-10-27 21:18:08,523 [INFO] fortress_director.codeaware.function_registry: Registering safe function: apply_glitch_memory_noise
2025-10-27 21:18:08,523 [INFO] fortress_director.codeaware.function_registry: Safe function 'apply_glitch_memory_noise' registered successfully.
2025-10-27 21:18:08,523 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_duplicated_event
2025-10-27 21:18:08,523 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_duplicated_event' registered successfully.
2025-10-27 21:18:08,523 [INFO] fortress_director.codeaware.function_registry: Registering safe function: create_npc
2025-10-27 21:18:08,523 [INFO] fortress_director.codeaware.function_registry: Safe function 'create_npc' registered successfully.
2025-10-27 21:18:08,523 [INFO] fortress_director.codeaware.function_registry: Registering safe function: play_sound
2025-10-27 21:18:08,523 [INFO] fortress_director.codeaware.function_registry: Safe function 'play_sound' registered successfully.
2025-10-27 21:18:08,523 [INFO] fortress_director.codeaware.function_registry: Registering safe function: start_rain
2025-10-27 21:18:08,523 [INFO] fortress_director.codeaware.function_registry: Safe function 'start_rain' registered successfully.
2025-10-27 21:18:08,523 [INFO] fortress_director.codeaware.function_registry: Registering safe function: stop_rain
2025-10-27 21:18:08,525 [INFO] fortress_director.codeaware.function_registry: Safe function 'stop_rain' registered successfully.
2025-10-27 21:18:08,525 [INFO] fortress_director.codeaware.function_registry: Registering safe function: soak_items
2025-10-27 21:18:08,525 [INFO] fortress_director.codeaware.function_registry: Safe function 'soak_items' registered successfully.
2025-10-27 21:18:08,525 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_item_state
2025-10-27 21:18:08,525 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_item_state' registered successfully.
2025-10-27 21:18:08,537 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 21:18:08,537 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 21:18:08,537 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 21:18:08,537 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=0, call=None)
2025-10-27 21:18:08,537 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 21:18:08,537 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 21:18:08,541 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "autonomy_level": "none", "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 16, "day": 1, "demo_mode": true, "finalized": false, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "item_states": {}, "items": {}, "lore": {}, "memory_layers": ["Turn 13: You ask the Shieldbearer about the distant ...
2025-10-27 21:18:08,541 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:18:08,541 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:18:08,541 [INFO] fortress_director.utils.glitch_manager: Resolving glitch (turn=17, seed=7, current_glitch=31)
2025-10-27 21:18:08,541 [DEBUG] fortress_director.utils.glitch_manager: Metrics before glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:18:08,541 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=31, delta=10, limits=(0, 100) (cause=glitch:momentum_overload)
2025-10-27 21:18:08,541 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': 10, 'value': 41, 'cause': 'glitch:momentum_overload'}
2025-10-27 21:18:08,541 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 31 to 41 (cause=glitch:momentum_overload)
2025-10-27 21:18:08,541 [INFO] fortress_director.utils.glitch_manager: Glitch roll complete: roll=58, triggered_loss=True
2025-10-27 21:18:08,541 [DEBUG] fortress_director.utils.glitch_manager: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 41, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:18:08,541 [DEBUG] fortress_director.utils.glitch_manager: Glitch effects applied: ['Glitch momentum overload triggers early cascade.']
2025-10-27 21:18:08,541 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=58, triggered_loss=True
2025-10-27 21:18:08,543 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 41, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:18:08,543 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=41, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 21:18:08,543 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 40, 'cause': 'turn_recovery'}
2025-10-27 21:18:08,543 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 41 to 40 (cause=turn_recovery)
2025-10-27 21:18:08,543 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:18:08,543 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 21:18:08,543 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
Recent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 21:18:08,543 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 0 in room entrance
2025-10-27 21:18:08,543 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 21:18:08,543 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 21:18:08,543 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': ['Glitch momentum overload triggers early cascade.'], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 21:18:16,711 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}
2025-10-27 21:18:16,711 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}
2025-10-27 21:18:16,711 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 21:18:16,711 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
2025-10-27 21:18:16,712 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 21:18:16,712 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 21:18:16,712 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': '[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...', 'world_constraint_from_prev_turn': '{"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...']}
2025-10-27 21:18:52,507 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area, making it difficult to see beyond the walls. As you draw closer, she speaks in a low voice.', 'options': [{'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm.', 'action_type': 'dialog'}, {'id': 'offer_shelter', 'text': 'You offer to take shelter with her until the rain subsides.', 'action_type': 'interaction'}, {'id': 'check_for_clues', 'text': 'You ask the Shieldbearer if she has noticed anything unusual lately.', 'action_type': 'dialog'}], 'major_event': False, 'safe_functions': []}
2025-10-27 21:18:52,508 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area, making it difficult to see beyond the walls. As you draw closer, she speaks in a low voice.', 'options': [{'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm.', 'action_type': 'dialog'}, {'id': 'offer_shelter', 'text': 'You offer to take shelter with her until the rain subsides.', 'action_type': 'interaction'}, {'id': 'check_for_clues', 'text': 'You ask the Shieldbearer if she has noticed anything unusual lately.', 'action_type': 'dialog'}], 'major_event': False, 'safe_functions': [], 'metric_delta': {}}
2025-10-27 21:18:52,508 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 21:18:52,508 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "dialog", "id": "ask_about_storm", "text": "You ask the Shieldbearer about the storm."}, {"action_type": "interaction", "id": "offer_shelter", "text": "You offer to take shelter with her until the rain subsides."}, {"action_type": "dialog", "id": "check_for_clues", "text": "You ask the Shieldbearer if she has noticed anything unusual lately."}], "safe_functions": [], "scene": "The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens ...
2025-10-27 21:18:52,508 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 21:18:52,508 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm.', 'action_type': 'dialog'}, {'id': 'offer_shelter', 'text': 'You offer to take shelter with her until the rain subsides.', 'action_type': 'interaction'}, {'id': 'check_for_clues', 'text': 'You ask the Shieldbearer if she has noticed anything unusual lately.', 'action_type': 'dialog'}], player_choice_id=None)
2025-10-27 21:18:52,508 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm.', 'action_type': 'dialog'}
2025-10-27 21:18:52,508 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm.', 'action_type': 'dialog'})
2025-10-27 21:18:52,508 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm.', 'action_type': 'dialog'}
2025-10-27 21:18:52,508 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "dialog", "id": "ask_about_storm", "text": "You ask the Shieldbearer about the storm."}
2025-10-27 21:18:52,508 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'dialog'
2025-10-27 21:18:52,508 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 21:18:52,508 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 21:18:52,508 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area, making it difficult to see beyond the walls. As you draw closer, she speaks in a low voice.', 'player_choice': 'You ask the Shieldbearer about the storm.', 'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly.", 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...']}
2025-10-27 21:19:03,957 [DEBUG] fortress_director.agents.character_agent: Model returned: {'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': 'I stand vigilant, my senses alert to any sign of danger.', 'effects': {'trust_delta': 1, 'flag_set': ['has_seen_player'], 'item_change': {'weapon': 'shield'}, 'status_change': {'health': 100}}}
2025-10-27 21:19:03,958 [INFO] fortress_director.agents.character_agent: Normalized output (dict): [{'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': "(It's raining.) I stand vigilant, my senses alert to any sign of danger.", 'effects': {'trust_delta': 1, 'flag_set': ['has_seen_player']}}]
2025-10-27 21:19:03,958 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 21:19:03,958 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "stand_vigilance", "effects": {"flag_set": ["has_seen_player"], "trust_delta": 1}, "intent": "vigilance", "name": "Shieldbearer", "speech": "(It's raining.) I stand vigilant, my senses alert to any sign of danger."}]
2025-10-27 21:19:03,958 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 21:19:03,959 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 21:19:03,959 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 21:19:03,959 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "stand_vigilance", "effects": {"flag_set": ["has_seen_player"], "trust_delta": 1}, "intent": "vigilance", "name": "Shieldbearer", "speech": "(It's raining.) I stand vigilant, my senses alert to any sign of danger."}]
2025-10-27 21:19:03,959 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 21:19:03,959 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 16, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'Storm clouds gather over the western wall as watch fires hiss.', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}, 'weather': {'atmosphere': 'low clouds hug the battlements', 'precipitation': 'none', 'intensity': 'none', 'last_changed_turn': 0}, 'npc_locations': {}, 'npc_memory': {}, 'items': {}, 'item_states': {}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 0, 'Shieldbearer': 0}, 'finalized': False, 'demo_mode': True, 'status_effects': [], 'autonomy_level': 'none'}
2025-10-27 21:19:03,959 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': "(It's raining.) I stand vigilant, my senses alert to any sign of danger.", 'effects': {'trust_delta': 1, 'flag_set': ['has_seen_player']}}]
2025-10-27 21:19:03,959 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
Recent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area, making it difficult to see beyond the walls. As you draw closer, she speaks in a low voice., player_choice: {'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm.', 'action_type': 'dialog'}
2025-10-27 21:19:03,959 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 21:19:03,959 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': "(It's raining.) I stand vigilant, my senses alert to any sign of danger.", 'effects': {'trust_delta': 1, 'flag_set': ['has_seen_player']}}
2025-10-27 21:19:03,960 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 21:19:10,637 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Shieldbearer: {'consistent': True, 'reason': "The content is consistent with established world, lore, and character logic. The Shieldbearer's vigilance and communication with the player are in line with her role as a defender."}
2025-10-27 21:19:10,637 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 21:19:10,638 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Shieldbearer: {'trust_delta': 1, 'flag_set': ['has_seen_player']}
2025-10-27 21:19:10,638 [INFO] fortress_director.rules.rules_engine: Trust updated for Shieldbearer: 0 -> 1 (delta: 1)
2025-10-27 21:19:10,638 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea is neutral toward the player; Shieldbearer trusts the player
2025-10-27 21:19:10,638 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 21:19:10,639 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 16, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm', 'has_seen_player'], 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'Storm clouds gather over the western wall as watch fires hiss.', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}, 'weather': {'atmosphere': 'low clouds hug the battlements', 'precipitation': 'none', 'intensity': 'none', 'last_changed_turn': 0}, 'npc_locations': {}, 'npc_memory': {}, 'items': {}, 'item_states': {}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 0, 'Shieldbearer': 1}, 'finalized': False, 'demo_mode': True, 'status_effects': [], 'autonomy_level': 'none'}
2025-10-27 21:19:10,639 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=1)
2025-10-27 21:19:10,639 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 21:19:10,639 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 21:19:10,640 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "autonomy_level": "none", "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 17, "day": 1, "demo_mode": true, "finalized": false, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm", "has_seen_player"], "inventory": [], "item_states": {}, "items": {}, "lore": {}, "memory_layers": ["Turn 14: Ask the Shieldbearer abo...
2025-10-27 21:19:10,640 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 17: {'Rhea': {'old': 0, 'new': 1}}
2025-10-27 21:19:10,640 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Rhea': {'old': 0, 'new': 1}}
2025-10-27 21:19:10,640 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 21:19:10,640 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 21:19:10,641 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 21:19:10,641 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 21:19:10,641 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:19:10,641 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:19:10,641 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=17/10) with metrics={'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:19:10,641 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 21:19:10,641 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 21:19:10,642 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 21:19:10,642 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 21:19:10,643 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 21:19:10,643 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 21:19:10,643 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 21:19:10,643 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 21:19:10,645 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 21:19:10,645 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 21:19:10,645 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 21:19:10,645 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=17, call=None)
2025-10-27 21:19:10,645 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 21:19:10,645 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 21:19:10,645 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "autonomy_level": "none", "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 17, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm", "has_seen_player"], "inventory": [], "item_states": {}, "items": {}, "lore": {}, "memory_layers": ["Turn 14: Ask the Shieldbearer abou...
2025-10-27 21:19:10,646 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:19:10,646 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:19:10,646 [INFO] fortress_director.utils.glitch_manager: Game finalized, skipping glitch resolution
2025-10-27 21:19:10,646 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=0, triggered_loss=False
2025-10-27 21:19:10,646 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:19:10,646 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=40, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 21:19:10,646 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 39, 'cause': 'turn_recovery'}
2025-10-27 21:19:10,646 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 40 to 39 (cause=turn_recovery)
2025-10-27 21:19:10,647 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:19:10,647 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 21:19:10,647 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 17 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 21:19:10,647 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 17 in room entrance
2025-10-27 21:19:10,647 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The...
2025-10-27 21:19:10,647 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 21:19:10,648 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': [], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 21:19:20,578 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': "Dawn's light pierces through rain clouds, a cool and damp morning.", 'sensory_details': 'The air carries the fresh scent of wet earth mixed with oil from lantern; raindrops create rhythmic tapping sounds on metal shield surfaces.'}
2025-10-27 21:19:20,578 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': "Dawn's light pierces through rain clouds, a cool and damp morning.", 'sensory_details': 'The air carries the fresh scent of wet earth mixed with oil from lantern raindrops create rhythmic tapping sounds on metal shield surfaces.'}
2025-10-27 21:19:20,579 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 21:19:20,579 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "Dawn's light pierces through rain clouds, a cool and damp morning.", "sensory_details": "The air carries the fresh scent of wet earth mixed with oil from lantern raindrops create rhythmic tapping sounds on metal shield surfaces."}
2025-10-27 21:19:20,579 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The...
2025-10-27 21:19:20,579 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 21:19:20,579 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...', 'world_constraint_from_prev_turn': '{"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: You ask the Shieldbearer about the storm. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...']}
2025-10-27 21:19:59,624 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area. As you draw near, she speaks in a voice worn by countless hours of vigilance.', 'options': [{'id': 'ask_about_storm', 'text': "You ask the Shieldbearer about the storm that's been brewing over the western wall.", 'action_type': 'dialog'}, {'id': 'offer_shelter', 'text': 'Offering shelter under your cloak, you suggest she take a break from her watch.', 'action_type': 'interaction'}, {'id': 'inquire_about_duty', 'text': "You inquire about the Shieldbearer's duties and if there's anything you can do to help.", 'action_type': 'dialog'}], 'major_event': False, 'safe_functions': []}
2025-10-27 21:19:59,624 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area. As you draw near, she speaks in a voice worn by countless hours of vigilance.', 'options': [{'id': 'ask_about_storm', 'text': "You ask the Shieldbearer about the storm that's been brewing over the western wall.", 'action_type': 'dialog'}, {'id': 'offer_shelter', 'text': 'Offering shelter under your cloak, you suggest she take a break from her watch.', 'action_type': 'interaction'}, {'id': 'inquire_about_duty', 'text': "You inquire about the Shieldbearer's duties and if there's anything you can do to help.", 'action_type': 'dialog'}], 'major_event': False, 'safe_functions': [], 'metric_delta': {}}
2025-10-27 21:19:59,625 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 21:19:59,625 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "dialog", "id": "ask_about_storm", "text": "You ask the Shieldbearer about the storm that's been brewing over the western wall."}, {"action_type": "interaction", "id": "offer_shelter", "text": "Offering shelter under your cloak, you suggest she take a break from her watch."}, {"action_type": "dialog", "id": "inquire_about_duty", "text": "You inquire about the Shieldbearer's duties and if there's anything you can do to help."}], "safe_functions": [], "scene": "The Shieldbearer, standing guard at the entrance, glances up a...
2025-10-27 21:19:59,625 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 21:19:59,625 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'ask_about_storm', 'text': "You ask the Shieldbearer about the storm that's been brewing over the western wall.", 'action_type': 'dialog'}, {'id': 'offer_shelter', 'text': 'Offering shelter under your cloak, you suggest she take a break from her watch.', 'action_type': 'interaction'}, {'id': 'inquire_about_duty', 'text': "You inquire about the Shieldbearer's duties and if there's anything you can do to help.", 'action_type': 'dialog'}], player_choice_id=None)
2025-10-27 21:19:59,625 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'ask_about_storm', 'text': "You ask the Shieldbearer about the storm that's been brewing over the western wall.", 'action_type': 'dialog'}
2025-10-27 21:19:59,625 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'ask_about_storm', 'text': "You ask the Shieldbearer about the storm that's been brewing over the western wall.", 'action_type': 'dialog'})
2025-10-27 21:19:59,625 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'ask_about_storm', 'text': "You ask the Shieldbearer about the storm that's been brewing over the western wall.", 'action_type': 'dialog'}
2025-10-27 21:19:59,626 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "dialog", "id": "ask_about_storm", "text": "You ask the Shieldbearer about the storm that's been brewing over the western wall."}
2025-10-27 21:19:59,626 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'dialog'
2025-10-27 21:19:59,626 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The...
2025-10-27 21:19:59,626 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 21:19:59,626 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area. As you draw near, she speaks in a voice worn by countless hours of vigilance.', 'player_choice': "You ask the Shieldbearer about the storm that's been brewing over the western wall.", 'atmosphere': "Dawn's light pierces through rain clouds, a cool and damp morning.", 'sensory_details': 'The air carries the fresh scent of wet earth mixed with oil from lantern raindrops create rhythmic tapping sounds on metal shield surfaces.', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: You ask the Shieldbearer about the storm. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...']}
2025-10-27 21:20:07,377 [DEBUG] fortress_director.agents.character_agent: Model returned: {'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': 'The storm clouds gather overhead, casting long shadows across the western wall. The wind whispers a warning in my ear, a constant reminder of the ever-present threat.'}
2025-10-27 21:20:07,377 [INFO] fortress_director.agents.character_agent: Normalized output (dict): [{'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': "(It's raining.) The storm clouds gather overhead, casting long shadows across the western wall. The wind whispers a warning in my ear, a constant reminder of the ever-present threat.", 'effects': {}}]
2025-10-27 21:20:07,377 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 21:20:07,377 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "stand_vigilance", "effects": {}, "intent": "vigilance", "name": "Shieldbearer", "speech": "(It's raining.) The storm clouds gather overhead, casting long shadows across the western wall. The wind whispers a warning in my ear, a constant reminder of the ever-present threat."}]
2025-10-27 21:20:07,377 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 21:20:07,377 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 21:20:07,377 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 21:20:07,377 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "stand_vigilance", "effects": {}, "intent": "vigilance", "name": "Shieldbearer", "speech": "(It's raining.) The storm clouds gather overhead, casting long shadows across the western wall. The wind whispers a warning in my ear, a constant reminder of the ever-present threat."}]
2025-10-27 21:20:07,377 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 21:20:07,377 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 17, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm', 'has_seen_player'], 'memory_layers': ['Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: You ask the Shieldbearer about the storm. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 17, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}, 'weather': {'atmosphere': 'low clouds hug the battlements', 'precipitation': 'none', 'intensity': 'none', 'last_changed_turn': 0}, 'npc_locations': {}, 'npc_memory': {}, 'items': {}, 'item_states': {}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 1, 'Shieldbearer': 1}, 'finalized': True, 'demo_mode': True, 'status_effects': [], 'autonomy_level': 'none'}
2025-10-27 21:20:07,377 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': "(It's raining.) The storm clouds gather overhead, casting long shadows across the western wall. The wind whispers a warning in my ear, a constant reminder of the ever-present threat.", 'effects': {}}]
2025-10-27 21:20:07,377 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 17 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area. As you draw near, she speaks in a voice worn by countless hours of vigilance., player_choice: {'id': 'ask_about_storm', 'text': "You ask the Shieldbearer about the storm that's been brewing over the western wall.", 'action_type': 'dialog'}
2025-10-27 21:20:07,379 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 21:20:07,379 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': "(It's raining.) The storm clouds gather overhead, casting long shadows across the western wall. The wind whispers a warning in my ear, a constant reminder of the ever-present threat.", 'effects': {}}
2025-10-27 21:20:07,379 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 21:20:14,068 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Shieldbearer: {'consistent': True, 'reason': "The content is consistent with established world, lore, and character logic. The scene described by the player choice matches the established world's atmosphere and events."}
2025-10-27 21:20:14,068 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 21:20:14,068 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Shieldbearer: {}
2025-10-27 21:20:14,068 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea trusts the player; Shieldbearer trusts the player
2025-10-27 21:20:14,069 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 21:20:14,069 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 17, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm', 'has_seen_player'], 'memory_layers': ['Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: You ask the Shieldbearer about the storm. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 17, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}, 'weather': {'atmosphere': 'low clouds hug the battlements', 'precipitation': 'none', 'intensity': 'none', 'last_changed_turn': 0}, 'npc_locations': {}, 'npc_memory': {}, 'items': {}, 'item_states': {}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Shieldbearer trusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 1, 'Shieldbearer': 1}, 'finalized': True, 'demo_mode': True, 'status_effects': [], 'autonomy_level': 'none'}
2025-10-27 21:20:14,069 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=18)
2025-10-27 21:20:14,069 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 21:20:14,069 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 21:20:14,070 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "autonomy_level": "none", "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 18, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm", "has_seen_player"], "inventory": [], "item_states": {}, "items": {}, "lore": {}, "memory_layers": ["Memory summary: Turn 13: You ask t...
2025-10-27 21:20:14,070 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 18: {'Shieldbearer': {'old': 1, 'new': 0}}
2025-10-27 21:20:14,070 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Shieldbearer': {'old': 1, 'new': 0}}
2025-10-27 21:20:14,072 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 21:20:14,072 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 21:20:14,072 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 21:20:14,072 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 21:20:14,072 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:20:14,072 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:20:14,072 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=18/10) with metrics={'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:20:14,072 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 21:20:14,073 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 21:20:14,074 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 21:20:14,074 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 21:20:14,074 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 21:20:14,074 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The...
2025-10-27 21:20:14,074 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 21:20:14,074 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 21:20:25,510 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 21:20:25,517 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=16)
2025-10-27 21:20:25,517 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=16)
2025-10-27 21:20:25,517 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\data\world_state.json (turn=16)
2025-10-27 21:20:25,517 [INFO] fortress_director.codeaware.function_registry: Registering safe function: change_weather
2025-10-27 21:20:25,518 [INFO] fortress_director.codeaware.function_registry: Safe function 'change_weather' registered successfully.
2025-10-27 21:20:25,518 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_item
2025-10-27 21:20:25,518 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_item' registered successfully.
2025-10-27 21:20:25,518 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_npc
2025-10-27 21:20:25,519 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_npc' registered successfully.
2025-10-27 21:20:25,519 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_logic
2025-10-27 21:20:25,519 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_logic' registered successfully.
2025-10-27 21:20:25,519 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_emotion
2025-10-27 21:20:25,519 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_emotion' registered successfully.
2025-10-27 21:20:25,520 [INFO] fortress_director.codeaware.function_registry: Registering safe function: raise_corruption
2025-10-27 21:20:25,520 [INFO] fortress_director.codeaware.function_registry: Safe function 'raise_corruption' registered successfully.
2025-10-27 21:20:25,520 [INFO] fortress_director.codeaware.function_registry: Registering safe function: advance_turn
2025-10-27 21:20:25,520 [INFO] fortress_director.codeaware.function_registry: Safe function 'advance_turn' registered successfully.
2025-10-27 21:20:25,520 [INFO] fortress_director.codeaware.function_registry: Registering safe function: modify_resources
2025-10-27 21:20:25,520 [INFO] fortress_director.codeaware.function_registry: Safe function 'modify_resources' registered successfully.
2025-10-27 21:20:25,520 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_metric
2025-10-27 21:20:25,521 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_metric' registered successfully.
2025-10-27 21:20:25,521 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_room
2025-10-27 21:20:25,521 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_room' registered successfully.
2025-10-27 21:20:25,521 [INFO] fortress_director.codeaware.function_registry: Registering safe function: apply_glitch_memory_noise
2025-10-27 21:20:25,521 [INFO] fortress_director.codeaware.function_registry: Safe function 'apply_glitch_memory_noise' registered successfully.
2025-10-27 21:20:25,521 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_duplicated_event
2025-10-27 21:20:25,522 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_duplicated_event' registered successfully.
2025-10-27 21:20:25,522 [INFO] fortress_director.codeaware.function_registry: Registering safe function: create_npc
2025-10-27 21:20:25,522 [INFO] fortress_director.codeaware.function_registry: Safe function 'create_npc' registered successfully.
2025-10-27 21:20:25,522 [INFO] fortress_director.codeaware.function_registry: Registering safe function: play_sound
2025-10-27 21:20:25,522 [INFO] fortress_director.codeaware.function_registry: Safe function 'play_sound' registered successfully.
2025-10-27 21:20:25,522 [INFO] fortress_director.codeaware.function_registry: Registering safe function: start_rain
2025-10-27 21:20:25,522 [INFO] fortress_director.codeaware.function_registry: Safe function 'start_rain' registered successfully.
2025-10-27 21:20:25,522 [INFO] fortress_director.codeaware.function_registry: Registering safe function: stop_rain
2025-10-27 21:20:25,522 [INFO] fortress_director.codeaware.function_registry: Safe function 'stop_rain' registered successfully.
2025-10-27 21:20:25,523 [INFO] fortress_director.codeaware.function_registry: Registering safe function: soak_items
2025-10-27 21:20:25,523 [INFO] fortress_director.codeaware.function_registry: Safe function 'soak_items' registered successfully.
2025-10-27 21:20:25,523 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_item_state
2025-10-27 21:20:25,523 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_item_state' registered successfully.
2025-10-27 21:20:25,539 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 21:20:25,540 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 21:20:25,540 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 21:20:25,540 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=0, call=None)
2025-10-27 21:20:25,540 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 21:20:25,540 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=0)
2025-10-27 21:20:25,540 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "autonomy_level": "none", "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 16, "day": 1, "demo_mode": true, "finalized": false, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm"], "inventory": [], "item_states": {}, "items": {}, "lore": {}, "memory_layers": ["Turn 13: You ask the Shieldbearer about the distant ...
2025-10-27 21:20:25,540 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:20:25,540 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:20:25,540 [INFO] fortress_director.utils.glitch_manager: Resolving glitch (turn=17, seed=7, current_glitch=31)
2025-10-27 21:20:25,540 [DEBUG] fortress_director.utils.glitch_manager: Metrics before glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 31, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:20:25,542 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=31, delta=10, limits=(0, 100) (cause=glitch:momentum_overload)
2025-10-27 21:20:25,542 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': 10, 'value': 41, 'cause': 'glitch:momentum_overload'}
2025-10-27 21:20:25,542 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 31 to 41 (cause=glitch:momentum_overload)
2025-10-27 21:20:25,542 [INFO] fortress_director.utils.glitch_manager: Glitch roll complete: roll=58, triggered_loss=True
2025-10-27 21:20:25,542 [DEBUG] fortress_director.utils.glitch_manager: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 41, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:20:25,542 [DEBUG] fortress_director.utils.glitch_manager: Glitch effects applied: ['Glitch momentum overload triggers early cascade.']
2025-10-27 21:20:25,542 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=58, triggered_loss=True
2025-10-27 21:20:25,542 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 41, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:20:25,542 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=41, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 21:20:25,542 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 40, 'cause': 'turn_recovery'}
2025-10-27 21:20:25,543 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 41 to 40 (cause=turn_recovery)
2025-10-27 21:20:25,543 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:20:25,543 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 21:20:25,543 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
Recent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 21:20:25,543 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 0 in room entrance
2025-10-27 21:20:25,543 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 21:20:25,544 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 21:20:25,544 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': ['Glitch momentum overload triggers early cascade.'], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 21:20:33,809 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}
2025-10-27 21:20:33,809 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}
2025-10-27 21:20:33,809 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 21:20:33,809 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
2025-10-27 21:20:33,809 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 21:20:33,809 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 21:20:33,809 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': '[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...', 'world_constraint_from_prev_turn': '{"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...']}
2025-10-27 21:21:16,978 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area around them.', 'options': [{'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm that has been brewing over the western wall.', 'action_type': 'dialog'}, {'id': 'offer_shelter', 'text': 'You offer to take shelter with the Shieldbearer, suggesting that you could share your oil lamp and lantern oil to keep warm.', 'action_type': 'interaction'}, {'id': 'check_for_signs', 'text': 'You ask the Shieldbearer if she has noticed any unusual signs or movements beyond the western wall during her watch.', 'action_type': 'dialog'}], 'major_event': False, 'safe_functions': []}
2025-10-27 21:21:16,979 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area around them.', 'options': [{'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm that has been brewing over the western wall.', 'action_type': 'dialog'}, {'id': 'offer_shelter', 'text': 'You offer to take shelter with the Shieldbearer, suggesting that you could share your oil lamp and lantern oil to keep warm.', 'action_type': 'interaction'}, {'id': 'check_for_signs', 'text': 'You ask the Shieldbearer if she has noticed any unusual signs or movements beyond the western wall during her watch.', 'action_type': 'dialog'}], 'major_event': False, 'safe_functions': [], 'metric_delta': {}}
2025-10-27 21:21:16,979 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 21:21:16,979 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "dialog", "id": "ask_about_storm", "text": "You ask the Shieldbearer about the storm that has been brewing over the western wall."}, {"action_type": "interaction", "id": "offer_shelter", "text": "You offer to take shelter with the Shieldbearer, suggesting that you could share your oil lamp and lantern oil to keep warm."}, {"action_type": "dialog", "id": "check_for_signs", "text": "You ask the Shieldbearer if she has noticed any unusual signs or movements beyond the western wall during her watch."}], "safe_functions": [],...
2025-10-27 21:21:16,980 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 21:21:16,980 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm that has been brewing over the western wall.', 'action_type': 'dialog'}, {'id': 'offer_shelter', 'text': 'You offer to take shelter with the Shieldbearer, suggesting that you could share your oil lamp and lantern oil to keep warm.', 'action_type': 'interaction'}, {'id': 'check_for_signs', 'text': 'You ask the Shieldbearer if she has noticed any unusual signs or movements beyond the western wall during her watch.', 'action_type': 'dialog'}], player_choice_id=None)
2025-10-27 21:21:16,980 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm that has been brewing over the western wall.', 'action_type': 'dialog'}
2025-10-27 21:21:16,980 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm that has been brewing over the western wall.', 'action_type': 'dialog'})
2025-10-27 21:21:16,980 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm that has been brewing over the western wall.', 'action_type': 'dialog'}
2025-10-27 21:21:16,980 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "dialog", "id": "ask_about_storm", "text": "You ask the Shieldbearer about the storm that has been brewing over the western wall."}
2025-10-27 21:21:16,980 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'dialog'
2025-10-27 21:21:16,981 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 21:21:16,981 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 21:21:16,981 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area around them.', 'player_choice': 'You ask the Shieldbearer about the storm that has been brewing over the western wall.', 'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly.", 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...']}
2025-10-27 21:21:26,841 [DEBUG] fortress_director.agents.character_agent: Model returned: {'name': 'Shieldbearer', 'intent': 'Vigilance', 'action': 'Focus on the storm clouds', 'speech': 'The rain continues to blanket the area, casting long shadows on the wall. The storm clouds gather over the western wall as watch fires hiss.', 'effects': {'trust_delta': 1, 'flag_set': ['storm_cloud_visible'], 'item_change': None, 'status_change': {'health': 100}}}
2025-10-27 21:21:26,841 [INFO] fortress_director.agents.character_agent: Normalized output (dict): [{'name': 'Shieldbearer', 'intent': 'Vigilance', 'action': 'Focus on the storm clouds', 'speech': "(It's raining.) The rain continues to blanket the area, casting long shadows on the wall. The storm clouds gather over the western wall as watch fires hiss.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_cloud_visible']}}]
2025-10-27 21:21:26,841 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 21:21:26,841 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "Focus on the storm clouds", "effects": {"flag_set": ["storm_cloud_visible"], "trust_delta": 1}, "intent": "Vigilance", "name": "Shieldbearer", "speech": "(It's raining.) The rain continues to blanket the area, casting long shadows on the wall. The storm clouds gather over the western wall as watch fires hiss."}]
2025-10-27 21:21:26,841 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 21:21:26,841 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 21:21:26,841 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 21:21:26,841 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "Focus on the storm clouds", "effects": {"flag_set": ["storm_cloud_visible"], "trust_delta": 1}, "intent": "Vigilance", "name": "Shieldbearer", "speech": "(It's raining.) The rain continues to blanket the area, casting long shadows on the wall. The storm clouds gather over the western wall as watch fires hiss."}]
2025-10-27 21:21:26,841 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 21:21:26,841 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 16, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm'], 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'Storm clouds gather over the western wall as watch fires hiss.', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}, 'weather': {'atmosphere': 'low clouds hug the battlements', 'precipitation': 'none', 'intensity': 'none', 'last_changed_turn': 0}, 'npc_locations': {}, 'npc_memory': {}, 'items': {}, 'item_states': {}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 0, 'Shieldbearer': 0}, 'finalized': False, 'demo_mode': True, 'status_effects': [], 'autonomy_level': 'none'}
2025-10-27 21:21:26,841 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Shieldbearer', 'intent': 'Vigilance', 'action': 'Focus on the storm clouds', 'speech': "(It's raining.) The rain continues to blanket the area, casting long shadows on the wall. The storm clouds gather over the western wall as watch fires hiss.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_cloud_visible']}}]
2025-10-27 21:21:26,841 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
Recent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...; Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area around them., player_choice: {'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm that has been brewing over the western wall.', 'action_type': 'dialog'}
2025-10-27 21:21:26,841 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 21:21:26,841 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Shieldbearer', 'intent': 'Vigilance', 'action': 'Focus on the storm clouds', 'speech': "(It's raining.) The rain continues to blanket the area, casting long shadows on the wall. The storm clouds gather over the western wall as watch fires hiss.", 'effects': {'trust_delta': 1, 'flag_set': ['storm_cloud_visible']}}
2025-10-27 21:21:26,841 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 21:21:33,547 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Shieldbearer: {'consistent': True, 'reason': "The content is consistent with established world, lore, and character logic. The Shieldbearer's vigilance against the storm clouds aligns with her role as a defender at the entrance."}
2025-10-27 21:21:33,547 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 21:21:33,547 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Shieldbearer: {'trust_delta': 1, 'flag_set': ['storm_cloud_visible']}
2025-10-27 21:21:33,547 [INFO] fortress_director.rules.rules_engine: Trust updated for Shieldbearer: 0 -> 1 (delta: 1)
2025-10-27 21:21:33,547 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea is neutral toward the player; Shieldbearer trusts the player
2025-10-27 21:21:33,548 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 21:21:33,548 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 16, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm', 'storm_cloud_visible'], 'memory_layers': ['Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['[DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue their rh...', 'Storm clouds gather over the western wall as watch fires hiss.', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}, 'weather': {'atmosphere': 'low clouds hug the battlements', 'precipitation': 'none', 'intensity': 'none', 'last_changed_turn': 0}, 'npc_locations': {}, 'npc_memory': {}, 'items': {}, 'item_states': {}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 0, 'Shieldbearer': 1}, 'finalized': False, 'demo_mode': True, 'status_effects': [], 'autonomy_level': 'none'}
2025-10-27 21:21:33,548 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=1)
2025-10-27 21:21:33,548 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 21:21:33,549 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 21:21:33,549 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "autonomy_level": "none", "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 17, "day": 1, "demo_mode": true, "finalized": false, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm", "storm_cloud_visible"], "inventory": [], "item_states": {}, "items": {}, "lore": {}, "memory_layers": ["Turn 14: Ask the Shieldbearer...
2025-10-27 21:21:33,549 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 17: {'Rhea': {'old': 0, 'new': 1}}
2025-10-27 21:21:33,549 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Rhea': {'old': 0, 'new': 1}}
2025-10-27 21:21:33,550 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 21:21:33,550 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 21:21:33,551 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 21:21:33,551 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 21:21:33,551 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:21:33,551 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:21:33,551 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=17/10) with metrics={'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:21:33,551 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 21:21:33,551 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 21:21:33,552 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 21:21:33,553 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 21:21:33,553 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 21:21:33,553 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: [DUP:tmpl_test] [DUP:tmpl_test] The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The drums beyond the walls continue ...
2025-10-27 21:21:33,553 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 21:21:33,554 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 21:21:33,554 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 21:21:33,555 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 21:21:33,555 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 21:21:33,555 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=17, call=None)
2025-10-27 21:21:33,555 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 21:21:33,556 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=17)
2025-10-27 21:21:33,556 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "autonomy_level": "none", "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 17, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm", "storm_cloud_visible"], "inventory": [], "item_states": {}, "items": {}, "lore": {}, "memory_layers": ["Turn 14: Ask the Shieldbearer ...
2025-10-27 21:21:33,556 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:21:33,556 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:21:33,556 [INFO] fortress_director.utils.glitch_manager: Game finalized, skipping glitch resolution
2025-10-27 21:21:33,556 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=0, triggered_loss=False
2025-10-27 21:21:33,556 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 40, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:21:33,556 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=40, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 21:21:33,556 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 39, 'cause': 'turn_recovery'}
2025-10-27 21:21:33,557 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 40 to 39 (cause=turn_recovery)
2025-10-27 21:21:33,557 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:21:33,557 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 21:21:33,557 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 17 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
2025-10-27 21:21:33,557 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 17 in room entrance
2025-10-27 21:21:33,557 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The...
2025-10-27 21:21:33,558 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 21:21:33,558 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'room': 'entrance', 'glitch_effects': [], 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}}
2025-10-27 21:21:43,022 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}
2025-10-27 21:21:43,022 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}
2025-10-27 21:21:43,022 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 21:21:43,023 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
2025-10-27 21:21:43,023 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The...
2025-10-27 21:21:43,023 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 21:21:43,023 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...', 'world_constraint_from_prev_turn': '{"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: You ask the Shieldbearer about the storm that has been brewing over the western wall. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...']}
2025-10-27 21:22:27,905 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area around them. As you draw near, she speaks in a voice that carries a hint of weariness.', 'options': [{'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm gathering over the western wall.', 'action_type': 'dialog'}, {'id': 'offer_shelter', 'text': 'You offer to take shelter with her, suggesting that you could share warmth and rest together.', 'action_type': 'dialog'}, {'id': 'check_for_clues', 'text': 'You ask the Shieldbearer if she has noticed anything unusual or out of place during her watch.', 'action_type': 'dialog'}], 'major_event': False, 'safe_functions': []}
2025-10-27 21:22:27,905 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area around them. As you draw near, she speaks in a voice that carries a hint of weariness.', 'options': [{'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm gathering over the western wall.', 'action_type': 'dialog'}, {'id': 'offer_shelter', 'text': 'You offer to take shelter with her, suggesting that you could share warmth and rest together.', 'action_type': 'dialog'}, {'id': 'check_for_clues', 'text': 'You ask the Shieldbearer if she has noticed anything unusual or out of place during her watch.', 'action_type': 'dialog'}], 'major_event': False, 'safe_functions': [], 'metric_delta': {}}
2025-10-27 21:22:27,905 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 21:22:27,905 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "metric_delta": {}, "options": [{"action_type": "dialog", "id": "ask_about_storm", "text": "You ask the Shieldbearer about the storm gathering over the western wall."}, {"action_type": "dialog", "id": "offer_shelter", "text": "You offer to take shelter with her, suggesting that you could share warmth and rest together."}, {"action_type": "dialog", "id": "check_for_clues", "text": "You ask the Shieldbearer if she has noticed anything unusual or out of place during her watch."}], "safe_functions": [], "scene": "The Shieldbearer, standing guard at the entrance, glances u...
2025-10-27 21:22:27,905 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 21:22:27,905 [DEBUG] fortress_director.orchestrator.orchestrator: Resolving player choice (raw_options=[{'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm gathering over the western wall.', 'action_type': 'dialog'}, {'id': 'offer_shelter', 'text': 'You offer to take shelter with her, suggesting that you could share warmth and rest together.', 'action_type': 'dialog'}, {'id': 'check_for_clues', 'text': 'You ask the Shieldbearer if she has noticed anything unusual or out of place during her watch.', 'action_type': 'dialog'}], player_choice_id=None)
2025-10-27 21:22:27,905 [DEBUG] fortress_director.orchestrator.orchestrator: Auto-selected first non-end option: {'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm gathering over the western wall.', 'action_type': 'dialog'}
2025-10-27 21:22:27,905 [DEBUG] fortress_director.orchestrator.orchestrator: Resolved player choice (resolved={'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm gathering over the western wall.', 'action_type': 'dialog'})
2025-10-27 21:22:27,905 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm gathering over the western wall.', 'action_type': 'dialog'}
2025-10-27 21:22:27,905 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "dialog", "id": "ask_about_storm", "text": "You ask the Shieldbearer about the storm gathering over the western wall."}
2025-10-27 21:22:27,905 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'dialog'
2025-10-27 21:22:27,905 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The...
2025-10-27 21:22:27,905 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 21:22:27,905 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield\' enduringly."}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.', 'scene_short': 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area around them. As you draw near, she speaks in a voice that carries a hint of weariness.', 'player_choice': 'You ask the Shieldbearer about the storm gathering over the western wall.', 'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly.", 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'player_inventory_brief': 'oil lamp, patched shield, lantern_oil', 'memory_layers': ['Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: You ask the Shieldbearer about the storm that has been brewing over the western wall. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...']}
2025-10-27 21:22:38,039 [DEBUG] fortress_director.agents.character_agent: Model returned: {'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': 'The storm clouds gather overhead, casting a somber shadow on the western wall. A sense of impending danger hangs heavy in the air.', 'effects': {'trust_delta': 100, 'flag_set': ['storm_clouds_visible'], 'item_change': {'oil_lamp': 'empty_oil_lamp'}, 'status_change': {'health': 100}}}
2025-10-27 21:22:38,039 [INFO] fortress_director.agents.character_agent: Normalized output (dict): [{'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': "(It's raining.) The storm clouds gather overhead, casting a somber shadow on the western wall. A sense of impending danger hangs heavy in the air.", 'effects': {'flag_set': ['storm_clouds_visible']}}]
2025-10-27 21:22:38,039 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 21:22:38,040 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "stand_vigilance", "effects": {"flag_set": ["storm_clouds_visible"]}, "intent": "vigilance", "name": "Shieldbearer", "speech": "(It's raining.) The storm clouds gather overhead, casting a somber shadow on the western wall. A sense of impending danger hangs heavy in the air."}]
2025-10-27 21:22:38,040 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 21:22:38,040 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 21:22:38,040 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 21:22:38,040 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "stand_vigilance", "effects": {"flag_set": ["storm_clouds_visible"]}, "intent": "vigilance", "name": "Shieldbearer", "speech": "(It's raining.) The storm clouds gather overhead, casting a somber shadow on the western wall. A sense of impending danger hangs heavy in the air."}]
2025-10-27 21:22:38,040 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 21:22:38,041 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 17, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm', 'storm_cloud_visible'], 'memory_layers': ['Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: You ask the Shieldbearer about the storm that has been brewing over the western wall. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 17, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}, 'weather': {'atmosphere': 'low clouds hug the battlements', 'precipitation': 'none', 'intensity': 'none', 'last_changed_turn': 0}, 'npc_locations': {}, 'npc_memory': {}, 'items': {}, 'item_states': {}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea is neutral toward the player; Shieldbearer trusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 1, 'Shieldbearer': 1}, 'finalized': True, 'demo_mode': True, 'status_effects': [], 'autonomy_level': 'none'}
2025-10-27 21:22:38,041 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': "(It's raining.) The storm clouds gather overhead, casting a somber shadow on the western wall. A sense of impending danger hangs heavy in the air.", 'effects': {'flag_set': ['storm_clouds_visible']}}]
2025-10-27 21:22:38,041 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 17 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield, lantern_oil
World constraint: {"atmosphere": "Dawn breaks, steady rain envelops", "sensory_details": "The air is cool and damp raindrops patter on the shield' enduringly."}
Recent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea is neutral toward the player; Shieldbearer trusts the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating., scene: The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the area around them. As you draw near, she speaks in a voice that carries a hint of weariness., player_choice: {'id': 'ask_about_storm', 'text': 'You ask the Shieldbearer about the storm gathering over the western wall.', 'action_type': 'dialog'}
2025-10-27 21:22:38,041 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 21:22:38,041 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': "(It's raining.) The storm clouds gather overhead, casting a somber shadow on the western wall. A sense of impending danger hangs heavy in the air.", 'effects': {'flag_set': ['storm_clouds_visible']}}
2025-10-27 21:22:38,041 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 21:22:44,535 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Shieldbearer: {'consistent': True, 'reason': "The content is consistent with established world, lore, and character logic. The scene described by the player choice matches the established world's atmosphere and events."}
2025-10-27 21:22:44,535 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 21:22:44,535 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Shieldbearer: {'flag_set': ['storm_clouds_visible']}
2025-10-27 21:22:44,535 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Rhea trusts the player; Shieldbearer trusts the player
2025-10-27 21:22:44,535 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 21:22:44,535 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 17, 'rng_seed': 7, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'heard_drums', 'seen_drums', 'has_seen_smoke', 'is_observing', 'vigilance_flag', 'vigilance_activated', 'is_listening_to_player', 'storm_vigil', 'has_seen_storm', 'storm_cloud_visible', 'storm_clouds_visible'], 'memory_layers': ['Turn 14: Ask the Shieldbearer about the drums you hear in the distance. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 15: Rally the nearby scouts to reinforce the gate. -> Storm clouds gather over the western wall as watch fires hiss....', 'Memory summary: Turn 13: You ask the Shieldbearer about the distant drums. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but... | Turn 14: Ask the Shieldbearer ab...', 'Turn 16: You ask the Shieldbearer about the storm that has been brewing for hours. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...', 'Turn 17: You ask the Shieldbearer about the storm that has been brewing over the western wall. -> The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 17, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['Storm clouds gather over the western wall as watch fires hiss.', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...', 'The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The steady rain continues to blanket the are...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, steady rain envelops', 'sensory_details': "The air is cool and damp raindrops patter on the shield' enduringly."}, 'weather': {'atmosphere': 'low clouds hug the battlements', 'precipitation': 'none', 'intensity': 'none', 'last_changed_turn': 0}, 'npc_locations': {}, 'npc_memory': {}, 'items': {}, 'item_states': {}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield', 'lantern_oil'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Shieldbearer trusts the player', 'metrics': {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Rhea': 1, 'Shieldbearer': 1}, 'finalized': True, 'demo_mode': True, 'status_effects': [], 'autonomy_level': 'none'}
2025-10-27 21:22:44,535 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=18)
2025-10-27 21:22:44,535 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 21:22:44,536 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 21:22:44,536 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "autonomy_level": "none", "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 18, "day": 1, "demo_mode": true, "finalized": true, "flags": ["low_clouds_present", "heard_drums", "seen_drums", "has_seen_smoke", "is_observing", "vigilance_flag", "vigilance_activated", "is_listening_to_player", "storm_vigil", "has_seen_storm", "storm_cloud_visible", "storm_clouds_visible"], "inventory": [], "item_states": {}, "items": {}, "lore": {}, "memory_layers": ["Memory...
2025-10-27 21:22:44,536 [INFO] fortress_director.orchestrator.orchestrator: Applied NPC drift for turn 18: {'Shieldbearer': {'old': 1, 'new': 0}}
2025-10-27 21:22:44,536 [DEBUG] fortress_director.orchestrator.orchestrator: NPC drift changes: {'Shieldbearer': {'old': 1, 'new': 0}}
2025-10-27 21:22:44,537 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 21:22:44,537 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 21:22:44,538 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 21:22:44,538 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 21:22:44,538 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:22:44,538 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:22:44,538 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=18/10) with metrics={'order': 100, 'morale': 44, 'resources': 34, 'knowledge': 42, 'corruption': 10, 'glitch': 39, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 21:22:44,538 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 21:22:44,538 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'turn_limit_reached'}
2025-10-27 21:22:44,539 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\OneDrive\Masaüstü\oyun\fortress_director\runs\tmp_demo\world_state_tmp.json (turn=18)
2025-10-27 21:22:44,539 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 21:22:44,540 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 21:22:44,540 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 17 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield, lantern_oil\nWorld constraint: {\"atmosphere\": \"Dawn breaks, steady rain envelops\", \"sensory_details\": \"The air is cool and damp raindrops patter on the shield' enduringly.\"}\nRecent events: Storm clouds gather over the western wall as watch fires hiss.; The Shieldbearer, standing guard at the entrance, glances up as you approach. Her eyes are weary but focused, and her grip on the shield tightens slightly. The...
2025-10-27 21:22:44,540 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 21:22:44,541 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 22:17:48,482 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 22:17:48,496 [INFO] fortress_director.codeaware.function_registry: Registering safe function: change_weather
2025-10-27 22:17:48,496 [INFO] fortress_director.codeaware.function_registry: Safe function 'change_weather' registered successfully.
2025-10-27 22:17:48,496 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_item
2025-10-27 22:17:48,496 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_item' registered successfully.
2025-10-27 22:17:48,496 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_npc
2025-10-27 22:17:48,496 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_npc' registered successfully.
2025-10-27 22:17:48,496 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_logic
2025-10-27 22:17:48,496 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_logic' registered successfully.
2025-10-27 22:17:48,496 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_emotion
2025-10-27 22:17:48,496 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_emotion' registered successfully.
2025-10-27 22:17:48,500 [INFO] fortress_director.codeaware.function_registry: Registering safe function: raise_corruption
2025-10-27 22:17:48,500 [INFO] fortress_director.codeaware.function_registry: Safe function 'raise_corruption' registered successfully.
2025-10-27 22:17:48,500 [INFO] fortress_director.codeaware.function_registry: Registering safe function: advance_turn
2025-10-27 22:17:48,500 [INFO] fortress_director.codeaware.function_registry: Safe function 'advance_turn' registered successfully.
2025-10-27 22:17:48,500 [INFO] fortress_director.codeaware.function_registry: Registering safe function: modify_resources
2025-10-27 22:17:48,501 [INFO] fortress_director.codeaware.function_registry: Safe function 'modify_resources' registered successfully.
2025-10-27 22:17:48,501 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_metric
2025-10-27 22:17:48,501 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_metric' registered successfully.
2025-10-27 22:17:48,501 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_room
2025-10-27 22:17:48,501 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_room' registered successfully.
2025-10-27 22:17:48,501 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 22:17:48,501 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 22:17:48,502 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-34\test_smoke_2turn_real_llm0\world_state.json (turn=0)
2025-10-27 22:17:48,502 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=0, call=None)
2025-10-27 22:17:48,502 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 22:17:48,502 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-34\test_smoke_2turn_real_llm0\world_state.json (turn=0)
2025-10-27 22:17:48,502 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 0, "day": 1, "flags": [], "inventory": [], "lore": {}, "memory_layers": [], "metrics": {"corruption": 10, "glitch": 12, "knowledge": 45, "major_event_last_turn": null, "major_events_triggered": 0, "major_flag_set": false, "morale": 50, "order": 50, "resources": 40, "risk_applied_total": 0}, "npc_fragments": {}, "npc_trust": {}, "player": {"inventory": ["oil lamp", "patched shield"], "name": "The Shieldbe...
2025-10-27 22:17:48,502 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:17:48,503 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:17:48,503 [INFO] fortress_director.utils.glitch_manager: Resolving glitch (turn=1, seed=12345, current_glitch=12)
2025-10-27 22:17:48,503 [DEBUG] fortress_director.utils.glitch_manager: Metrics before glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:17:48,503 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=12, delta=1, limits=(0, 100) (cause=glitch:cosmetic_noise)
2025-10-27 22:17:48,503 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': 1, 'value': 13, 'cause': 'glitch:cosmetic_noise'}
2025-10-27 22:17:48,503 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 12 to 13 (cause=glitch:cosmetic_noise)
2025-10-27 22:17:48,504 [INFO] fortress_director.utils.glitch_manager: Glitch roll complete: roll=7, triggered_loss=False
2025-10-27 22:17:48,504 [DEBUG] fortress_director.utils.glitch_manager: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 13, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:17:48,504 [DEBUG] fortress_director.utils.glitch_manager: Glitch effects applied: ['Minor static ripples along the parapets.']
2025-10-27 22:17:48,505 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=7, triggered_loss=False
2025-10-27 22:17:48,505 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 13, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:17:48,505 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=13, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 22:17:48,505 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 12, 'cause': 'turn_recovery'}
2025-10-27 22:17:48,505 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 13 to 12 (cause=turn_recovery)
2025-10-27 22:17:48,506 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:17:48,506 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 22:17:48,506 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}
Recent events: none
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}
2025-10-27 22:17:48,507 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 0 in room entrance
2025-10-27 22:17:48,507 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:17:48,507 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 22:17:48,507 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'room': 'entrance'}
2025-10-27 22:17:55,577 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'Dawn breaks, casting a pale light over damp battlements.', 'sensory_details': 'The chill morning air carries the scent of rain and wet stone; distant drums echo with promise.'}
2025-10-27 22:17:55,577 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'Dawn breaks, casting a pale light over damp battlements.', 'sensory_details': 'The chill morning air carries the scent of rain and wet stone distant drums echo with promise.'}
2025-10-27 22:17:55,577 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 22:17:55,577 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "Dawn breaks, casting a pale light over damp battlements.", "sensory_details": "The chill morning air carries the scent of rain and wet stone distant drums echo with promise."}
2025-10-27 22:17:55,577 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:17:55,577 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 22:17:55,577 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'none', 'world_constraint_from_prev_turn': '{"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': []}
2025-10-27 22:18:19,252 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': "The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously.", 'options': [{'id': '1', 'text': 'Approach Rhea and ask about the drums you hear.', 'action_type': 'dialog'}, {'id': '2', 'text': 'Check the oil lamp for any signs of leakage.', 'action_type': 'interaction'}, {'id': '3', 'text': 'Head towards the sound of drums, ready to defend.', 'action_type': 'movement'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:18:19,252 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': "The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously.", 'options': [{'id': '1', 'text': 'Approach Rhea and ask about the drums you hear.', 'action_type': 'dialog'}, {'id': '2', 'text': 'Check the oil lamp for any signs of leakage.', 'action_type': 'interaction'}, {'id': '3', 'text': 'Head towards the sound of drums, ready to defend.', 'action_type': 'movement'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:18:19,253 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 22:18:19,253 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "options": [{"action_type": "dialog", "id": "1", "text": "Approach Rhea and ask about the drums you hear."}, {"action_type": "interaction", "id": "2", "text": "Check the oil lamp for any signs of leakage."}, {"action_type": "movement", "id": "3", "text": "Head towards the sound of drums, ready to defend."}], "safe_functions": [], "scene": "The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously."}
2025-10-27 22:18:19,253 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 22:18:19,254 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': '1', 'text': 'Approach Rhea and ask about the drums you hear.', 'action_type': 'dialog'}
2025-10-27 22:18:19,254 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "dialog", "id": "1", "text": "Approach Rhea and ask about the drums you hear."}
2025-10-27 22:18:19,254 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'dialog'
2025-10-27 22:18:19,255 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:18:19,255 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 22:18:19,255 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'scene_short': "The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously.", 'player_choice': 'Approach Rhea and ask about the drums you hear.', 'atmosphere': 'Dawn breaks, casting a pale light over damp battlements.', 'sensory_details': 'The chill morning air carries the scent of rain and wet stone distant drums echo with promise.', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player; Boris weighs every trade.', 'player_inventory_brief': 'oil lamp, patched shield'}
2025-10-27 22:18:27,061 [DEBUG] fortress_director.agents.character_agent: Model returned: {'name': 'Rhea', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': 'I stand vigilant, my senses alert for any sign of danger.', 'effects': {'trust_delta': 50, 'flag_set': ['low_clouds_present'], 'item_change': None, 'status_change': None}}
2025-10-27 22:18:27,062 [INFO] fortress_director.agents.character_agent: Normalized output (dict): [{'name': 'Rhea', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': 'I stand vigilant, my senses alert for any sign of danger.', 'effects': {'flag_set': ['low_clouds_present']}}]
2025-10-27 22:18:27,062 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 22:18:27,062 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "stand_vigilance", "effects": {"flag_set": ["low_clouds_present"]}, "intent": "vigilance", "name": "Rhea", "speech": "I stand vigilant, my senses alert for any sign of danger."}]
2025-10-27 22:18:27,063 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 22:18:27,063 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 22:18:27,063 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 22:18:27,064 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "stand_vigilance", "effects": {"flag_set": ["low_clouds_present"]}, "intent": "vigilance", "name": "Rhea", "speech": "I stand vigilant, my senses alert for any sign of danger."}]
2025-10-27 22:18:27,064 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 22:18:27,064 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 0, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': [], 'memory_layers': [], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': [], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'low clouds hug the battlements', 'sensory_details': 'Drums thud beyond the walls while the wind carries grit.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}}
2025-10-27 22:18:27,064 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': 'I stand vigilant, my senses alert for any sign of danger.', 'effects': {'flag_set': ['low_clouds_present']}}]
2025-10-27 22:18:27,065 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}
Recent events: none
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}, scene: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously., player_choice: {'id': '1', 'text': 'Approach Rhea and ask about the drums you hear.', 'action_type': 'dialog'}
2025-10-27 22:18:27,065 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 22:18:27,065 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': 'I stand vigilant, my senses alert for any sign of danger.', 'effects': {'flag_set': ['low_clouds_present']}}
2025-10-27 22:18:27,065 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 22:18:27,066 [INFO] fortress_director.agents.judge_agent: JudgeAgent.evaluate called with variables
2025-10-27 22:18:32,076 [DEBUG] fortress_director.agents.judge_agent: Model returned: {'consistent': True, 'reason': 'The content is consistent with the established world, lore, and character logic. The scene and player choice are appropriate for a guard at an entrance.'}
2025-10-27 22:18:32,076 [INFO] fortress_director.agents.judge_agent: Judge verdict: {'consistent': True, 'reason': 'The content is consistent with the established world, lore, and character logic. The scene and player choice are appropriate for a guard at an entrance.'}
2025-10-27 22:18:32,076 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': 'The content is consistent with the established world, lore, and character logic. The scene and player choice are appropriate for a guard at an entrance.'}
2025-10-27 22:18:32,076 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 22:18:32,077 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'flag_set': ['low_clouds_present']}
2025-10-27 22:18:32,077 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 22:18:32,077 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 0, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present'], 'memory_layers': [], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': [], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'low clouds hug the battlements', 'sensory_details': 'Drums thud beyond the walls while the wind carries grit.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}}
2025-10-27 22:18:32,077 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=1)
2025-10-27 22:18:32,078 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 22:18:32,078 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 22:18:32,078 [INFO] fortress_director.rules.rules_engine: Environmental effects applied with seed 12345
2025-10-27 22:18:32,079 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 1, "day": 1, "flags": ["low_clouds_present"], "inventory": [], "lore": {}, "memory_layers": ["Turn 1: Approach Rhea and ask about the drums you hear. -> The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the br..."], "metrics": {"corruption": 10, "glitch": 12, "knowledge": 45, "major_event_last_turn": null, "major_events_triggered": 0, "major_flag_set": false, "...
2025-10-27 22:18:32,080 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-34\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:18:32,080 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 22:18:32,080 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 22:18:32,080 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-34\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:18:32,081 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:18:32,081 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:18:32,081 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=1/10) with metrics={'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:18:32,082 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'ongoing', 'reason': 'thresholds_not_met'}
2025-10-27 22:18:32,082 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'ongoing', 'reason': 'thresholds_not_met'}
2025-10-27 22:18:32,082 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 22:18:32,082 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:18:32,082 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 22:18:32,082 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 22:18:32,084 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 22:18:32,085 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 22:18:32,085 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-34\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:18:32,085 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=1, call=None)
2025-10-27 22:18:32,085 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 22:18:32,086 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-34\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:18:32,086 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 1, "day": 1, "flags": ["low_clouds_present"], "inventory": [], "lore": {}, "memory_layers": ["Turn 1: Approach Rhea and ask about the drums you hear. -> The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the br..."], "metrics": {"corruption": 10, "glitch": 12, "knowledge": 45, "major_event_last_turn": null, "major_events_triggered": 0, "major_flag_set": false, "...
2025-10-27 22:18:32,086 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:18:32,087 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:18:32,087 [INFO] fortress_director.utils.glitch_manager: Resolving glitch (turn=2, seed=12345, current_glitch=12)
2025-10-27 22:18:32,087 [DEBUG] fortress_director.utils.glitch_manager: Metrics before glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:18:32,087 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=12, delta=15, limits=(0, 100) (cause=glitch:overload)
2025-10-27 22:18:32,088 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': 15, 'value': 27, 'cause': 'glitch:overload'}
2025-10-27 22:18:32,088 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 12 to 27 (cause=glitch:overload)
2025-10-27 22:18:32,088 [INFO] fortress_director.utils.glitch_manager: Glitch roll complete: roll=99, triggered_loss=True
2025-10-27 22:18:32,088 [DEBUG] fortress_director.utils.glitch_manager: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 27, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:18:32,089 [DEBUG] fortress_director.utils.glitch_manager: Glitch effects applied: ['Glitch cascade overwhelms containment protocols.']
2025-10-27 22:18:32,089 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=99, triggered_loss=True
2025-10-27 22:18:32,089 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 27, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:18:32,089 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=27, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 22:18:32,089 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 26, 'cause': 'turn_recovery'}
2025-10-27 22:18:32,090 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 27 to 26 (cause=turn_recovery)
2025-10-27 22:18:32,090 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:18:32,090 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 22:18:32,091 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 1 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "Dawn breaks, casting a pale light over damp battlements.", "sensory_details": "The chill morning air carries the scent of rain and wet stone distant drums echo with promise."}
Recent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}
2025-10-27 22:18:32,091 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 1 in room entrance
2025-10-27 22:18:32,091 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over damp battlements.\", \"sensory_details\": \"The chill morning air carries the scent of rain and wet stone distant drums echo with promise.\"}\nRecent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously.\nRe...
2025-10-27 22:18:32,091 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 22:18:32,092 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "Dawn breaks, casting a pale light over damp battlements.", "sensory_details": "The chill morning air carries the scent of rain and wet stone distant drums echo with promise."}\nRecent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning\'s low clouds and grit. The drums beyond the walls echo ominously.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'room': 'entrance'}
2025-10-27 22:18:40,164 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': "Dawn'thin mist veils Lornhaven, a silent sentinel stands guard.", 'sensory_details': 'The cool morning air whispers through the cracks in stone walls as Rhea feels her shield ripple with each distant drumbeat. The scent of wet earth and rain-soaked battlements fills her nostrils, while a soft golden light begins to pierce the gray veil above.'}
2025-10-27 22:18:40,164 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': "Dawn'thin mist veils Lornhaven, a silent sentinel stands guard.", 'sensory_details': 'The cool morning air whispers through the cracks in stone walls as Rhea feels her shield ripple with each distant drumbeat. The scent of wet earth and rainsoaked battlements fills her nostrils, while a soft golden light begins to pierce the gray veil above.'}
2025-10-27 22:18:40,164 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 22:18:40,164 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "Dawn'thin mist veils Lornhaven, a silent sentinel stands guard.", "sensory_details": "The cool morning air whispers through the cracks in stone walls as Rhea feels her shield ripple with each distant drumbeat. The scent of wet earth and rainsoaked battlements fills her nostrils, while a soft golden light begins to pierce the gray veil above."}
2025-10-27 22:18:40,165 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over damp battlements.\", \"sensory_details\": \"The chill morning air carries the scent of rain and wet stone distant drums echo with promise.\"}\nRecent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously.\nRe...
2025-10-27 22:18:40,165 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 22:18:40,165 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "Dawn breaks, casting a pale light over damp battlements.", "sensory_details": "The chill morning air carries the scent of rain and wet stone distant drums echo with promise."}\nRecent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning\'s low clouds and grit. The drums beyond the walls echo ominously.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': "The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously.", 'world_constraint_from_prev_turn': '{"atmosphere": "Dawn breaks, casting a pale light over damp battlements.", "sensory_details": "The chill morning air carries the scent of rain and wet stone distant drums echo with promise."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 1: Approach Rhea and ask about the drums you hear. -> The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the br...']}
2025-10-27 22:19:04,301 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': "The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously.", 'options': [{'id': '1', 'text': 'Approach Rhea and ask about the drums you hear in the distance.', 'action_type': 'dialog'}, {'id': '2', 'text': 'Check the condition of your oil lamp.', 'action_type': 'item_check'}, {'id': '3', 'text': 'Explore the battlements, keeping a watchful eye on the horizon.', 'action_type': 'exploration'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:19:04,301 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': "The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously.", 'options': [{'id': '1', 'text': 'Approach Rhea and ask about the drums you hear in the distance.', 'action_type': 'dialog'}, {'id': '2', 'text': 'Check the condition of your oil lamp.', 'action_type': 'item_check'}, {'id': '3', 'text': 'Explore the battlements, keeping a watchful eye on the horizon.', 'action_type': 'exploration'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:19:04,301 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 22:19:04,301 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "options": [{"action_type": "dialog", "id": "1", "text": "Approach Rhea and ask about the drums you hear in the distance."}, {"action_type": "item_check", "id": "2", "text": "Check the condition of your oil lamp."}, {"action_type": "exploration", "id": "3", "text": "Explore the battlements, keeping a watchful eye on the horizon."}], "safe_functions": [], "scene": "The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously."}
2025-10-27 22:19:04,301 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 22:19:04,301 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': '1', 'text': 'Approach Rhea and ask about the drums you hear in the distance.', 'action_type': 'dialog'}
2025-10-27 22:19:04,301 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "dialog", "id": "1", "text": "Approach Rhea and ask about the drums you hear in the distance."}
2025-10-27 22:19:04,301 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'dialog'
2025-10-27 22:19:04,301 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over damp battlements.\", \"sensory_details\": \"The chill morning air carries the scent of rain and wet stone distant drums echo with promise.\"}\nRecent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously.\nRe...
2025-10-27 22:19:04,304 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 22:19:04,304 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "Dawn breaks, casting a pale light over damp battlements.", "sensory_details": "The chill morning air carries the scent of rain and wet stone distant drums echo with promise."}\nRecent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning\'s low clouds and grit. The drums beyond the walls echo ominously.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'scene_short': "The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously.", 'player_choice': 'Approach Rhea and ask about the drums you hear in the distance.', 'atmosphere': "Dawn'thin mist veils Lornhaven, a silent sentinel stands guard.", 'sensory_details': 'The cool morning air whispers through the cracks in stone walls as Rhea feels her shield ripple with each distant drumbeat. The scent of wet earth and rainsoaked battlements fills her nostrils, while a soft golden light begins to pierce the gray veil above.', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player; Boris weighs every trade.', 'player_inventory_brief': 'oil lamp, patched shield'}
2025-10-27 22:19:11,916 [DEBUG] fortress_director.agents.character_agent: Model returned: {'name': 'Rhea', 'intent': 'alert', 'action': 'speak', 'speech': "The drums echo ominously, a chilling reminder of the storm's fury. A faint glow emanates from the north, casting long shadows across the battlefield. Be wary, for danger lurks in the mist.", 'effects': {'trust_delta': 25, 'flag_set': ['world_change'], 'item_change': None, 'status_change': None}}
2025-10-27 22:19:11,916 [INFO] fortress_director.agents.character_agent: Normalized output (dict): [{'name': 'Rhea', 'intent': 'alert', 'action': 'speak', 'speech': "The drums echo ominously, a chilling reminder of the storm's fury. A faint glow emanates from the north, casting long shadows across the battlefield. Be wary, for danger lurks in the mist.", 'effects': {'flag_set': ['world_change']}}]
2025-10-27 22:19:11,916 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 22:19:11,916 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "speak", "effects": {"flag_set": ["world_change"]}, "intent": "alert", "name": "Rhea", "speech": "The drums echo ominously, a chilling reminder of the storm's fury. A faint glow emanates from the north, casting long shadows across the battlefield. Be wary, for danger lurks in the mist."}]
2025-10-27 22:19:11,917 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 22:19:11,917 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 22:19:11,917 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 22:19:11,917 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "speak", "effects": {"flag_set": ["world_change"]}, "intent": "alert", "name": "Rhea", "speech": "The drums echo ominously, a chilling reminder of the storm's fury. A faint glow emanates from the north, casting long shadows across the battlefield. Be wary, for danger lurks in the mist."}]
2025-10-27 22:19:11,917 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 22:19:11,917 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 1, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present'], 'memory_layers': ['Turn 1: Approach Rhea and ask about the drums you hear. -> The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the br...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 1, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ["The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously."], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, casting a pale light over damp battlements.', 'sensory_details': 'The chill morning air carries the scent of rain and wet stone distant drums echo with promise.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}, 'status_effects': []}
2025-10-27 22:19:11,918 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'alert', 'action': 'speak', 'speech': "The drums echo ominously, a chilling reminder of the storm's fury. A faint glow emanates from the north, casting long shadows across the battlefield. Be wary, for danger lurks in the mist.", 'effects': {'flag_set': ['world_change']}}]
2025-10-27 22:19:11,918 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 1 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "Dawn breaks, casting a pale light over damp battlements.", "sensory_details": "The chill morning air carries the scent of rain and wet stone distant drums echo with promise."}
Recent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}, scene: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously., player_choice: {'id': '1', 'text': 'Approach Rhea and ask about the drums you hear in the distance.', 'action_type': 'dialog'}
2025-10-27 22:19:11,918 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 22:19:11,918 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'alert', 'action': 'speak', 'speech': "The drums echo ominously, a chilling reminder of the storm's fury. A faint glow emanates from the north, casting long shadows across the battlefield. Be wary, for danger lurks in the mist.", 'effects': {'flag_set': ['world_change']}}
2025-10-27 22:19:11,919 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 22:19:11,919 [INFO] fortress_director.agents.judge_agent: JudgeAgent.evaluate called with variables
2025-10-27 22:19:17,097 [DEBUG] fortress_director.agents.judge_agent: Model returned: {'consistent': True, 'reason': "The content is consistent with established world, lore, and character logic. The scene accurately reflects the Shieldbearer's duty as a defender at the entrance of Lornhaven, observing the drums in the distance and alerting Rhea about the stormy weather."}
2025-10-27 22:19:17,097 [INFO] fortress_director.agents.judge_agent: Judge verdict: {'consistent': True, 'reason': "The content is consistent with established world, lore, and character logic. The scene accurately reflects the Shieldbearer's duty as a defender at the entrance of Lornhaven, observing the drums in the distance and alerting Rhea about the stormy weather."}
2025-10-27 22:19:17,097 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': "The content is consistent with established world, lore, and character logic. The scene accurately reflects the Shieldbearer's duty as a defender at the entrance of Lornhaven, observing the drums in the distance and alerting Rhea about the stormy weather."}
2025-10-27 22:19:17,097 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 22:19:17,097 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'flag_set': ['world_change']}
2025-10-27 22:19:17,098 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 22:19:17,098 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 1, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'world_change'], 'memory_layers': ['Turn 1: Approach Rhea and ask about the drums you hear. -> The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the br...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 1, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ["The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously."], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, casting a pale light over damp battlements.', 'sensory_details': 'The chill morning air carries the scent of rain and wet stone distant drums echo with promise.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}, 'status_effects': []}
2025-10-27 22:19:17,098 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=2)
2025-10-27 22:19:17,098 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 22:19:17,098 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 22:19:17,098 [INFO] fortress_director.rules.rules_engine: Environmental effects applied with seed 12345
2025-10-27 22:19:17,098 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 2, "day": 1, "flags": ["low_clouds_present", "world_change"], "inventory": [], "lore": {}, "memory_layers": ["Turn 1: Approach Rhea and ask about the drums you hear. -> The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the br...", "Turn 2: Approach Rhea and ask about the drums you hear in the distance. -> The Shieldbearer, Rhea, stands guard at the entrance of ...
2025-10-27 22:19:17,098 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-34\test_smoke_2turn_real_llm0\world_state.json (turn=2)
2025-10-27 22:19:17,098 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 22:19:17,098 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 22:19:17,098 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-34\test_smoke_2turn_real_llm0\world_state.json (turn=2)
2025-10-27 22:19:17,098 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:19:17,098 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:19:17,098 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=2/10) with metrics={'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:19:17,098 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'glitch_overload'}
2025-10-27 22:19:17,098 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'glitch_overload'}
2025-10-27 22:19:17,098 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-34\test_smoke_2turn_real_llm0\world_state.json (turn=2)
2025-10-27 22:19:17,098 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 22:19:17,098 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 22:19:17,098 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over damp battlements.\", \"sensory_details\": \"The chill morning air carries the scent of rain and wet stone distant drums echo with promise.\"}\nRecent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven, her patched shield bearing the brunt of the morning's low clouds and grit. The drums beyond the walls echo ominously.\nRe...
2025-10-27 22:19:17,103 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 22:19:17,103 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 22:21:30,829 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 22:21:30,840 [INFO] fortress_director.codeaware.function_registry: Registering safe function: change_weather
2025-10-27 22:21:30,841 [INFO] fortress_director.codeaware.function_registry: Safe function 'change_weather' registered successfully.
2025-10-27 22:21:30,841 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_item
2025-10-27 22:21:30,841 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_item' registered successfully.
2025-10-27 22:21:30,841 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_npc
2025-10-27 22:21:30,841 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_npc' registered successfully.
2025-10-27 22:21:30,843 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_logic
2025-10-27 22:21:30,843 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_logic' registered successfully.
2025-10-27 22:21:30,843 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_emotion
2025-10-27 22:21:30,843 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_emotion' registered successfully.
2025-10-27 22:21:30,843 [INFO] fortress_director.codeaware.function_registry: Registering safe function: raise_corruption
2025-10-27 22:21:30,844 [INFO] fortress_director.codeaware.function_registry: Safe function 'raise_corruption' registered successfully.
2025-10-27 22:21:30,844 [INFO] fortress_director.codeaware.function_registry: Registering safe function: advance_turn
2025-10-27 22:21:30,844 [INFO] fortress_director.codeaware.function_registry: Safe function 'advance_turn' registered successfully.
2025-10-27 22:21:30,844 [INFO] fortress_director.codeaware.function_registry: Registering safe function: modify_resources
2025-10-27 22:21:30,844 [INFO] fortress_director.codeaware.function_registry: Safe function 'modify_resources' registered successfully.
2025-10-27 22:21:30,845 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_metric
2025-10-27 22:21:30,845 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_metric' registered successfully.
2025-10-27 22:21:30,845 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_room
2025-10-27 22:21:30,845 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_room' registered successfully.
2025-10-27 22:21:30,845 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 22:21:30,845 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 22:21:30,846 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-35\test_smoke_2turn_real_llm0\world_state.json (turn=0)
2025-10-27 22:21:30,846 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=0, call=None)
2025-10-27 22:21:30,848 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 22:21:30,848 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-35\test_smoke_2turn_real_llm0\world_state.json (turn=0)
2025-10-27 22:21:30,848 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 0, "day": 1, "flags": [], "inventory": [], "lore": {}, "memory_layers": [], "metrics": {"corruption": 10, "glitch": 12, "knowledge": 45, "major_event_last_turn": null, "major_events_triggered": 0, "major_flag_set": false, "morale": 50, "order": 50, "resources": 40, "risk_applied_total": 0}, "npc_fragments": {}, "npc_trust": {}, "player": {"inventory": ["oil lamp", "patched shield"], "name": "The Shieldbe...
2025-10-27 22:21:30,849 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:21:30,849 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:21:30,849 [INFO] fortress_director.utils.glitch_manager: Resolving glitch (turn=1, seed=12345, current_glitch=12)
2025-10-27 22:21:30,849 [DEBUG] fortress_director.utils.glitch_manager: Metrics before glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:21:30,849 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=12, delta=1, limits=(0, 100) (cause=glitch:cosmetic_noise)
2025-10-27 22:21:30,849 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': 1, 'value': 13, 'cause': 'glitch:cosmetic_noise'}
2025-10-27 22:21:30,850 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 12 to 13 (cause=glitch:cosmetic_noise)
2025-10-27 22:21:30,850 [INFO] fortress_director.utils.glitch_manager: Glitch roll complete: roll=7, triggered_loss=False
2025-10-27 22:21:30,850 [DEBUG] fortress_director.utils.glitch_manager: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 13, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:21:30,850 [DEBUG] fortress_director.utils.glitch_manager: Glitch effects applied: ['Minor static ripples along the parapets.']
2025-10-27 22:21:30,850 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=7, triggered_loss=False
2025-10-27 22:21:30,851 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 13, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:21:30,851 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=13, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 22:21:30,851 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 12, 'cause': 'turn_recovery'}
2025-10-27 22:21:30,851 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 13 to 12 (cause=turn_recovery)
2025-10-27 22:21:30,851 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:21:30,851 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 22:21:30,851 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}
Recent events: none
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}
2025-10-27 22:21:30,853 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 0 in room entrance
2025-10-27 22:21:30,853 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:21:30,853 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 22:21:30,853 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'room': 'entrance'}
2025-10-27 22:21:37,539 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'Dawn breaks, casting a pale light over damp stone.', 'sensory_details': 'The chill morning air carries the scent of rain and earth; distant drums echo with promise.'}
2025-10-27 22:21:37,540 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'Dawn breaks, casting a pale light over damp stone.', 'sensory_details': 'The chill morning air carries the scent of rain and earth distant drums echo with promise.'}
2025-10-27 22:21:37,540 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 22:21:37,540 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "Dawn breaks, casting a pale light over damp stone.", "sensory_details": "The chill morning air carries the scent of rain and earth distant drums echo with promise."}
2025-10-27 22:21:37,540 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:21:37,540 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 22:21:37,540 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'none', 'world_constraint_from_prev_turn': '{"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': []}
2025-10-27 22:22:00,582 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.', 'options': [{'id': 'ask_about_situation', 'text': 'Ask the Shieldbearer about the current situation', 'action_type': 'dialog'}, {'id': 'offer_help', 'text': 'Offer to help defend the walls', 'action_type': 'dialog'}, {'id': 'investigate_sounds', 'text': "Investigate the drums' origin", 'action_type': 'exploration'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:22:00,583 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.', 'options': [{'id': 'ask_about_situation', 'text': 'Ask the Shieldbearer about the current situation', 'action_type': 'dialog'}, {'id': 'offer_help', 'text': 'Offer to help defend the walls', 'action_type': 'dialog'}, {'id': 'investigate_sounds', 'text': "Investigate the drums' origin", 'action_type': 'exploration'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:22:00,583 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 22:22:00,584 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "options": [{"action_type": "dialog", "id": "ask_about_situation", "text": "Ask the Shieldbearer about the current situation"}, {"action_type": "dialog", "id": "offer_help", "text": "Offer to help defend the walls"}, {"action_type": "exploration", "id": "investigate_sounds", "text": "Investigate the drums' origin"}], "safe_functions": [], "scene": "The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls."}
2025-10-27 22:22:00,584 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 22:22:00,584 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'ask_about_situation', 'text': 'Ask the Shieldbearer about the current situation', 'action_type': 'dialog'}
2025-10-27 22:22:00,584 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "dialog", "id": "ask_about_situation", "text": "Ask the Shieldbearer about the current situation"}
2025-10-27 22:22:00,584 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'dialog'
2025-10-27 22:22:00,585 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:22:00,585 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 22:22:00,585 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'scene_short': 'The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.', 'player_choice': 'Ask the Shieldbearer about the current situation', 'atmosphere': 'Dawn breaks, casting a pale light over damp stone.', 'sensory_details': 'The chill morning air carries the scent of rain and earth distant drums echo with promise.', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player; Boris weighs every trade.', 'player_inventory_brief': 'oil lamp, patched shield'}
2025-10-27 22:22:07,684 [DEBUG] fortress_director.agents.character_agent: Model returned: {'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': 'I stand vigilant, listening for any sign of danger.', 'effects': {'trust_delta': 0, 'flag_set': False, 'item_change': None, 'status_change': None}}
2025-10-27 22:22:07,684 [INFO] fortress_director.agents.character_agent: Normalized output (dict): [{'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': 'I stand vigilant, listening for any sign of danger.', 'effects': {'trust_delta': 0}}]
2025-10-27 22:22:07,684 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 22:22:07,684 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "stand_vigilance", "effects": {"trust_delta": 0}, "intent": "vigilance", "name": "Shieldbearer", "speech": "I stand vigilant, listening for any sign of danger."}]
2025-10-27 22:22:07,684 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 22:22:07,684 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 22:22:07,685 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 22:22:07,685 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "stand_vigilance", "effects": {"trust_delta": 0}, "intent": "vigilance", "name": "Shieldbearer", "speech": "I stand vigilant, listening for any sign of danger."}]
2025-10-27 22:22:07,685 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 22:22:07,685 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 0, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': [], 'memory_layers': [], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': [], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'low clouds hug the battlements', 'sensory_details': 'Drums thud beyond the walls while the wind carries grit.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}}
2025-10-27 22:22:07,685 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': 'I stand vigilant, listening for any sign of danger.', 'effects': {'trust_delta': 0}}]
2025-10-27 22:22:07,685 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}
Recent events: none
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}, scene: The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls., player_choice: {'id': 'ask_about_situation', 'text': 'Ask the Shieldbearer about the current situation', 'action_type': 'dialog'}
2025-10-27 22:22:07,685 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 22:22:07,685 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_vigilance', 'speech': 'I stand vigilant, listening for any sign of danger.', 'effects': {'trust_delta': 0}}
2025-10-27 22:22:07,685 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 22:22:07,685 [INFO] fortress_director.agents.judge_agent: JudgeAgent.evaluate called with variables
2025-10-27 22:22:13,130 [DEBUG] fortress_director.agents.judge_agent: Model returned: {'consistent': True, 'reason': "The content is consistent with the established world, lore, and character logic. The Shieldbearer's vigilance at the entrance matches her role as a defender."}
2025-10-27 22:22:13,130 [INFO] fortress_director.agents.judge_agent: Judge verdict: {'consistent': True, 'reason': "The content is consistent with the established world, lore, and character logic. The Shieldbearer's vigilance at the entrance matches her role as a defender."}
2025-10-27 22:22:13,130 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Shieldbearer: {'consistent': True, 'reason': "The content is consistent with the established world, lore, and character logic. The Shieldbearer's vigilance at the entrance matches her role as a defender."}
2025-10-27 22:22:13,130 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 22:22:13,130 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Shieldbearer: {'trust_delta': 0}
2025-10-27 22:22:13,130 [INFO] fortress_director.rules.rules_engine: Trust updated for Shieldbearer: 0 -> 0 (delta: 0)
2025-10-27 22:22:13,131 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Shieldbearer is neutral toward the player
2025-10-27 22:22:13,131 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 22:22:13,131 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 0, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': [], 'memory_layers': [], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': [], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'low clouds hug the battlements', 'sensory_details': 'Drums thud beyond the walls while the wind carries grit.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Shieldbearer is neutral toward the player', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Shieldbearer': 0}}
2025-10-27 22:22:13,131 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=1)
2025-10-27 22:22:13,132 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 22:22:13,132 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 22:22:13,132 [INFO] fortress_director.rules.rules_engine: Environmental effects applied with seed 12345
2025-10-27 22:22:13,132 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 1, "day": 1, "flags": [], "inventory": [], "lore": {}, "memory_layers": ["Turn 1: Ask the Shieldbearer about the current situation -> The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clo..."], "metrics": {"corruption": 10, "glitch": 12, "knowledge": 45, "major_event_last_turn": null, "major_events_triggered": 0, "major_flag_set": false, "morale": 50, "order...
2025-10-27 22:22:13,132 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-35\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:22:13,132 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 22:22:13,132 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 22:22:13,132 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-35\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:22:13,132 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:22:13,132 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:22:13,132 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=1/10) with metrics={'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:22:13,132 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'ongoing', 'reason': 'thresholds_not_met'}
2025-10-27 22:22:13,132 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'ongoing', 'reason': 'thresholds_not_met'}
2025-10-27 22:22:13,132 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 22:22:13,132 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:22:13,132 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 22:22:13,136 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 22:22:13,136 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 22:22:13,137 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 22:22:13,137 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-35\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:22:13,137 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=1, call=None)
2025-10-27 22:22:13,137 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 22:22:13,137 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-35\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:22:13,138 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 1, "day": 1, "flags": [], "inventory": [], "lore": {}, "memory_layers": ["Turn 1: Ask the Shieldbearer about the current situation -> The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clo..."], "metrics": {"corruption": 10, "glitch": 12, "knowledge": 45, "major_event_last_turn": null, "major_events_triggered": 0, "major_flag_set": false, "morale": 50, "order...
2025-10-27 22:22:13,138 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:22:13,138 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:22:13,138 [INFO] fortress_director.utils.glitch_manager: Resolving glitch (turn=2, seed=12345, current_glitch=12)
2025-10-27 22:22:13,138 [DEBUG] fortress_director.utils.glitch_manager: Metrics before glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:22:13,139 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=12, delta=15, limits=(0, 100) (cause=glitch:overload)
2025-10-27 22:22:13,139 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': 15, 'value': 27, 'cause': 'glitch:overload'}
2025-10-27 22:22:13,139 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 12 to 27 (cause=glitch:overload)
2025-10-27 22:22:13,139 [INFO] fortress_director.utils.glitch_manager: Glitch roll complete: roll=99, triggered_loss=True
2025-10-27 22:22:13,140 [DEBUG] fortress_director.utils.glitch_manager: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 27, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:22:13,140 [DEBUG] fortress_director.utils.glitch_manager: Glitch effects applied: ['Glitch cascade overwhelms containment protocols.']
2025-10-27 22:22:13,140 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=99, triggered_loss=True
2025-10-27 22:22:13,140 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 27, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:22:13,140 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=27, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 22:22:13,141 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 26, 'cause': 'turn_recovery'}
2025-10-27 22:22:13,141 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 27 to 26 (cause=turn_recovery)
2025-10-27 22:22:13,141 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:22:13,141 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 22:22:13,141 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 1 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "Dawn breaks, casting a pale light over damp stone.", "sensory_details": "The chill morning air carries the scent of rain and earth distant drums echo with promise."}
Recent events: The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.
Recent motifs: none
Recent major events: none
Relationship summary: Shieldbearer is neutral toward the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}
2025-10-27 22:22:13,142 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 1 in room entrance
2025-10-27 22:22:13,142 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over damp stone.\", \"sensory_details\": \"The chill morning air carries the scent of rain and earth distant drums echo with promise.\"}\nRecent events: The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.\nRecent motifs: none\nRecent major events: ...
2025-10-27 22:22:13,142 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 22:22:13,142 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "Dawn breaks, casting a pale light over damp stone.", "sensory_details": "The chill morning air carries the scent of rain and earth distant drums echo with promise."}\nRecent events: The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Shieldbearer is neutral toward the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'room': 'entrance'}
2025-10-27 22:22:19,620 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': "Dawn'thin light over damp, stone walls", 'sensory_details': 'Cool air with rain and earth scents; distant drums promising change'}
2025-10-27 22:22:19,620 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': "Dawn'thin light over damp, stone walls", 'sensory_details': 'Cool air with rain and earth scents distant drums promising change'}
2025-10-27 22:22:19,620 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 22:22:19,620 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "Dawn'thin light over damp, stone walls", "sensory_details": "Cool air with rain and earth scents distant drums promising change"}
2025-10-27 22:22:19,622 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over damp stone.\", \"sensory_details\": \"The chill morning air carries the scent of rain and earth distant drums echo with promise.\"}\nRecent events: The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.\nRecent motifs: none\nRecent major events: ...
2025-10-27 22:22:19,622 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 22:22:19,622 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "Dawn breaks, casting a pale light over damp stone.", "sensory_details": "The chill morning air carries the scent of rain and earth distant drums echo with promise."}\nRecent events: The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Shieldbearer is neutral toward the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.', 'world_constraint_from_prev_turn': '{"atmosphere": "Dawn breaks, casting a pale light over damp stone.", "sensory_details": "The chill morning air carries the scent of rain and earth distant drums echo with promise."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 1: Ask the Shieldbearer about the current situation -> The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clo...']}
2025-10-27 22:22:42,855 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.', 'options': [{'id': 'ask_about_duty', 'text': 'Ask the Shieldbearer about her duty.', 'action_type': 'dialog'}, {'id': 'offer_assistance', 'text': 'Offer to help the Shieldbearer with her duties.', 'action_type': 'dialog'}, {'id': 'investigate_drums', 'text': 'Investigate the source of the distant drums.', 'action_type': 'exploration'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:22:42,856 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.', 'options': [{'id': 'ask_about_duty', 'text': 'Ask the Shieldbearer about her duty.', 'action_type': 'dialog'}, {'id': 'offer_assistance', 'text': 'Offer to help the Shieldbearer with her duties.', 'action_type': 'dialog'}, {'id': 'investigate_drums', 'text': 'Investigate the source of the distant drums.', 'action_type': 'exploration'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:22:42,856 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 22:22:42,856 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "options": [{"action_type": "dialog", "id": "ask_about_duty", "text": "Ask the Shieldbearer about her duty."}, {"action_type": "dialog", "id": "offer_assistance", "text": "Offer to help the Shieldbearer with her duties."}, {"action_type": "exploration", "id": "investigate_drums", "text": "Investigate the source of the distant drums."}], "safe_functions": [], "scene": "The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls."}
2025-10-27 22:22:42,857 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 22:22:42,857 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'ask_about_duty', 'text': 'Ask the Shieldbearer about her duty.', 'action_type': 'dialog'}
2025-10-27 22:22:42,857 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "dialog", "id": "ask_about_duty", "text": "Ask the Shieldbearer about her duty."}
2025-10-27 22:22:42,857 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'dialog'
2025-10-27 22:22:42,858 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over damp stone.\", \"sensory_details\": \"The chill morning air carries the scent of rain and earth distant drums echo with promise.\"}\nRecent events: The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.\nRecent motifs: none\nRecent major events: ...
2025-10-27 22:22:42,858 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 22:22:42,858 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "Dawn breaks, casting a pale light over damp stone.", "sensory_details": "The chill morning air carries the scent of rain and earth distant drums echo with promise."}\nRecent events: The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Shieldbearer is neutral toward the player\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'scene_short': 'The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.', 'player_choice': 'Ask the Shieldbearer about her duty.', 'atmosphere': "Dawn'thin light over damp, stone walls", 'sensory_details': 'Cool air with rain and earth scents distant drums promising change', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Shieldbearer is neutral toward the player', 'player_inventory_brief': 'oil lamp, patched shield'}
2025-10-27 22:22:50,185 [DEBUG] fortress_director.agents.character_agent: Model returned: {'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_guard', 'speech': 'I stand vigilant, my senses alert for any sign of movement or change.', 'effects': {'trust_delta': 100, 'flag_set': ['world_change'], 'item_change': None, 'status_change': None}}
2025-10-27 22:22:50,185 [INFO] fortress_director.agents.character_agent: Normalized output (dict): [{'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_guard', 'speech': 'I stand vigilant, my senses alert for any sign of movement or change.', 'effects': {'flag_set': ['world_change']}}]
2025-10-27 22:22:50,186 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 22:22:50,186 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "stand_guard", "effects": {"flag_set": ["world_change"]}, "intent": "vigilance", "name": "Shieldbearer", "speech": "I stand vigilant, my senses alert for any sign of movement or change."}]
2025-10-27 22:22:50,186 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 22:22:50,187 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 22:22:50,187 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 22:22:50,187 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "stand_guard", "effects": {"flag_set": ["world_change"]}, "intent": "vigilance", "name": "Shieldbearer", "speech": "I stand vigilant, my senses alert for any sign of movement or change."}]
2025-10-27 22:22:50,188 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 22:22:50,188 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 1, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': [], 'memory_layers': ['Turn 1: Ask the Shieldbearer about the current situation -> The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clo...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 1, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, casting a pale light over damp stone.', 'sensory_details': 'The chill morning air carries the scent of rain and earth distant drums echo with promise.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Shieldbearer is neutral toward the player', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Shieldbearer': 0}, 'status_effects': []}
2025-10-27 22:22:50,188 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_guard', 'speech': 'I stand vigilant, my senses alert for any sign of movement or change.', 'effects': {'flag_set': ['world_change']}}]
2025-10-27 22:22:50,190 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 1 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "Dawn breaks, casting a pale light over damp stone.", "sensory_details": "The chill morning air carries the scent of rain and earth distant drums echo with promise."}
Recent events: The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.
Recent motifs: none
Recent major events: none
Relationship summary: Shieldbearer is neutral toward the player
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}, scene: The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls., player_choice: {'id': 'ask_about_duty', 'text': 'Ask the Shieldbearer about her duty.', 'action_type': 'dialog'}
2025-10-27 22:22:50,190 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 22:22:50,190 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_guard', 'speech': 'I stand vigilant, my senses alert for any sign of movement or change.', 'effects': {'flag_set': ['world_change']}}
2025-10-27 22:22:50,191 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 22:22:50,191 [INFO] fortress_director.agents.judge_agent: JudgeAgent.evaluate called with variables
2025-10-27 22:22:56,194 [DEBUG] fortress_director.agents.judge_agent: Model returned: {'consistent': True, 'reason': "The content is consistent with established world, lore, and character logic. The Shieldbearer's vigilance at the entrance aligns with her role as a defender."}
2025-10-27 22:22:56,194 [INFO] fortress_director.agents.judge_agent: Judge verdict: {'consistent': True, 'reason': "The content is consistent with established world, lore, and character logic. The Shieldbearer's vigilance at the entrance aligns with her role as a defender."}
2025-10-27 22:22:56,194 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Shieldbearer: {'consistent': True, 'reason': "The content is consistent with established world, lore, and character logic. The Shieldbearer's vigilance at the entrance aligns with her role as a defender."}
2025-10-27 22:22:56,194 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 22:22:56,194 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Shieldbearer: {'flag_set': ['world_change']}
2025-10-27 22:22:56,194 [INFO] fortress_director.rules.rules_engine: Relationship summary updated: Shieldbearer is neutral toward the player
2025-10-27 22:22:56,194 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 22:22:56,194 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 1, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['world_change'], 'memory_layers': ['Turn 1: Ask the Shieldbearer about the current situation -> The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clo...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 1, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, casting a pale light over damp stone.', 'sensory_details': 'The chill morning air carries the scent of rain and earth distant drums echo with promise.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Shieldbearer is neutral toward the player', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {'Shieldbearer': 0}, 'status_effects': []}
2025-10-27 22:22:56,194 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=2)
2025-10-27 22:22:56,194 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 22:22:56,194 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 22:22:56,194 [INFO] fortress_director.rules.rules_engine: Environmental effects applied with seed 12345
2025-10-27 22:22:56,194 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 2, "day": 1, "flags": ["world_change"], "inventory": [], "lore": {}, "memory_layers": ["Turn 1: Ask the Shieldbearer about the current situation -> The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clo...", "Turn 2: Ask the Shieldbearer about her duty. -> The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clo..."...
2025-10-27 22:22:56,198 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-35\test_smoke_2turn_real_llm0\world_state.json (turn=2)
2025-10-27 22:22:56,198 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 22:22:56,198 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 22:22:56,198 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-35\test_smoke_2turn_real_llm0\world_state.json (turn=2)
2025-10-27 22:22:56,198 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:22:56,198 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:22:56,201 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=2/10) with metrics={'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:22:56,201 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'glitch_overload'}
2025-10-27 22:22:56,201 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'glitch_overload'}
2025-10-27 22:22:56,202 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-35\test_smoke_2turn_real_llm0\world_state.json (turn=2)
2025-10-27 22:22:56,202 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 22:22:56,202 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 22:22:56,202 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over damp stone.\", \"sensory_details\": \"The chill morning air carries the scent of rain and earth distant drums echo with promise.\"}\nRecent events: The Shieldbearer stands guard at the entrance, her oil lamp casting a feeble glow amidst the low clouds and gritty wind. Drums echo from beyond the walls.\nRecent motifs: none\nRecent major events: ...
2025-10-27 22:22:56,202 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 22:22:56,202 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 22:23:15,602 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 22:23:15,615 [INFO] fortress_director.codeaware.function_registry: Registering safe function: change_weather
2025-10-27 22:23:15,616 [INFO] fortress_director.codeaware.function_registry: Safe function 'change_weather' registered successfully.
2025-10-27 22:23:15,616 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_item
2025-10-27 22:23:15,616 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_item' registered successfully.
2025-10-27 22:23:15,617 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_npc
2025-10-27 22:23:15,617 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_npc' registered successfully.
2025-10-27 22:23:15,618 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_logic
2025-10-27 22:23:15,618 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_logic' registered successfully.
2025-10-27 22:23:15,618 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_emotion
2025-10-27 22:23:15,618 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_emotion' registered successfully.
2025-10-27 22:23:15,619 [INFO] fortress_director.codeaware.function_registry: Registering safe function: raise_corruption
2025-10-27 22:23:15,619 [INFO] fortress_director.codeaware.function_registry: Safe function 'raise_corruption' registered successfully.
2025-10-27 22:23:15,619 [INFO] fortress_director.codeaware.function_registry: Registering safe function: advance_turn
2025-10-27 22:23:15,619 [INFO] fortress_director.codeaware.function_registry: Safe function 'advance_turn' registered successfully.
2025-10-27 22:23:15,619 [INFO] fortress_director.codeaware.function_registry: Registering safe function: modify_resources
2025-10-27 22:23:15,620 [INFO] fortress_director.codeaware.function_registry: Safe function 'modify_resources' registered successfully.
2025-10-27 22:23:15,620 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_metric
2025-10-27 22:23:15,620 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_metric' registered successfully.
2025-10-27 22:23:15,620 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_room
2025-10-27 22:23:15,620 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_room' registered successfully.
2025-10-27 22:23:15,620 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 22:23:15,621 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 22:23:15,621 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-36\test_smoke_2turn_real_llm0\world_state.json (turn=0)
2025-10-27 22:23:15,621 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=0, call=None)
2025-10-27 22:23:15,621 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 22:23:15,622 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-36\test_smoke_2turn_real_llm0\world_state.json (turn=0)
2025-10-27 22:23:15,622 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 0, "day": 1, "flags": [], "inventory": [], "lore": {}, "memory_layers": [], "metrics": {"corruption": 10, "glitch": 12, "knowledge": 45, "major_event_last_turn": null, "major_events_triggered": 0, "major_flag_set": false, "morale": 50, "order": 50, "resources": 40, "risk_applied_total": 0}, "npc_fragments": {}, "npc_trust": {}, "player": {"inventory": ["oil lamp", "patched shield"], "name": "The Shieldbe...
2025-10-27 22:23:15,622 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:23:15,622 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:23:15,622 [INFO] fortress_director.utils.glitch_manager: Resolving glitch (turn=1, seed=12345, current_glitch=12)
2025-10-27 22:23:15,623 [DEBUG] fortress_director.utils.glitch_manager: Metrics before glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:23:15,623 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=12, delta=1, limits=(0, 100) (cause=glitch:cosmetic_noise)
2025-10-27 22:23:15,623 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': 1, 'value': 13, 'cause': 'glitch:cosmetic_noise'}
2025-10-27 22:23:15,623 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 12 to 13 (cause=glitch:cosmetic_noise)
2025-10-27 22:23:15,623 [INFO] fortress_director.utils.glitch_manager: Glitch roll complete: roll=7, triggered_loss=False
2025-10-27 22:23:15,623 [DEBUG] fortress_director.utils.glitch_manager: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 13, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:23:15,624 [DEBUG] fortress_director.utils.glitch_manager: Glitch effects applied: ['Minor static ripples along the parapets.']
2025-10-27 22:23:15,624 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=7, triggered_loss=False
2025-10-27 22:23:15,624 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 13, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:23:15,624 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=13, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 22:23:15,624 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 12, 'cause': 'turn_recovery'}
2025-10-27 22:23:15,625 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 13 to 12 (cause=turn_recovery)
2025-10-27 22:23:15,625 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:23:15,625 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 22:23:15,625 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}
Recent events: none
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}
2025-10-27 22:23:15,626 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 0 in room entrance
2025-10-27 22:23:15,626 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:23:15,626 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 22:23:15,626 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'room': 'entrance'}
2025-10-27 22:23:22,555 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'Dawn breaks, casting a pale light over low clouds.', 'sensory_details': 'The chill morning air carries the metallic tang of rain on stone and distant drums echo with promise.'}
2025-10-27 22:23:22,555 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'Dawn breaks, casting a pale light over low clouds.', 'sensory_details': 'The chill morning air carries the metallic tang of rain on stone and distant drums echo with promise.'}
2025-10-27 22:23:22,556 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 22:23:22,556 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "Dawn breaks, casting a pale light over low clouds.", "sensory_details": "The chill morning air carries the metallic tang of rain on stone and distant drums echo with promise."}
2025-10-27 22:23:22,556 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:23:22,556 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 22:23:22,557 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'none', 'world_constraint_from_prev_turn': '{"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': []}
2025-10-27 22:23:47,146 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo ominously.', 'options': [{'id': 'ask_about_threat', 'text': "Ask the Shieldbearer about any threats they've noticed recently.", 'action_type': 'dialog'}, {'id': 'check_for_items', 'text': 'Check if there are any supplies or useful items nearby.', 'action_type': 'search'}, {'id': 'patrol_with_shieldbearer', 'text': 'Offer to patrol the entrance with the Shieldbearer.', 'action_type': 'interact'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:23:47,146 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo ominously.', 'options': [{'id': 'ask_about_threat', 'text': "Ask the Shieldbearer about any threats they've noticed recently.", 'action_type': 'dialog'}, {'id': 'check_for_items', 'text': 'Check if there are any supplies or useful items nearby.', 'action_type': 'search'}, {'id': 'patrol_with_shieldbearer', 'text': 'Offer to patrol the entrance with the Shieldbearer.', 'action_type': 'interact'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:23:47,147 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 22:23:47,147 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "options": [{"action_type": "dialog", "id": "ask_about_threat", "text": "Ask the Shieldbearer about any threats they've noticed recently."}, {"action_type": "search", "id": "check_for_items", "text": "Check if there are any supplies or useful items nearby."}, {"action_type": "interact", "id": "patrol_with_shieldbearer", "text": "Offer to patrol the entrance with the Shieldbearer."}], "safe_functions": [], "scene": "The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo o...
2025-10-27 22:23:47,147 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 22:23:47,148 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'ask_about_threat', 'text': "Ask the Shieldbearer about any threats they've noticed recently.", 'action_type': 'dialog'}
2025-10-27 22:23:47,148 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "dialog", "id": "ask_about_threat", "text": "Ask the Shieldbearer about any threats they've noticed recently."}
2025-10-27 22:23:47,148 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'dialog'
2025-10-27 22:23:47,149 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:23:47,149 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 22:23:47,149 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'scene_short': 'The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo ominously.', 'player_choice': "Ask the Shieldbearer about any threats they've noticed recently.", 'atmosphere': 'Dawn breaks, casting a pale light over low clouds.', 'sensory_details': 'The chill morning air carries the metallic tang of rain on stone and distant drums echo with promise.', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player; Boris weighs every trade.', 'player_inventory_brief': 'oil lamp, patched shield'}
2025-10-27 22:23:53,292 [DEBUG] fortress_director.agents.character_agent: Model returned: {'name': 'Rhea', 'intent': 'monitor', 'action': 'stand alert', 'speech': 'The morning stillness is broken by the rhythmic thud of drums beyond the walls. I stand vigilant, ready to defend the entrance.'}
2025-10-27 22:23:53,292 [INFO] fortress_director.agents.character_agent: Normalized output (dict): [{'name': 'Rhea', 'intent': 'monitor', 'action': 'stand alert', 'speech': 'The morning stillness is broken by the rhythmic thud of drums beyond the walls. I stand vigilant, ready to defend the entrance.', 'effects': {}}]
2025-10-27 22:23:53,293 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 22:23:53,293 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "stand alert", "effects": {}, "intent": "monitor", "name": "Rhea", "speech": "The morning stillness is broken by the rhythmic thud of drums beyond the walls. I stand vigilant, ready to defend the entrance."}]
2025-10-27 22:23:53,293 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 22:23:53,293 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 22:23:53,294 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 22:23:53,294 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "stand alert", "effects": {}, "intent": "monitor", "name": "Rhea", "speech": "The morning stillness is broken by the rhythmic thud of drums beyond the walls. I stand vigilant, ready to defend the entrance."}]
2025-10-27 22:23:53,294 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 22:23:53,294 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 0, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': [], 'memory_layers': [], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': [], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'low clouds hug the battlements', 'sensory_details': 'Drums thud beyond the walls while the wind carries grit.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}}
2025-10-27 22:23:53,295 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'monitor', 'action': 'stand alert', 'speech': 'The morning stillness is broken by the rhythmic thud of drums beyond the walls. I stand vigilant, ready to defend the entrance.', 'effects': {}}]
2025-10-27 22:23:53,295 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}
Recent events: none
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}, scene: The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo ominously., player_choice: {'id': 'ask_about_threat', 'text': "Ask the Shieldbearer about any threats they've noticed recently.", 'action_type': 'dialog'}
2025-10-27 22:23:53,295 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 22:23:53,296 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'monitor', 'action': 'stand alert', 'speech': 'The morning stillness is broken by the rhythmic thud of drums beyond the walls. I stand vigilant, ready to defend the entrance.', 'effects': {}}
2025-10-27 22:23:53,296 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 22:23:53,296 [INFO] fortress_director.agents.judge_agent: JudgeAgent.evaluate called with variables
2025-10-27 22:23:58,964 [DEBUG] fortress_director.agents.judge_agent: Model returned: {'consistent': True, 'reason': "The content is consistent with the established world, lore, and character logic. The Shieldbearer's vigilance at the entrance is appropriate for her role as a defender."}
2025-10-27 22:23:58,964 [INFO] fortress_director.agents.judge_agent: Judge verdict: {'consistent': True, 'reason': "The content is consistent with the established world, lore, and character logic. The Shieldbearer's vigilance at the entrance is appropriate for her role as a defender."}
2025-10-27 22:23:58,964 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': "The content is consistent with the established world, lore, and character logic. The Shieldbearer's vigilance at the entrance is appropriate for her role as a defender."}
2025-10-27 22:23:58,964 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 22:23:58,964 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {}
2025-10-27 22:23:58,964 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 22:23:58,964 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 0, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': [], 'memory_layers': [], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': [], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'low clouds hug the battlements', 'sensory_details': 'Drums thud beyond the walls while the wind carries grit.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}}
2025-10-27 22:23:58,966 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=1)
2025-10-27 22:23:58,966 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 22:23:58,966 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 22:23:58,966 [INFO] fortress_director.rules.rules_engine: Environmental effects applied with seed 12345
2025-10-27 22:23:58,966 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 1, "day": 1, "flags": [], "inventory": [], "lore": {}, "memory_layers": ["Turn 1: Ask the Shieldbearer about any threats they've noticed recently. -> The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low cl..."], "metrics": {"corruption": 10, "glitch": 12, "knowledge": 45, "major_event_last_turn": null, "major_events_triggered": 0, "major_flag_set": false, "mor...
2025-10-27 22:23:58,966 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-36\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:23:58,966 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 22:23:58,966 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 22:23:58,966 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-36\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:23:58,966 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:23:58,966 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:23:58,966 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=1/10) with metrics={'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:23:58,966 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'ongoing', 'reason': 'thresholds_not_met'}
2025-10-27 22:23:58,966 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'ongoing', 'reason': 'thresholds_not_met'}
2025-10-27 22:23:58,966 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 22:23:58,966 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:23:58,966 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 22:23:58,972 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 22:23:58,973 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 22:23:58,973 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 22:23:58,974 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-36\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:23:58,974 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=1, call=None)
2025-10-27 22:23:58,974 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 22:23:58,974 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-36\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:23:58,974 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 1, "day": 1, "flags": [], "inventory": [], "lore": {}, "memory_layers": ["Turn 1: Ask the Shieldbearer about any threats they've noticed recently. -> The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low cl..."], "metrics": {"corruption": 10, "glitch": 12, "knowledge": 45, "major_event_last_turn": null, "major_events_triggered": 0, "major_flag_set": false, "mor...
2025-10-27 22:23:58,974 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:23:58,974 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:23:58,976 [INFO] fortress_director.utils.glitch_manager: Resolving glitch (turn=2, seed=12345, current_glitch=12)
2025-10-27 22:23:58,976 [DEBUG] fortress_director.utils.glitch_manager: Metrics before glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:23:58,976 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=12, delta=15, limits=(0, 100) (cause=glitch:overload)
2025-10-27 22:23:58,976 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': 15, 'value': 27, 'cause': 'glitch:overload'}
2025-10-27 22:23:58,976 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 12 to 27 (cause=glitch:overload)
2025-10-27 22:23:58,976 [INFO] fortress_director.utils.glitch_manager: Glitch roll complete: roll=99, triggered_loss=True
2025-10-27 22:23:58,976 [DEBUG] fortress_director.utils.glitch_manager: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 27, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:23:58,976 [DEBUG] fortress_director.utils.glitch_manager: Glitch effects applied: ['Glitch cascade overwhelms containment protocols.']
2025-10-27 22:23:58,978 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=99, triggered_loss=True
2025-10-27 22:23:58,978 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 27, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:23:58,978 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=27, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 22:23:58,978 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 26, 'cause': 'turn_recovery'}
2025-10-27 22:23:58,978 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 27 to 26 (cause=turn_recovery)
2025-10-27 22:23:58,978 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:23:58,978 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 22:23:58,980 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 1 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "Dawn breaks, casting a pale light over low clouds.", "sensory_details": "The chill morning air carries the metallic tang of rain on stone and distant drums echo with promise."}
Recent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo ominously.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}
2025-10-27 22:23:58,980 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 1 in room entrance
2025-10-27 22:23:58,980 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over low clouds.\", \"sensory_details\": \"The chill morning air carries the metallic tang of rain on stone and distant drums echo with promise.\"}\nRecent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo ominously.\nRecent motifs: none\n...
2025-10-27 22:23:58,980 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 22:23:58,980 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "Dawn breaks, casting a pale light over low clouds.", "sensory_details": "The chill morning air carries the metallic tang of rain on stone and distant drums echo with promise."}\nRecent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo ominously.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'room': 'entrance'}
2025-10-27 22:24:05,459 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': "Dawn'thin mist veils over a silent, expectant world.", 'sensory_details': 'The crisp air nips at skin with the sharpness of frost; distant drums beat like heartbeats in anticipation.'}
2025-10-27 22:24:05,459 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': "Dawn'thin mist veils over a silent, expectant world.", 'sensory_details': 'The crisp air nips at skin with the sharpness of frost distant drums beat like heartbeats in anticipation.'}
2025-10-27 22:24:05,459 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 22:24:05,459 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "Dawn'thin mist veils over a silent, expectant world.", "sensory_details": "The crisp air nips at skin with the sharpness of frost distant drums beat like heartbeats in anticipation."}
2025-10-27 22:24:05,461 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over low clouds.\", \"sensory_details\": \"The chill morning air carries the metallic tang of rain on stone and distant drums echo with promise.\"}\nRecent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo ominously.\nRecent motifs: none\n...
2025-10-27 22:24:05,461 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 22:24:05,461 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "Dawn breaks, casting a pale light over low clouds.", "sensory_details": "The chill morning air carries the metallic tang of rain on stone and distant drums echo with promise."}\nRecent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo ominously.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo ominously.', 'world_constraint_from_prev_turn': '{"atmosphere": "Dawn breaks, casting a pale light over low clouds.", "sensory_details": "The chill morning air carries the metallic tang of rain on stone and distant drums echo with promise."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ["Turn 1: Ask the Shieldbearer about any threats they've noticed recently. -> The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low cl..."]}
2025-10-27 22:24:28,996 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'The Shieldbearer, her oil lamp flickering in the dim dawn light, stands watch at the entrance. The distant drums echo ominously.', 'options': [{'id': '1', 'text': 'Approach the Shieldbearer and ask about the drums beyond the walls.', 'action_type': 'dialog'}, {'id': '2', 'text': "Ignite a torch from the Shieldbearer's oil lamp to light your way.", 'action_type': 'item_interaction'}, {'id': '3', 'text': 'Stand watch with the Shieldbearer, sharing her vigilance.', 'action_type': 'social'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:24:28,997 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'The Shieldbearer, her oil lamp flickering in the dim dawn light, stands watch at the entrance. The distant drums echo ominously.', 'options': [{'id': '1', 'text': 'Approach the Shieldbearer and ask about the drums beyond the walls.', 'action_type': 'dialog'}, {'id': '2', 'text': "Ignite a torch from the Shieldbearer's oil lamp to light your way.", 'action_type': 'item_interaction'}, {'id': '3', 'text': 'Stand watch with the Shieldbearer, sharing her vigilance.', 'action_type': 'social'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:24:28,997 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 22:24:28,997 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "options": [{"action_type": "dialog", "id": "1", "text": "Approach the Shieldbearer and ask about the drums beyond the walls."}, {"action_type": "item_interaction", "id": "2", "text": "Ignite a torch from the Shieldbearer's oil lamp to light your way."}, {"action_type": "social", "id": "3", "text": "Stand watch with the Shieldbearer, sharing her vigilance."}], "safe_functions": [], "scene": "The Shieldbearer, her oil lamp flickering in the dim dawn light, stands watch at the entrance. The distant drums echo ominously."}
2025-10-27 22:24:28,997 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 22:24:28,997 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': '1', 'text': 'Approach the Shieldbearer and ask about the drums beyond the walls.', 'action_type': 'dialog'}
2025-10-27 22:24:28,998 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "dialog", "id": "1", "text": "Approach the Shieldbearer and ask about the drums beyond the walls."}
2025-10-27 22:24:28,998 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'dialog'
2025-10-27 22:24:28,998 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over low clouds.\", \"sensory_details\": \"The chill morning air carries the metallic tang of rain on stone and distant drums echo with promise.\"}\nRecent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo ominously.\nRecent motifs: none\n...
2025-10-27 22:24:28,998 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 22:24:28,998 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "Dawn breaks, casting a pale light over low clouds.", "sensory_details": "The chill morning air carries the metallic tang of rain on stone and distant drums echo with promise."}\nRecent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo ominously.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'scene_short': 'The Shieldbearer, her oil lamp flickering in the dim dawn light, stands watch at the entrance. The distant drums echo ominously.', 'player_choice': 'Approach the Shieldbearer and ask about the drums beyond the walls.', 'atmosphere': "Dawn'thin mist veils over a silent, expectant world.", 'sensory_details': 'The crisp air nips at skin with the sharpness of frost distant drums beat like heartbeats in anticipation.', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player; Boris weighs every trade.', 'player_inventory_brief': 'oil lamp, patched shield'}
2025-10-27 22:24:37,303 [DEBUG] fortress_director.agents.character_agent: Model returned: {'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_watch', 'speech': 'Silent eyes pierce the pale morning, keeping watch for any sign of movement.', 'effects': {'trust_delta': 100, 'flag_set': ['minor_threat_detected'], 'item_change': {'weapon_id': 'oil_lamp'}, 'status_change': {'health': 100}}}
2025-10-27 22:24:37,303 [INFO] fortress_director.agents.character_agent: Normalized output (dict): [{'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_watch', 'speech': 'Silent eyes pierce the pale morning, keeping watch for any sign of movement.', 'effects': {'flag_set': ['minor_threat_detected']}}]
2025-10-27 22:24:37,303 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 22:24:37,303 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "stand_watch", "effects": {"flag_set": ["minor_threat_detected"]}, "intent": "vigilance", "name": "Shieldbearer", "speech": "Silent eyes pierce the pale morning, keeping watch for any sign of movement."}]
2025-10-27 22:24:37,303 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 22:24:37,303 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 22:24:37,303 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 22:24:37,303 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "stand_watch", "effects": {"flag_set": ["minor_threat_detected"]}, "intent": "vigilance", "name": "Shieldbearer", "speech": "Silent eyes pierce the pale morning, keeping watch for any sign of movement."}]
2025-10-27 22:24:37,303 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 22:24:37,303 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 1, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': [], 'memory_layers': ["Turn 1: Ask the Shieldbearer about any threats they've noticed recently. -> The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low cl..."], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 1, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo ominously.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, casting a pale light over low clouds.', 'sensory_details': 'The chill morning air carries the metallic tang of rain on stone and distant drums echo with promise.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}, 'status_effects': []}
2025-10-27 22:24:37,303 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_watch', 'speech': 'Silent eyes pierce the pale morning, keeping watch for any sign of movement.', 'effects': {'flag_set': ['minor_threat_detected']}}]
2025-10-27 22:24:37,303 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 1 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "Dawn breaks, casting a pale light over low clouds.", "sensory_details": "The chill morning air carries the metallic tang of rain on stone and distant drums echo with promise."}
Recent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo ominously.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}, scene: The Shieldbearer, her oil lamp flickering in the dim dawn light, stands watch at the entrance. The distant drums echo ominously., player_choice: {'id': '1', 'text': 'Approach the Shieldbearer and ask about the drums beyond the walls.', 'action_type': 'dialog'}
2025-10-27 22:24:37,303 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 22:24:37,303 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand_watch', 'speech': 'Silent eyes pierce the pale morning, keeping watch for any sign of movement.', 'effects': {'flag_set': ['minor_threat_detected']}}
2025-10-27 22:24:37,303 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 22:24:37,303 [INFO] fortress_director.agents.judge_agent: JudgeAgent.evaluate called with variables
2025-10-27 22:24:43,287 [DEBUG] fortress_director.agents.judge_agent: Model returned: {'consistent': True, 'reason': 'The content is consistent with established world, lore, and character logic. The scene and player choice are appropriate for a vigilante watching over the entrance.'}
2025-10-27 22:24:43,288 [INFO] fortress_director.agents.judge_agent: Judge verdict: {'consistent': True, 'reason': 'The content is consistent with established world, lore, and character logic. The scene and player choice are appropriate for a vigilante watching over the entrance.'}
2025-10-27 22:24:43,288 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Shieldbearer: {'consistent': True, 'reason': 'The content is consistent with established world, lore, and character logic. The scene and player choice are appropriate for a vigilante watching over the entrance.'}
2025-10-27 22:24:43,288 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 22:24:43,288 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Shieldbearer: {'flag_set': ['minor_threat_detected']}
2025-10-27 22:24:43,289 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 22:24:43,289 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 1, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['minor_threat_detected'], 'memory_layers': ["Turn 1: Ask the Shieldbearer about any threats they've noticed recently. -> The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low cl..."], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 1, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo ominously.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, casting a pale light over low clouds.', 'sensory_details': 'The chill morning air carries the metallic tang of rain on stone and distant drums echo with promise.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}, 'status_effects': []}
2025-10-27 22:24:43,289 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=2)
2025-10-27 22:24:43,289 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 22:24:43,289 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 22:24:43,289 [INFO] fortress_director.rules.rules_engine: Environmental effects applied with seed 12345
2025-10-27 22:24:43,290 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 2, "day": 1, "flags": ["minor_threat_detected"], "inventory": [], "lore": {}, "memory_layers": ["Turn 1: Ask the Shieldbearer about any threats they've noticed recently. -> The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low cl...", "Turn 2: Approach the Shieldbearer and ask about the drums beyond the walls. -> The Shieldbearer, her oil lamp flickering in the...
2025-10-27 22:24:43,291 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-36\test_smoke_2turn_real_llm0\world_state.json (turn=2)
2025-10-27 22:24:43,291 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 22:24:43,291 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 22:24:43,292 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-36\test_smoke_2turn_real_llm0\world_state.json (turn=2)
2025-10-27 22:24:43,292 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:24:43,292 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:24:43,292 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=2/10) with metrics={'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:24:43,292 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'glitch_overload'}
2025-10-27 22:24:43,292 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'glitch_overload'}
2025-10-27 22:24:43,293 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-36\test_smoke_2turn_real_llm0\world_state.json (turn=2)
2025-10-27 22:24:43,293 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 22:24:43,294 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 22:24:43,294 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over low clouds.\", \"sensory_details\": \"The chill morning air carries the metallic tang of rain on stone and distant drums echo with promise.\"}\nRecent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a feeble glow against the low clouds and gritty wind. The drums beyond the walls echo ominously.\nRecent motifs: none\n...
2025-10-27 22:24:43,294 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 22:24:43,294 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 22:25:52,116 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 22:25:52,129 [INFO] fortress_director.codeaware.function_registry: Registering safe function: change_weather
2025-10-27 22:25:52,130 [INFO] fortress_director.codeaware.function_registry: Safe function 'change_weather' registered successfully.
2025-10-27 22:25:52,130 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_item
2025-10-27 22:25:52,130 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_item' registered successfully.
2025-10-27 22:25:52,131 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_npc
2025-10-27 22:25:52,131 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_npc' registered successfully.
2025-10-27 22:25:52,132 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_logic
2025-10-27 22:25:52,132 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_logic' registered successfully.
2025-10-27 22:25:52,132 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_emotion
2025-10-27 22:25:52,132 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_emotion' registered successfully.
2025-10-27 22:25:52,132 [INFO] fortress_director.codeaware.function_registry: Registering safe function: raise_corruption
2025-10-27 22:25:52,133 [INFO] fortress_director.codeaware.function_registry: Safe function 'raise_corruption' registered successfully.
2025-10-27 22:25:52,133 [INFO] fortress_director.codeaware.function_registry: Registering safe function: advance_turn
2025-10-27 22:25:52,133 [INFO] fortress_director.codeaware.function_registry: Safe function 'advance_turn' registered successfully.
2025-10-27 22:25:52,133 [INFO] fortress_director.codeaware.function_registry: Registering safe function: modify_resources
2025-10-27 22:25:52,133 [INFO] fortress_director.codeaware.function_registry: Safe function 'modify_resources' registered successfully.
2025-10-27 22:25:52,133 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_metric
2025-10-27 22:25:52,134 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_metric' registered successfully.
2025-10-27 22:25:52,134 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_room
2025-10-27 22:25:52,134 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_room' registered successfully.
2025-10-27 22:25:52,134 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 22:25:52,134 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 22:25:52,134 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-37\test_smoke_2turn_real_llm0\world_state.json (turn=0)
2025-10-27 22:25:52,134 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=0, call=None)
2025-10-27 22:25:52,134 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 22:25:52,136 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-37\test_smoke_2turn_real_llm0\world_state.json (turn=0)
2025-10-27 22:25:52,136 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 0, "day": 1, "flags": [], "inventory": [], "lore": {}, "memory_layers": [], "metrics": {"corruption": 10, "glitch": 12, "knowledge": 45, "major_event_last_turn": null, "major_events_triggered": 0, "major_flag_set": false, "morale": 50, "order": 50, "resources": 40, "risk_applied_total": 0}, "npc_fragments": {}, "npc_trust": {}, "player": {"inventory": ["oil lamp", "patched shield"], "name": "The Shieldbe...
2025-10-27 22:25:52,136 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:25:52,136 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:25:52,136 [INFO] fortress_director.utils.glitch_manager: Resolving glitch (turn=1, seed=12345, current_glitch=12)
2025-10-27 22:25:52,137 [DEBUG] fortress_director.utils.glitch_manager: Metrics before glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:25:52,137 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=12, delta=1, limits=(0, 100) (cause=glitch:cosmetic_noise)
2025-10-27 22:25:52,137 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': 1, 'value': 13, 'cause': 'glitch:cosmetic_noise'}
2025-10-27 22:25:52,137 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 12 to 13 (cause=glitch:cosmetic_noise)
2025-10-27 22:25:52,137 [INFO] fortress_director.utils.glitch_manager: Glitch roll complete: roll=7, triggered_loss=False
2025-10-27 22:25:52,137 [DEBUG] fortress_director.utils.glitch_manager: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 13, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:25:52,138 [DEBUG] fortress_director.utils.glitch_manager: Glitch effects applied: ['Minor static ripples along the parapets.']
2025-10-27 22:25:52,138 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=7, triggered_loss=False
2025-10-27 22:25:52,138 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 13, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:25:52,138 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=13, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 22:25:52,138 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 12, 'cause': 'turn_recovery'}
2025-10-27 22:25:52,139 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 13 to 12 (cause=turn_recovery)
2025-10-27 22:25:52,139 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:25:52,139 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 22:25:52,139 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}
Recent events: none
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}
2025-10-27 22:25:52,139 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 0 in room entrance
2025-10-27 22:25:52,140 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:25:52,140 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 22:25:52,140 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'room': 'entrance'}
2025-10-27 22:25:58,981 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'Dawn breaks, casting a pale light over damp stone.', 'sensory_details': 'The scent of wet earth mingles with the distant clangor of metal and wood as guards patrol.'}
2025-10-27 22:25:58,981 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'Dawn breaks, casting a pale light over damp stone.', 'sensory_details': 'The scent of wet earth mingles with the distant clangor of metal and wood as guards patrol.'}
2025-10-27 22:25:58,981 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 22:25:58,981 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "Dawn breaks, casting a pale light over damp stone.", "sensory_details": "The scent of wet earth mingles with the distant clangor of metal and wood as guards patrol."}
2025-10-27 22:25:58,981 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:25:58,982 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 22:25:58,982 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'none', 'world_constraint_from_prev_turn': '{"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': []}
2025-10-27 22:26:22,109 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit.', 'options': [{'id': 'ask_about_threat', 'text': 'Ask Rhea about any threats to Lornhaven', 'action_type': 'dialog'}, {'id': 'check_inventory', 'text': 'Check your inventory', 'action_type': 'inventory'}, {'id': 'patrol_wall', 'text': 'Join Rhea in patrolling the wall', 'action_type': 'location_change'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:26:22,110 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit.', 'options': [{'id': 'ask_about_threat', 'text': 'Ask Rhea about any threats to Lornhaven', 'action_type': 'dialog'}, {'id': 'check_inventory', 'text': 'Check your inventory', 'action_type': 'inventory'}, {'id': 'patrol_wall', 'text': 'Join Rhea in patrolling the wall', 'action_type': 'location_change'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:26:22,111 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 22:26:22,111 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "options": [{"action_type": "dialog", "id": "ask_about_threat", "text": "Ask Rhea about any threats to Lornhaven"}, {"action_type": "inventory", "id": "check_inventory", "text": "Check your inventory"}, {"action_type": "location_change", "id": "patrol_wall", "text": "Join Rhea in patrolling the wall"}], "safe_functions": [], "scene": "The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit."}
2025-10-27 22:26:22,111 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 22:26:22,111 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'ask_about_threat', 'text': 'Ask Rhea about any threats to Lornhaven', 'action_type': 'dialog'}
2025-10-27 22:26:22,112 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "dialog", "id": "ask_about_threat", "text": "Ask Rhea about any threats to Lornhaven"}
2025-10-27 22:26:22,112 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'dialog'
2025-10-27 22:26:22,112 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:26:22,113 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 22:26:22,113 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'scene_short': 'The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit.', 'player_choice': 'Ask Rhea about any threats to Lornhaven', 'atmosphere': 'Dawn breaks, casting a pale light over damp stone.', 'sensory_details': 'The scent of wet earth mingles with the distant clangor of metal and wood as guards patrol.', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player; Boris weighs every trade.', 'player_inventory_brief': 'oil lamp, patched shield'}
2025-10-27 22:26:29,702 [DEBUG] fortress_director.agents.character_agent: Model returned: {'name': 'Rhea', 'intent': 'Monitor', 'action': 'Stand alert, scanning the horizon for any signs of movement or activity.', 'speech': 'I stand vigilant, listening for any whispers of danger in the wind. Keep my senses sharp, for I never know when a threat might emerge.', 'effects': {'trust_delta': 100, 'flag_set': ['low_clouds_hugging_battlements'], 'item_change': None, 'status_change': {'health': 100}}}
2025-10-27 22:26:29,703 [INFO] fortress_director.agents.character_agent: Normalized output (dict): [{'name': 'Rhea', 'intent': 'Monitor', 'action': 'Stand alert, scanning the horizon for any signs of movement or activity.', 'speech': 'I stand vigilant, listening for any whispers of danger in the wind. Keep my senses sharp, for I never know when a threat might emerge.', 'effects': {'flag_set': ['low_clouds_hugging_battlements']}}]
2025-10-27 22:26:29,703 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 22:26:29,704 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "Stand alert, scanning the horizon for any signs of movement or activity.", "effects": {"flag_set": ["low_clouds_hugging_battlements"]}, "intent": "Monitor", "name": "Rhea", "speech": "I stand vigilant, listening for any whispers of danger in the wind. Keep my senses sharp, for I never know when a threat might emerge."}]
2025-10-27 22:26:29,704 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 22:26:29,704 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 22:26:29,704 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 22:26:29,705 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "Stand alert, scanning the horizon for any signs of movement or activity.", "effects": {"flag_set": ["low_clouds_hugging_battlements"]}, "intent": "Monitor", "name": "Rhea", "speech": "I stand vigilant, listening for any whispers of danger in the wind. Keep my senses sharp, for I never know when a threat might emerge."}]
2025-10-27 22:26:29,705 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 22:26:29,705 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 0, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': [], 'memory_layers': [], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': [], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'low clouds hug the battlements', 'sensory_details': 'Drums thud beyond the walls while the wind carries grit.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}}
2025-10-27 22:26:29,705 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'Monitor', 'action': 'Stand alert, scanning the horizon for any signs of movement or activity.', 'speech': 'I stand vigilant, listening for any whispers of danger in the wind. Keep my senses sharp, for I never know when a threat might emerge.', 'effects': {'flag_set': ['low_clouds_hugging_battlements']}}]
2025-10-27 22:26:29,706 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}
Recent events: none
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}, scene: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit., player_choice: {'id': 'ask_about_threat', 'text': 'Ask Rhea about any threats to Lornhaven', 'action_type': 'dialog'}
2025-10-27 22:26:29,706 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 22:26:29,706 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'Monitor', 'action': 'Stand alert, scanning the horizon for any signs of movement or activity.', 'speech': 'I stand vigilant, listening for any whispers of danger in the wind. Keep my senses sharp, for I never know when a threat might emerge.', 'effects': {'flag_set': ['low_clouds_hugging_battlements']}}
2025-10-27 22:26:29,706 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 22:26:29,706 [INFO] fortress_director.agents.judge_agent: JudgeAgent.evaluate called with variables
2025-10-27 22:26:34,746 [DEBUG] fortress_director.agents.judge_agent: Model returned: {'consistent': True, 'reason': 'The content is consistent with established world, lore, and character logic. The scene and player choice are appropriate for a guard at an entrance.'}
2025-10-27 22:26:34,746 [INFO] fortress_director.agents.judge_agent: Judge verdict: {'consistent': True, 'reason': 'The content is consistent with established world, lore, and character logic. The scene and player choice are appropriate for a guard at an entrance.'}
2025-10-27 22:26:34,746 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': 'The content is consistent with established world, lore, and character logic. The scene and player choice are appropriate for a guard at an entrance.'}
2025-10-27 22:26:34,747 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 22:26:34,747 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'flag_set': ['low_clouds_hugging_battlements']}
2025-10-27 22:26:34,747 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 22:26:34,747 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 0, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_hugging_battlements'], 'memory_layers': [], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': [], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'low clouds hug the battlements', 'sensory_details': 'Drums thud beyond the walls while the wind carries grit.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}}
2025-10-27 22:26:34,749 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=1)
2025-10-27 22:26:34,749 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 22:26:34,749 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 22:26:34,749 [INFO] fortress_director.rules.rules_engine: Environmental effects applied with seed 12345
2025-10-27 22:26:34,750 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 1, "day": 1, "flags": ["low_clouds_hugging_battlements"], "inventory": [], "lore": {}, "memory_layers": ["Turn 1: Ask Rhea about any threats to Lornhaven -> The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlement..."], "metrics": {"corruption": 10, "glitch": 12, "knowledge": 45, "major_event_last_turn": null, "major_events_triggered": 0, "major_flag_set": fals...
2025-10-27 22:26:34,750 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-37\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:26:34,750 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 22:26:34,750 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 22:26:34,750 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-37\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:26:34,752 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:26:34,752 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:26:34,752 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=1/10) with metrics={'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:26:34,752 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'ongoing', 'reason': 'thresholds_not_met'}
2025-10-27 22:26:34,752 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'ongoing', 'reason': 'thresholds_not_met'}
2025-10-27 22:26:34,753 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 22:26:34,753 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:26:34,753 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 22:26:34,753 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 22:26:34,754 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 22:26:34,755 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 22:26:34,755 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-37\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:26:34,755 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=1, call=None)
2025-10-27 22:26:34,755 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 22:26:34,756 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-37\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:26:34,756 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 1, "day": 1, "flags": ["low_clouds_hugging_battlements"], "inventory": [], "lore": {}, "memory_layers": ["Turn 1: Ask Rhea about any threats to Lornhaven -> The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlement..."], "metrics": {"corruption": 10, "glitch": 12, "knowledge": 45, "major_event_last_turn": null, "major_events_triggered": 0, "major_flag_set": fals...
2025-10-27 22:26:34,756 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:26:34,756 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:26:34,756 [INFO] fortress_director.utils.glitch_manager: Resolving glitch (turn=2, seed=12345, current_glitch=12)
2025-10-27 22:26:34,757 [DEBUG] fortress_director.utils.glitch_manager: Metrics before glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:26:34,757 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=12, delta=15, limits=(0, 100) (cause=glitch:overload)
2025-10-27 22:26:34,758 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': 15, 'value': 27, 'cause': 'glitch:overload'}
2025-10-27 22:26:34,758 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 12 to 27 (cause=glitch:overload)
2025-10-27 22:26:34,758 [INFO] fortress_director.utils.glitch_manager: Glitch roll complete: roll=99, triggered_loss=True
2025-10-27 22:26:34,758 [DEBUG] fortress_director.utils.glitch_manager: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 27, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:26:34,758 [DEBUG] fortress_director.utils.glitch_manager: Glitch effects applied: ['Glitch cascade overwhelms containment protocols.']
2025-10-27 22:26:34,759 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=99, triggered_loss=True
2025-10-27 22:26:34,759 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 27, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:26:34,759 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=27, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 22:26:34,759 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 26, 'cause': 'turn_recovery'}
2025-10-27 22:26:34,759 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 27 to 26 (cause=turn_recovery)
2025-10-27 22:26:34,760 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:26:34,760 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 22:26:34,760 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 1 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "Dawn breaks, casting a pale light over damp stone.", "sensory_details": "The scent of wet earth mingles with the distant clangor of metal and wood as guards patrol."}
Recent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}
2025-10-27 22:26:34,761 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 1 in room entrance
2025-10-27 22:26:34,761 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over damp stone.\", \"sensory_details\": \"The scent of wet earth mingles with the distant clangor of metal and wood as guards patrol.\"}\nRecent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit.\nRecent motifs: none\nRecent major...
2025-10-27 22:26:34,761 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 22:26:34,761 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "Dawn breaks, casting a pale light over damp stone.", "sensory_details": "The scent of wet earth mingles with the distant clangor of metal and wood as guards patrol."}\nRecent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'room': 'entrance'}
2025-10-27 22:26:41,653 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': "Dawn'thin light filters through, revealing damp stone and shadow.", 'sensory_details': 'The cool morning air carries the earthy scent of rain on stones; distant echoes blend with metallic clinks.'}
2025-10-27 22:26:41,653 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': "Dawn'thin light filters through, revealing damp stone and shadow.", 'sensory_details': 'The cool morning air carries the earthy scent of rain on stones distant echoes blend with metallic clinks.'}
2025-10-27 22:26:41,654 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 22:26:41,654 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "Dawn'thin light filters through, revealing damp stone and shadow.", "sensory_details": "The cool morning air carries the earthy scent of rain on stones distant echoes blend with metallic clinks."}
2025-10-27 22:26:41,654 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over damp stone.\", \"sensory_details\": \"The scent of wet earth mingles with the distant clangor of metal and wood as guards patrol.\"}\nRecent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit.\nRecent motifs: none\nRecent major...
2025-10-27 22:26:41,654 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 22:26:41,654 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "Dawn breaks, casting a pale light over damp stone.", "sensory_details": "The scent of wet earth mingles with the distant clangor of metal and wood as guards patrol."}\nRecent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit.', 'world_constraint_from_prev_turn': '{"atmosphere": "Dawn breaks, casting a pale light over damp stone.", "sensory_details": "The scent of wet earth mingles with the distant clangor of metal and wood as guards patrol."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ['Turn 1: Ask Rhea about any threats to Lornhaven -> The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlement...']}
2025-10-27 22:27:07,260 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. As dawn breaks, she notices your approach. Her eyes flicker to the damp stone walls, a constant reminder of the siege that has plagued their home for weeks.', 'options': [{'id': '1', 'text': 'Greet Rhea and ask about the current state of Lornhaven.', 'action_type': 'dialog'}, {'id': '2', 'text': "Approach quietly to avoid disturbing Rhea's vigil.", 'action_type': 'movement'}, {'id': '3', 'text': 'Ignite your oil lamp, casting a warm glow on the entrance.', 'action_type': 'item_use', 'item': 'oil lamp'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:27:07,260 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. As dawn breaks, she notices your approach. Her eyes flicker to the damp stone walls, a constant reminder of the siege that has plagued their home for weeks.', 'options': [{'id': '1', 'text': 'Greet Rhea and ask about the current state of Lornhaven.', 'action_type': 'dialog'}, {'id': '2', 'text': "Approach quietly to avoid disturbing Rhea's vigil.", 'action_type': 'movement'}, {'id': '3', 'text': 'Ignite your oil lamp, casting a warm glow on the entrance.', 'action_type': 'item_use', 'item': 'oil lamp'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:27:07,260 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 22:27:07,261 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "options": [{"action_type": "dialog", "id": "1", "text": "Greet Rhea and ask about the current state of Lornhaven."}, {"action_type": "movement", "id": "2", "text": "Approach quietly to avoid disturbing Rhea's vigil."}, {"action_type": "item_use", "id": "3", "item": "oil lamp", "text": "Ignite your oil lamp, casting a warm glow on the entrance."}], "safe_functions": [], "scene": "The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. As dawn breaks, she notices your approach. Her eyes flicker to the damp stone walls, a constant reminder of the siege that h...
2025-10-27 22:27:07,261 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 22:27:07,261 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': '1', 'text': 'Greet Rhea and ask about the current state of Lornhaven.', 'action_type': 'dialog'}
2025-10-27 22:27:07,261 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "dialog", "id": "1", "text": "Greet Rhea and ask about the current state of Lornhaven."}
2025-10-27 22:27:07,262 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'dialog'
2025-10-27 22:27:07,262 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over damp stone.\", \"sensory_details\": \"The scent of wet earth mingles with the distant clangor of metal and wood as guards patrol.\"}\nRecent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit.\nRecent motifs: none\nRecent major...
2025-10-27 22:27:07,262 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 22:27:07,263 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "Dawn breaks, casting a pale light over damp stone.", "sensory_details": "The scent of wet earth mingles with the distant clangor of metal and wood as guards patrol."}\nRecent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit.\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'scene_short': 'The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. As dawn breaks, she notices your approach. Her eyes flicker to the damp stone walls, a constant reminder of the siege that has plagued their home for weeks.', 'player_choice': 'Greet Rhea and ask about the current state of Lornhaven.', 'atmosphere': "Dawn'thin light filters through, revealing damp stone and shadow.", 'sensory_details': 'The cool morning air carries the earthy scent of rain on stones distant echoes blend with metallic clinks.', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player; Boris weighs every trade.', 'player_inventory_brief': 'oil lamp, patched shield'}
2025-10-27 22:27:14,730 [DEBUG] fortress_director.agents.character_agent: Model returned: {'name': 'Rhea', 'intent': 'vigilance', 'action': 'stand_alert', 'speech': 'The dawn stirs, casting long shadows across the stone walls. A single patrol stands guard, their vigilance unwavering.', 'effects': {'trust_delta': 25, 'flag_set': ['Dawn Watch'], 'item_change': None, 'status_change': {'health': 100}}}
2025-10-27 22:27:14,730 [INFO] fortress_director.agents.character_agent: Normalized output (dict): [{'name': 'Rhea', 'intent': 'vigilance', 'action': 'stand_alert', 'speech': 'The dawn stirs, casting long shadows across the stone walls. A single patrol stands guard, their vigilance unwavering.', 'effects': {'flag_set': ['Dawn Watch']}}]
2025-10-27 22:27:14,731 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 22:27:14,731 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "stand_alert", "effects": {"flag_set": ["Dawn Watch"]}, "intent": "vigilance", "name": "Rhea", "speech": "The dawn stirs, casting long shadows across the stone walls. A single patrol stands guard, their vigilance unwavering."}]
2025-10-27 22:27:14,732 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 22:27:14,732 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 22:27:14,732 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 22:27:14,732 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "stand_alert", "effects": {"flag_set": ["Dawn Watch"]}, "intent": "vigilance", "name": "Rhea", "speech": "The dawn stirs, casting long shadows across the stone walls. A single patrol stands guard, their vigilance unwavering."}]
2025-10-27 22:27:14,732 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 22:27:14,732 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 1, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_hugging_battlements'], 'memory_layers': ['Turn 1: Ask Rhea about any threats to Lornhaven -> The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlement...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 1, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, casting a pale light over damp stone.', 'sensory_details': 'The scent of wet earth mingles with the distant clangor of metal and wood as guards patrol.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}, 'status_effects': []}
2025-10-27 22:27:14,732 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'vigilance', 'action': 'stand_alert', 'speech': 'The dawn stirs, casting long shadows across the stone walls. A single patrol stands guard, their vigilance unwavering.', 'effects': {'flag_set': ['Dawn Watch']}}]
2025-10-27 22:27:14,732 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 1 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "Dawn breaks, casting a pale light over damp stone.", "sensory_details": "The scent of wet earth mingles with the distant clangor of metal and wood as guards patrol."}
Recent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit.
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}, scene: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. As dawn breaks, she notices your approach. Her eyes flicker to the damp stone walls, a constant reminder of the siege that has plagued their home for weeks., player_choice: {'id': '1', 'text': 'Greet Rhea and ask about the current state of Lornhaven.', 'action_type': 'dialog'}
2025-10-27 22:27:14,732 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 22:27:14,732 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'vigilance', 'action': 'stand_alert', 'speech': 'The dawn stirs, casting long shadows across the stone walls. A single patrol stands guard, their vigilance unwavering.', 'effects': {'flag_set': ['Dawn Watch']}}
2025-10-27 22:27:14,735 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 22:27:14,735 [INFO] fortress_director.agents.judge_agent: JudgeAgent.evaluate called with variables
2025-10-27 22:27:20,378 [DEBUG] fortress_director.agents.judge_agent: Model returned: {'consistent': True, 'reason': 'The content is consistent with established world, lore, and character logic. The scene and player choice are appropriate for a guard standing at dawn in Lornhaven.'}
2025-10-27 22:27:20,379 [INFO] fortress_director.agents.judge_agent: Judge verdict: {'consistent': True, 'reason': 'The content is consistent with established world, lore, and character logic. The scene and player choice are appropriate for a guard standing at dawn in Lornhaven.'}
2025-10-27 22:27:20,379 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': 'The content is consistent with established world, lore, and character logic. The scene and player choice are appropriate for a guard standing at dawn in Lornhaven.'}
2025-10-27 22:27:20,379 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 22:27:20,379 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'flag_set': ['Dawn Watch']}
2025-10-27 22:27:20,380 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 22:27:20,380 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 1, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_hugging_battlements', 'Dawn Watch'], 'memory_layers': ['Turn 1: Ask Rhea about any threats to Lornhaven -> The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlement...'], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 1, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit.'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, casting a pale light over damp stone.', 'sensory_details': 'The scent of wet earth mingles with the distant clangor of metal and wood as guards patrol.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}, 'status_effects': []}
2025-10-27 22:27:20,380 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=2)
2025-10-27 22:27:20,380 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 22:27:20,381 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 22:27:20,381 [INFO] fortress_director.rules.rules_engine: Environmental effects applied with seed 12345
2025-10-27 22:27:20,381 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 2, "day": 1, "flags": ["low_clouds_hugging_battlements", "Dawn Watch"], "inventory": [], "lore": {}, "memory_layers": ["Turn 1: Ask Rhea about any threats to Lornhaven -> The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlement...", "Turn 2: Greet Rhea and ask about the current state of Lornhaven. -> The Shieldbearer, Rhea, stands guard at the entrance of Lornh...
2025-10-27 22:27:20,382 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-37\test_smoke_2turn_real_llm0\world_state.json (turn=2)
2025-10-27 22:27:20,382 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 22:27:20,382 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 22:27:20,383 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-37\test_smoke_2turn_real_llm0\world_state.json (turn=2)
2025-10-27 22:27:20,383 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:27:20,383 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:27:20,383 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=2/10) with metrics={'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:27:20,384 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'glitch_overload'}
2025-10-27 22:27:20,384 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'glitch_overload'}
2025-10-27 22:27:20,385 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-37\test_smoke_2turn_real_llm0\world_state.json (turn=2)
2025-10-27 22:27:20,385 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 22:27:20,385 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 22:27:20,386 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over damp stone.\", \"sensory_details\": \"The scent of wet earth mingles with the distant clangor of metal and wood as guards patrol.\"}\nRecent events: The Shieldbearer, Rhea, stands guard at the entrance of Lornhaven. The low clouds hug the battlements and drums thud beyond the walls while the wind carries grit.\nRecent motifs: none\nRecent major...
2025-10-27 22:27:20,386 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 22:27:20,386 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 22:27:21,575 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 22:27:21,586 [INFO] fortress_director.codeaware.function_registry: Registering safe function: change_weather
2025-10-27 22:27:21,587 [INFO] fortress_director.codeaware.function_registry: Safe function 'change_weather' registered successfully.
2025-10-27 22:27:21,587 [INFO] fortress_director.codeaware.function_registry: Registering safe function: spawn_item
2025-10-27 22:27:21,587 [INFO] fortress_director.codeaware.function_registry: Safe function 'spawn_item' registered successfully.
2025-10-27 22:27:21,587 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_npc
2025-10-27 22:27:21,587 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_npc' registered successfully.
2025-10-27 22:27:21,589 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_logic
2025-10-27 22:27:21,589 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_logic' registered successfully.
2025-10-27 22:27:21,589 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_emotion
2025-10-27 22:27:21,590 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_emotion' registered successfully.
2025-10-27 22:27:21,590 [INFO] fortress_director.codeaware.function_registry: Registering safe function: raise_corruption
2025-10-27 22:27:21,590 [INFO] fortress_director.codeaware.function_registry: Safe function 'raise_corruption' registered successfully.
2025-10-27 22:27:21,590 [INFO] fortress_director.codeaware.function_registry: Registering safe function: advance_turn
2025-10-27 22:27:21,590 [INFO] fortress_director.codeaware.function_registry: Safe function 'advance_turn' registered successfully.
2025-10-27 22:27:21,591 [INFO] fortress_director.codeaware.function_registry: Registering safe function: modify_resources
2025-10-27 22:27:21,591 [INFO] fortress_director.codeaware.function_registry: Safe function 'modify_resources' registered successfully.
2025-10-27 22:27:21,591 [INFO] fortress_director.codeaware.function_registry: Registering safe function: adjust_metric
2025-10-27 22:27:21,591 [INFO] fortress_director.codeaware.function_registry: Safe function 'adjust_metric' registered successfully.
2025-10-27 22:27:21,591 [INFO] fortress_director.codeaware.function_registry: Registering safe function: move_room
2025-10-27 22:27:21,591 [INFO] fortress_director.codeaware.function_registry: Safe function 'move_room' registered successfully.
2025-10-27 22:27:21,591 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 22:27:21,592 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 22:27:21,592 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-38\test_smoke_2turn_real_llm0\world_state.json (turn=0)
2025-10-27 22:27:21,592 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=0, call=None)
2025-10-27 22:27:21,592 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 22:27:21,592 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-38\test_smoke_2turn_real_llm0\world_state.json (turn=0)
2025-10-27 22:27:21,592 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 0, "day": 1, "flags": [], "inventory": [], "lore": {}, "memory_layers": [], "metrics": {"corruption": 10, "glitch": 12, "knowledge": 45, "major_event_last_turn": null, "major_events_triggered": 0, "major_flag_set": false, "morale": 50, "order": 50, "resources": 40, "risk_applied_total": 0}, "npc_fragments": {}, "npc_trust": {}, "player": {"inventory": ["oil lamp", "patched shield"], "name": "The Shieldbe...
2025-10-27 22:27:21,593 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:27:21,593 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:27:21,593 [INFO] fortress_director.utils.glitch_manager: Resolving glitch (turn=1, seed=12345, current_glitch=12)
2025-10-27 22:27:21,593 [DEBUG] fortress_director.utils.glitch_manager: Metrics before glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:27:21,593 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=12, delta=1, limits=(0, 100) (cause=glitch:cosmetic_noise)
2025-10-27 22:27:21,595 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': 1, 'value': 13, 'cause': 'glitch:cosmetic_noise'}
2025-10-27 22:27:21,595 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 12 to 13 (cause=glitch:cosmetic_noise)
2025-10-27 22:27:21,595 [INFO] fortress_director.utils.glitch_manager: Glitch roll complete: roll=7, triggered_loss=False
2025-10-27 22:27:21,595 [DEBUG] fortress_director.utils.glitch_manager: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 13, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:27:21,595 [DEBUG] fortress_director.utils.glitch_manager: Glitch effects applied: ['Minor static ripples along the parapets.']
2025-10-27 22:27:21,595 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=7, triggered_loss=False
2025-10-27 22:27:21,596 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 13, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:27:21,596 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=13, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 22:27:21,596 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 12, 'cause': 'turn_recovery'}
2025-10-27 22:27:21,596 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 13 to 12 (cause=turn_recovery)
2025-10-27 22:27:21,596 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:27:21,596 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 22:27:21,597 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}
Recent events: none
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}
2025-10-27 22:27:21,597 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 0 in room entrance
2025-10-27 22:27:21,597 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:27:21,598 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 22:27:21,598 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'room': 'entrance'}
2025-10-27 22:27:27,907 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': 'Dawn breaks, casting a pale light over somber battlements.', 'sensory_details': 'The chill morning air carries the scent of rain and metal; distant drums echo with promise.'}
2025-10-27 22:27:27,907 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': 'Dawn breaks, casting a pale light over somber battlements.', 'sensory_details': 'The chill morning air carries the scent of rain and metal distant drums echo with promise.'}
2025-10-27 22:27:27,907 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 22:27:27,908 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "Dawn breaks, casting a pale light over somber battlements.", "sensory_details": "The chill morning air carries the scent of rain and metal distant drums echo with promise."}
2025-10-27 22:27:27,908 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:27:27,908 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 22:27:27,908 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'none', 'world_constraint_from_prev_turn': '{"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': []}
2025-10-27 22:27:52,258 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries the distant sound of drums and grit.', 'options': [{'id': 'ask_about_threat', 'text': "Ask the Shieldbearer about any threats they've noticed recently.", 'action_type': 'dialog'}, {'id': 'check_for_items', 'text': 'Check if there are any useful items nearby.', 'action_type': 'search'}, {'id': 'patrol_with_shieldbearer', 'text': 'Offer to patrol with the Shieldbearer for a while.', 'action_type': 'interact'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:27:52,258 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries the distant sound of drums and grit.', 'options': [{'id': 'ask_about_threat', 'text': "Ask the Shieldbearer about any threats they've noticed recently.", 'action_type': 'dialog'}, {'id': 'check_for_items', 'text': 'Check if there are any useful items nearby.', 'action_type': 'search'}, {'id': 'patrol_with_shieldbearer', 'text': 'Offer to patrol with the Shieldbearer for a while.', 'action_type': 'interact'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:27:52,258 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 22:27:52,258 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "options": [{"action_type": "dialog", "id": "ask_about_threat", "text": "Ask the Shieldbearer about any threats they've noticed recently."}, {"action_type": "search", "id": "check_for_items", "text": "Check if there are any useful items nearby."}, {"action_type": "interact", "id": "patrol_with_shieldbearer", "text": "Offer to patrol with the Shieldbearer for a while."}], "safe_functions": [], "scene": "The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries...
2025-10-27 22:27:52,258 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 22:27:52,258 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': 'ask_about_threat', 'text': "Ask the Shieldbearer about any threats they've noticed recently.", 'action_type': 'dialog'}
2025-10-27 22:27:52,258 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "dialog", "id": "ask_about_threat", "text": "Ask the Shieldbearer about any threats they've noticed recently."}
2025-10-27 22:27:52,258 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'dialog'
2025-10-27 22:27:52,258 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:27:52,258 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 22:27:52,261 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'scene_short': 'The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries the distant sound of drums and grit.', 'player_choice': "Ask the Shieldbearer about any threats they've noticed recently.", 'atmosphere': 'Dawn breaks, casting a pale light over somber battlements.', 'sensory_details': 'The chill morning air carries the scent of rain and metal distant drums echo with promise.', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player; Boris weighs every trade.', 'player_inventory_brief': 'oil lamp, patched shield'}
2025-10-27 22:28:00,194 [DEBUG] fortress_director.agents.character_agent: Model returned: {'name': 'Rhea', 'intent': 'Monitor the surroundings for any signs of danger', 'action': 'Stand alert, scanning the horizon with the oil lamp', 'speech': 'The morning stillness is broken by the distant rumble of drums and the faint sound of wind carrying grit. I stand watch, ever vigilant.', 'effects': {'trust_delta': 100, 'flag_set': ['low_clouds_present'], 'item_change': None, 'status_change': {'health': 100}}}
2025-10-27 22:28:00,195 [INFO] fortress_director.agents.character_agent: Normalized output (dict): [{'name': 'Rhea', 'intent': 'Monitor the surroundings for any signs of danger', 'action': 'Stand alert, scanning the horizon with the oil lamp', 'speech': 'The morning stillness is broken by the distant rumble of drums and the faint sound of wind carrying grit. I stand watch, ever vigilant.', 'effects': {'flag_set': ['low_clouds_present']}}]
2025-10-27 22:28:00,195 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 22:28:00,195 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "Stand alert, scanning the horizon with the oil lamp", "effects": {"flag_set": ["low_clouds_present"]}, "intent": "Monitor the surroundings for any signs of danger", "name": "Rhea", "speech": "The morning stillness is broken by the distant rumble of drums and the faint sound of wind carrying grit. I stand watch, ever vigilant."}]
2025-10-27 22:28:00,195 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 22:28:00,196 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 22:28:00,196 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 22:28:00,196 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "Stand alert, scanning the horizon with the oil lamp", "effects": {"flag_set": ["low_clouds_present"]}, "intent": "Monitor the surroundings for any signs of danger", "name": "Rhea", "speech": "The morning stillness is broken by the distant rumble of drums and the faint sound of wind carrying grit. I stand watch, ever vigilant."}]
2025-10-27 22:28:00,196 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 22:28:00,196 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 0, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': [], 'memory_layers': [], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': [], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'low clouds hug the battlements', 'sensory_details': 'Drums thud beyond the walls while the wind carries grit.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}}
2025-10-27 22:28:00,197 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Rhea', 'intent': 'Monitor the surroundings for any signs of danger', 'action': 'Stand alert, scanning the horizon with the oil lamp', 'speech': 'The morning stillness is broken by the distant rumble of drums and the faint sound of wind carrying grit. I stand watch, ever vigilant.', 'effects': {'flag_set': ['low_clouds_present']}}]
2025-10-27 22:28:00,197 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 0 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "low clouds hug the battlements", "sensory_details": "Drums thud beyond the walls while the wind carries grit."}
Recent events: none
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 12, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}, scene: The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries the distant sound of drums and grit., player_choice: {'id': 'ask_about_threat', 'text': "Ask the Shieldbearer about any threats they've noticed recently.", 'action_type': 'dialog'}
2025-10-27 22:28:00,197 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 22:28:00,197 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Rhea', 'intent': 'Monitor the surroundings for any signs of danger', 'action': 'Stand alert, scanning the horizon with the oil lamp', 'speech': 'The morning stillness is broken by the distant rumble of drums and the faint sound of wind carrying grit. I stand watch, ever vigilant.', 'effects': {'flag_set': ['low_clouds_present']}}
2025-10-27 22:28:00,198 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 22:28:00,198 [INFO] fortress_director.agents.judge_agent: JudgeAgent.evaluate called with variables
2025-10-27 22:28:05,441 [DEBUG] fortress_director.agents.judge_agent: Model returned: {'consistent': True, 'reason': "The content is consistent with established world, lore, and character logic. The scene setting matches the established atmosphere and tone of the world, and Rhea's actions align with her role as a defender."}
2025-10-27 22:28:05,441 [INFO] fortress_director.agents.judge_agent: Judge verdict: {'consistent': True, 'reason': "The content is consistent with established world, lore, and character logic. The scene setting matches the established atmosphere and tone of the world, and Rhea's actions align with her role as a defender."}
2025-10-27 22:28:05,441 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Rhea: {'consistent': True, 'reason': "The content is consistent with established world, lore, and character logic. The scene setting matches the established atmosphere and tone of the world, and Rhea's actions align with her role as a defender."}
2025-10-27 22:28:05,441 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 22:28:05,442 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Rhea: {'flag_set': ['low_clouds_present']}
2025-10-27 22:28:05,442 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 22:28:05,442 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 0, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present'], 'memory_layers': [], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 0, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': [], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'low clouds hug the battlements', 'sensory_details': 'Drums thud beyond the walls while the wind carries grit.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}}
2025-10-27 22:28:05,442 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=1)
2025-10-27 22:28:05,442 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 22:28:05,444 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 22:28:05,444 [INFO] fortress_director.rules.rules_engine: Environmental effects applied with seed 12345
2025-10-27 22:28:05,444 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 1, "day": 1, "flags": ["low_clouds_present"], "inventory": [], "lore": {}, "memory_layers": ["Turn 1: Ask the Shieldbearer about any threats they've noticed recently. -> The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn s..."], "metrics": {"corruption": 10, "glitch": 12, "knowledge": 45, "major_event_last_turn": null, "major_events_triggered": 0, "major_fl...
2025-10-27 22:28:05,445 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-38\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:28:05,445 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 22:28:05,445 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 22:28:05,445 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-38\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:28:05,446 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:28:05,446 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:28:05,446 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=1/10) with metrics={'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:28:05,446 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'ongoing', 'reason': 'thresholds_not_met'}
2025-10-27 22:28:05,448 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'ongoing', 'reason': 'thresholds_not_met'}
2025-10-27 22:28:05,448 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 22:28:05,448 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 0 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"low clouds hug the battlements\", \"sensory_details\": \"Drums thud beyond the walls while the wind carries grit.\"}\nRecent events: none\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {\"order\": 50, \"morale\": 50, ...
2025-10-27 22:28:05,448 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 22:28:05,449 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 22:28:05,450 [INFO] fortress_director.orchestrator.orchestrator: run_turn called (player_choice_id=None)
2025-10-27 22:28:05,450 [DEBUG] fortress_director.orchestrator.orchestrator: Resetting function validator and creating checkpoint: {'phase': 'turn_start'}
2025-10-27 22:28:05,450 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-38\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:28:05,451 [INFO] fortress_director.codeaware.rollback_system: Checkpoint created (turn=1, call=None)
2025-10-27 22:28:05,451 [INFO] fortress_director.orchestrator.orchestrator: Turn execution started.
2025-10-27 22:28:05,451 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-38\test_smoke_2turn_real_llm0\world_state.json (turn=1)
2025-10-27 22:28:05,451 [DEBUG] fortress_director.orchestrator.orchestrator: Pre-turn state snapshot: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 1, "day": 1, "flags": ["low_clouds_present"], "inventory": [], "lore": {}, "memory_layers": ["Turn 1: Ask the Shieldbearer about any threats they've noticed recently. -> The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn s..."], "metrics": {"corruption": 10, "glitch": 12, "knowledge": 45, "major_event_last_turn": null, "major_events_triggered": 0, "major_fl...
2025-10-27 22:28:05,452 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:28:05,452 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics at turn start: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:28:05,452 [INFO] fortress_director.utils.glitch_manager: Resolving glitch (turn=2, seed=12345, current_glitch=12)
2025-10-27 22:28:05,453 [DEBUG] fortress_director.utils.glitch_manager: Metrics before glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 12, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:28:05,454 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=12, delta=15, limits=(0, 100) (cause=glitch:overload)
2025-10-27 22:28:05,454 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': 15, 'value': 27, 'cause': 'glitch:overload'}
2025-10-27 22:28:05,454 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 12 to 27 (cause=glitch:overload)
2025-10-27 22:28:05,454 [INFO] fortress_director.utils.glitch_manager: Glitch roll complete: roll=99, triggered_loss=True
2025-10-27 22:28:05,455 [DEBUG] fortress_director.utils.glitch_manager: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 27, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:28:05,455 [DEBUG] fortress_director.utils.glitch_manager: Glitch effects applied: ['Glitch cascade overwhelms containment protocols.']
2025-10-27 22:28:05,455 [INFO] fortress_director.orchestrator.orchestrator: Glitch resolution outcome: roll=99, triggered_loss=True
2025-10-27 22:28:05,456 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch resolution: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 27, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:28:05,456 [DEBUG] fortress_director.utils.metrics_manager: Adjusting metric 'glitch': current=27, delta=-1, limits=(0, 100) (cause=turn_recovery)
2025-10-27 22:28:05,456 [DEBUG] fortress_director.utils.metrics_manager: Metric change logged: {'metric': 'glitch', 'delta': -1, 'value': 26, 'cause': 'turn_recovery'}
2025-10-27 22:28:05,456 [INFO] fortress_director.utils.metrics_manager: Metric 'glitch' updated from 27 to 26 (cause=turn_recovery)
2025-10-27 22:28:05,456 [DEBUG] fortress_director.orchestrator.orchestrator: Metrics after glitch recovery: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:28:05,457 [INFO] fortress_director.orchestrator.orchestrator: World context built.
2025-10-27 22:28:05,457 [DEBUG] fortress_director.orchestrator.orchestrator: World context payload: Turn 1 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "Dawn breaks, casting a pale light over somber battlements.", "sensory_details": "The chill morning air carries the scent of rain and metal distant drums echo with promise."}
Recent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries the distant sound of drums and ...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}
2025-10-27 22:28:05,457 [INFO] fortress_director.orchestrator.orchestrator: Starting turn 1 in room entrance
2025-10-27 22:28:05,457 [DEBUG] fortress_director.orchestrator.orchestrator: World agent input: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over somber battlements.\", \"sensory_details\": \"The chill morning air carries the scent of rain and metal distant drums echo with promise.\"}\nRecent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries the distant sound of ...
2025-10-27 22:28:05,457 [INFO] fortress_director.orchestrator.orchestrator: Calling world_agent.describe...
2025-10-27 22:28:05,458 [INFO] fortress_director.agents.world_agent: WorldAgent.describe called with variables: {'WORLD_CONTEXT': 'Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "Dawn breaks, casting a pale light over somber battlements.", "sensory_details": "The chill morning air carries the scent of rain and metal distant drums echo with promise."}\nRecent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries the distant sound of drums and ...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'room': 'entrance'}
2025-10-27 22:28:11,505 [DEBUG] fortress_director.agents.world_agent: Model returned: {'atmosphere': "Dawn'thin light over somber battlements", 'sensory_details': 'Chill air with rain scent, distant drumbeats echoing through the stone corridors.'}
2025-10-27 22:28:11,505 [INFO] fortress_director.agents.world_agent: World description: {'atmosphere': "Dawn'thin light over somber battlements", 'sensory_details': 'Chill air with rain scent, distant drumbeats echoing through the stone corridors.'}
2025-10-27 22:28:11,505 [INFO] fortress_director.orchestrator.orchestrator: World agent returned output.
2025-10-27 22:28:11,505 [DEBUG] fortress_director.orchestrator.orchestrator: World agent output: {"atmosphere": "Dawn'thin light over somber battlements", "sensory_details": "Chill air with rain scent, distant drumbeats echoing through the stone corridors."}
2025-10-27 22:28:11,505 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent input: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over somber battlements.\", \"sensory_details\": \"The chill morning air carries the scent of rain and metal distant drums echo with promise.\"}\nRecent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries the distant sound of ...
2025-10-27 22:28:11,506 [INFO] fortress_director.orchestrator.orchestrator: Calling event_agent.generate...
2025-10-27 22:28:11,506 [INFO] fortress_director.agents.event_agent: EventAgent.generate called with variables: {'WORLD_CONTEXT': 'Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "Dawn breaks, casting a pale light over somber battlements.", "sensory_details": "The chill morning air carries the scent of rain and metal distant drums echo with promise."}\nRecent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries the distant sound of drums and ...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'day': 1, 'time': 'dawn', 'room': 'entrance', 'recent_events': 'The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries the distant sound of drums and ...', 'world_constraint_from_prev_turn': '{"atmosphere": "Dawn breaks, casting a pale light over somber battlements.", "sensory_details": "The chill morning air carries the scent of rain and metal distant drums echo with promise."}', 'recent_motifs': 'none', 'lore_continuity_weight': 0, 'memory_layers': ["Turn 1: Ask the Shieldbearer about any threats they've noticed recently. -> The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn s..."]}
2025-10-27 22:28:34,334 [DEBUG] fortress_director.agents.event_agent: Model returned: {'scene': 'The Shieldbearer, standing watch at the entrance, notices your approach. She looks weary but determined.', 'options': [{'id': '1', 'text': 'Approach the Shieldbearer and ask about the drums you hear in the distance.', 'action_type': 'dialog'}, {'id': '2', 'text': 'Ignoring the Shieldbearer, you take a moment to survey the battlements.', 'action_type': 'explore'}, {'id': '3', 'text': 'Offer the Shieldbearer some of your oil for her lamp.', 'action_type': 'interact'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:28:34,335 [INFO] fortress_director.agents.event_agent: Normalized event output: {'scene': 'The Shieldbearer, standing watch at the entrance, notices your approach. She looks weary but determined.', 'options': [{'id': '1', 'text': 'Approach the Shieldbearer and ask about the drums you hear in the distance.', 'action_type': 'dialog'}, {'id': '2', 'text': 'Ignoring the Shieldbearer, you take a moment to survey the battlements.', 'action_type': 'explore'}, {'id': '3', 'text': 'Offer the Shieldbearer some of your oil for her lamp.', 'action_type': 'interact'}], 'major_event': False, 'safe_functions': []}
2025-10-27 22:28:34,335 [INFO] fortress_director.orchestrator.orchestrator: Event agent returned output.
2025-10-27 22:28:34,335 [DEBUG] fortress_director.orchestrator.orchestrator: Event agent output: {"major_event": false, "options": [{"action_type": "dialog", "id": "1", "text": "Approach the Shieldbearer and ask about the drums you hear in the distance."}, {"action_type": "explore", "id": "2", "text": "Ignoring the Shieldbearer, you take a moment to survey the battlements."}, {"action_type": "interact", "id": "3", "text": "Offer the Shieldbearer some of your oil for her lamp."}], "safe_functions": [], "scene": "The Shieldbearer, standing watch at the entrance, notices your approach. She looks weary but determined."}
2025-10-27 22:28:34,336 [INFO] fortress_director.orchestrator.orchestrator: Resolving player choice...
2025-10-27 22:28:34,336 [INFO] fortress_director.orchestrator.orchestrator: Player choice resolved: {'id': '1', 'text': 'Approach the Shieldbearer and ask about the drums you hear in the distance.', 'action_type': 'dialog'}
2025-10-27 22:28:34,336 [DEBUG] fortress_director.orchestrator.orchestrator: Player choice resolved: {"action_type": "dialog", "id": "1", "text": "Approach the Shieldbearer and ask about the drums you hear in the distance."}
2025-10-27 22:28:34,336 [DEBUG] fortress_director.orchestrator.orchestrator: No dynamic metrics for action_type 'dialog'
2025-10-27 22:28:34,337 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent input: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over somber battlements.\", \"sensory_details\": \"The chill morning air carries the scent of rain and metal distant drums echo with promise.\"}\nRecent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries the distant sound of ...
2025-10-27 22:28:34,337 [INFO] fortress_director.orchestrator.orchestrator: Calling character_agent.react...
2025-10-27 22:28:34,337 [INFO] fortress_director.agents.character_agent: CharacterAgent.react called with variables: {'WORLD_CONTEXT': 'Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {"atmosphere": "Dawn breaks, casting a pale light over somber battlements.", "sensory_details": "The chill morning air carries the scent of rain and metal distant drums echo with promise."}\nRecent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries the distant sound of drums and ...\nRecent motifs: none\nRecent major events: none\nRelationship summary: Rhea trusts the player; Boris weighs every trade.\nCharacter summary: Rhea is loyal but impulsive; Boris is cautious and calculating.\nMetrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}', 'scene_short': 'The Shieldbearer, standing watch at the entrance, notices your approach. She looks weary but determined.', 'player_choice': 'Approach the Shieldbearer and ask about the drums you hear in the distance.', 'atmosphere': "Dawn'thin light over somber battlements", 'sensory_details': 'Chill air with rain scent, distant drumbeats echoing through the stone corridors.', 'char_brief': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary_from_state': 'Rhea trusts the player; Boris weighs every trade.', 'player_inventory_brief': 'oil lamp, patched shield'}
2025-10-27 22:28:41,900 [DEBUG] fortress_director.agents.character_agent: Model returned: {'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand alert', 'speech': 'I stand vigilant. The dawn whispers its secrets to the weathered stones, and I sense the promise of rain in the air.', 'effects': {'trust_delta': 100, 'flag_set': ['dawn_break_start'], 'item_change': {'weapon': 'oil_lamp'}, 'status_change': {'health': 100, 'energy': 100}}}
2025-10-27 22:28:41,900 [INFO] fortress_director.agents.character_agent: Normalized output (dict): [{'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand alert', 'speech': 'I stand vigilant. The dawn whispers its secrets to the weathered stones, and I sense the promise of rain in the air.', 'effects': {'flag_set': ['dawn_break_start']}}]
2025-10-27 22:28:41,900 [INFO] fortress_director.orchestrator.orchestrator: Character agent returned output.
2025-10-27 22:28:41,900 [DEBUG] fortress_director.orchestrator.orchestrator: Character agent output: [{"action": "stand alert", "effects": {"flag_set": ["dawn_break_start"]}, "intent": "vigilance", "name": "Shieldbearer", "speech": "I stand vigilant. The dawn whispers its secrets to the weathered stones, and I sense the promise of rain in the air."}]
2025-10-27 22:28:41,901 [INFO] fortress_director.orchestrator.orchestrator: Injecting major event effect...
2025-10-27 22:28:41,901 [INFO] fortress_director.orchestrator.orchestrator: Major event effect injected.
2025-10-27 22:28:41,901 [INFO] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine...
2025-10-27 22:28:41,901 [DEBUG] fortress_director.orchestrator.orchestrator: Submitting reactions to rules engine: [{"action": "stand alert", "effects": {"flag_set": ["dawn_break_start"]}, "intent": "vigilance", "name": "Shieldbearer", "speech": "I stand vigilant. The dawn whispers its secrets to the weathered stones, and I sense the promise of rain in the air."}]
2025-10-27 22:28:41,901 [INFO] fortress_director.rules.rules_engine: RulesEngine.process called.
2025-10-27 22:28:41,903 [DEBUG] fortress_director.rules.rules_engine: Input state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 1, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present'], 'memory_layers': ["Turn 1: Ask the Shieldbearer about any threats they've noticed recently. -> The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn s..."], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 1, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries the distant sound of drums and ...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, casting a pale light over somber battlements.', 'sensory_details': 'The chill morning air carries the scent of rain and metal distant drums echo with promise.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}, 'status_effects': []}
2025-10-27 22:28:41,903 [DEBUG] fortress_director.rules.rules_engine: Character events: [{'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand alert', 'speech': 'I stand vigilant. The dawn whispers its secrets to the weathered stones, and I sense the promise of rain in the air.', 'effects': {'flag_set': ['dawn_break_start']}}]
2025-10-27 22:28:41,903 [DEBUG] fortress_director.rules.rules_engine: World context: Turn 1 | Day 1 | Time dawn
Location: entrance
Player: The Shieldbearer — A weary defender holding the western wall.
Inventory: oil lamp, patched shield
World constraint: {"atmosphere": "Dawn breaks, casting a pale light over somber battlements.", "sensory_details": "The chill morning air carries the scent of rain and metal distant drums echo with promise."}
Recent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries the distant sound of drums and ...
Recent motifs: none
Recent major events: none
Relationship summary: Rhea trusts the player; Boris weighs every trade.
Character summary: Rhea is loyal but impulsive; Boris is cautious and calculating.
Metrics: {"order": 50, "morale": 50, "resources": 40, "knowledge": 45, "corruption": 10, "glitch": 26, "risk_applied_total": 0, "major_flag_set": false, "major_events_triggered": 0, "major_event_last_turn": null}, scene: The Shieldbearer, standing watch at the entrance, notices your approach. She looks weary but determined., player_choice: {'id': '1', 'text': 'Approach the Shieldbearer and ask about the drums you hear in the distance.', 'action_type': 'dialog'}
2025-10-27 22:28:41,904 [INFO] fortress_director.rules.rules_engine: RulesEngine._validate_tier_one called.
2025-10-27 22:28:41,904 [DEBUG] fortress_director.rules.rules_engine: Validating character event 0: {'name': 'Shieldbearer', 'intent': 'vigilance', 'action': 'stand alert', 'speech': 'I stand vigilant. The dawn whispers its secrets to the weathered stones, and I sense the promise of rain in the air.', 'effects': {'flag_set': ['dawn_break_start']}}
2025-10-27 22:28:41,904 [INFO] fortress_director.rules.rules_engine: Tier one validation passed.
2025-10-27 22:28:41,904 [INFO] fortress_director.agents.judge_agent: JudgeAgent.evaluate called with variables
2025-10-27 22:28:46,939 [DEBUG] fortress_director.agents.judge_agent: Model returned: {'consistent': True, 'reason': 'The content is consistent with established world, lore, and character logic. The scene and player choice are appropriate for a vigilante watching over the entrance.'}
2025-10-27 22:28:46,940 [INFO] fortress_director.agents.judge_agent: Judge verdict: {'consistent': True, 'reason': 'The content is consistent with established world, lore, and character logic. The scene and player choice are appropriate for a vigilante watching over the entrance.'}
2025-10-27 22:28:46,940 [DEBUG] fortress_director.rules.rules_engine: Judge verdict for Shieldbearer: {'consistent': True, 'reason': 'The content is consistent with established world, lore, and character logic. The scene and player choice are appropriate for a vigilante watching over the entrance.'}
2025-10-27 22:28:46,940 [INFO] fortress_director.rules.rules_engine: Tier two validation passed.
2025-10-27 22:28:46,940 [DEBUG] fortress_director.rules.rules_engine: Applying effects for Shieldbearer: {'flag_set': ['dawn_break_start']}
2025-10-27 22:28:46,940 [INFO] fortress_director.rules.rules_engine: State updated by rules engine.
2025-10-27 22:28:46,940 [DEBUG] fortress_director.rules.rules_engine: Output state: {'campaign_id': 'default_campaign', 'turn_limit': 10, 'current_turn': 1, 'rng_seed': 12345, 'scores': {'logic_score': 0, 'emotion_score': 0, 'corruption': 0}, 'flags': ['low_clouds_present', 'dawn_break_start'], 'memory_layers': ["Turn 1: Ask the Shieldbearer about any threats they've noticed recently. -> The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn s..."], 'active_layer': None, 'npc_fragments': {}, 'inventory': [], 'lore': {}, 'turn': 1, 'day': 1, 'time': 'dawn', 'current_room': 'entrance', 'recent_events': ['The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries the distant sound of drums and ...'], 'recent_motifs': [], 'world_constraint_from_prev_turn': {'atmosphere': 'Dawn breaks, casting a pale light over somber battlements.', 'sensory_details': 'The chill morning air carries the scent of rain and metal distant drums echo with promise.'}, 'player': {'name': 'The Shieldbearer', 'inventory': ['oil lamp', 'patched shield'], 'stats': {'resolve': 3, 'empathy': 2}, 'summary': 'A weary defender holding the western wall.'}, 'character_summary': 'Rhea is loyal but impulsive; Boris is cautious and calculating.', 'relationship_summary': 'Rhea trusts the player; Boris weighs every trade.', 'metrics': {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}, 'npc_trust': {}, 'status_effects': []}
2025-10-27 22:28:46,940 [INFO] fortress_director.orchestrator.orchestrator: Rules engine accepted updates (turn=2)
2025-10-27 22:28:46,940 [INFO] fortress_director.orchestrator.orchestrator: Updating state and persisting...
2025-10-27 22:28:46,942 [DEBUG] fortress_director.rules.rules_engine: Status effects ticked: []
2025-10-27 22:28:46,942 [INFO] fortress_director.rules.rules_engine: Environmental effects applied with seed 12345
2025-10-27 22:28:46,942 [DEBUG] fortress_director.orchestrator.orchestrator: State after update: {"active_layer": null, "campaign_id": "default_campaign", "character_summary": "Rhea is loyal but impulsive; Boris is cautious and calculating.", "current_room": "entrance", "current_turn": 2, "day": 1, "flags": ["low_clouds_present", "dawn_break_start"], "inventory": [], "lore": {}, "memory_layers": ["Turn 1: Ask the Shieldbearer about any threats they've noticed recently. -> The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn s...", "Turn 2: Approach the Shieldbearer and ask about the drums you hear in the distance. -> The Shieldbearer, stand...
2025-10-27 22:28:46,943 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-38\test_smoke_2turn_real_llm0\world_state.json (turn=2)
2025-10-27 22:28:46,943 [INFO] fortress_director.orchestrator.orchestrator: Executing safe function queue...
2025-10-27 22:28:46,943 [INFO] fortress_director.orchestrator.orchestrator: Safe function queue executed.
2025-10-27 22:28:46,943 [DEBUG] fortress_director.orchestrator.orchestrator: State snapshot loaded from C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-38\test_smoke_2turn_real_llm0\world_state.json (turn=2)
2025-10-27 22:28:46,943 [DEBUG] fortress_director.utils.metrics_manager: MetricManager initialised with metrics: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:28:46,943 [DEBUG] fortress_director.orchestrator.orchestrator: Final metrics snapshot: {'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:28:46,943 [DEBUG] fortress_director.agents.judge_agent: Evaluating win/loss (turn=2/10) with metrics={'order': 50, 'morale': 50, 'resources': 40, 'knowledge': 45, 'corruption': 10, 'glitch': 26, 'risk_applied_total': 0, 'major_flag_set': False, 'major_events_triggered': 0, 'major_event_last_turn': None}
2025-10-27 22:28:46,943 [INFO] fortress_director.agents.judge_agent: Win/loss evaluation result: {'status': 'loss', 'reason': 'glitch_overload'}
2025-10-27 22:28:46,943 [INFO] fortress_director.orchestrator.orchestrator: Win/loss status after turn: {'status': 'loss', 'reason': 'glitch_overload'}
2025-10-27 22:28:46,946 [DEBUG] fortress_director.orchestrator.orchestrator: State persisted to C:\Users\Fahri\AppData\Local\Temp\pytest-of-Fahri\pytest-38\test_smoke_2turn_real_llm0\world_state.json (turn=2)
2025-10-27 22:28:46,946 [INFO] fortress_director.orchestrator.orchestrator: Game finalized, state persisted.
2025-10-27 22:28:46,946 [INFO] fortress_director.orchestrator.orchestrator: Turn result built.
2025-10-27 22:28:46,946 [DEBUG] fortress_director.orchestrator.orchestrator: Turn result before validation: {"WORLD_CONTEXT": "Turn 1 | Day 1 | Time dawn\nLocation: entrance\nPlayer: The Shieldbearer — A weary defender holding the western wall.\nInventory: oil lamp, patched shield\nWorld constraint: {\"atmosphere\": \"Dawn breaks, casting a pale light over somber battlements.\", \"sensory_details\": \"The chill morning air carries the scent of rain and metal distant drums echo with promise.\"}\nRecent events: The Shieldbearer stands watch at the entrance, her oil lamp casting a flickering light on the worn stone walls. The low clouds hang heavy overhead, and the wind carries the distant sound of ...
2025-10-27 22:28:46,948 [INFO] fortress_director.orchestrator.orchestrator: Turn output validated successfully.
2025-10-27 22:28:46,948 [INFO] fortress_director.orchestrator.orchestrator: Turn completed successfully.
2025-10-27 22:29:00,026 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
2025-10-27 22:29:05,770 [DEBUG] root: Logging configured (console=INFO, file=DEBUG, path=C:\Users\Fahri\OneDrive\Masaüstü\oyun\logs\fortress_run.log)
