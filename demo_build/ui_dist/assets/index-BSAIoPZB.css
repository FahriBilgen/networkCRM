:root{font-family:Inter,Segoe UI,system-ui,-apple-system,BlinkMacSystemFont,sans-serif;color-scheme:dark;background-color:#05070f;color:#e8edf8;line-height:1.5}*,*:before,*:after{box-sizing:border-box}body{margin:0;min-height:100vh;background:radial-gradient(circle at 20% 20%,#0a1224,#03060b 65%)}#app{min-height:100vh;padding:1.5rem}.fd-shell{max-width:1400px;margin:0 auto;display:flex;flex-direction:column;gap:1rem}.fd-shell--collapse{box-shadow:0 0 40px #e74c3c59;background:linear-gradient(135deg,#e74c3c14,#05070f66)}.fd-shell--transition{filter:drop-shadow(0 0 12px rgba(56,189,248,.35))}.fd-shell--shake{animation:fd-shake .35s ease}.fd-shell--final{background:radial-gradient(circle at top,#0f172ae6,#020617f2)}.fd-shell__hud{width:100%}.fd-hud{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1rem;background:#070a17e0;border:1px solid rgba(63,114,255,.2);padding:1rem;border-radius:1rem;-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px)}.fd-hud__threat-section{grid-column:span 2;display:flex;flex-direction:column;gap:.4rem}.fd-threat{display:flex;flex-direction:column;gap:.3rem;text-transform:uppercase;letter-spacing:.12em;font-size:.75rem;color:#e2e8f0cc}.fd-threat__label{font-size:.8rem;color:#f8fafccc}.fd-threat__fill{height:10px;width:0%;border-radius:999px;background:linear-gradient(90deg,#38bdf8,#2563eb);box-shadow:inset 0 0 10px #0f172a99;transition:width .3s ease,background-color .2s ease}.fd-threat__phase{font-size:.7rem;letter-spacing:.3em;color:#f1f5f980}.fd-threat--collapse .fd-threat__fill{animation:fd-threat-pulse 1s ease-in-out infinite}.fd-hud__resources{display:flex;flex-direction:column;gap:.5rem}.fd-hud__resource{display:flex;justify-content:space-between;align-items:center;background:#0f172acc;border:1px solid rgba(148,163,255,.25);padding:.6rem .9rem;border-radius:.65rem;font-size:.85rem;color:#f8fafccc}.fd-hud__resource-value{font-size:1.3rem;font-weight:600}.fd-hud__resource-value[data-phase=calm]{color:#38bdf8}.fd-hud__resource-value[data-phase=rising]{color:#facc15}.fd-hud__resource-value[data-phase=peak]{color:#fb923c}.fd-hud__resource-value[data-phase=collapse]{color:#ef4444}.fd-hud__atmosphere{background:#0d1021d9;border:1px solid rgba(99,102,241,.25);border-radius:.9rem;padding:.75rem;display:flex;flex-direction:column;gap:.5rem}.fd-hud__atmosphere-row{display:flex;flex-direction:column;gap:.2rem;font-size:.85rem;color:#e2e8f0cc;background:#0f1226e6;padding:.5rem .75rem;border-radius:.65rem;border:1px solid rgba(79,70,229,.25)}.fd-hud__atmosphere-value{font-size:1rem;color:#f8fafc}.fd-hud--atmosphere-pulse .fd-hud__atmosphere-row{animation:fd-atmosphere-pulse .6s ease}.fd-hud__turn-panel{display:flex;align-items:center;justify-content:space-between;gap:.75rem;background:#0c1021d9;border-radius:.85rem;border:1px solid rgba(59,130,246,.35);padding:.75rem 1rem}.fd-hud__turn-value{font-size:1.8rem;font-weight:600;color:#f8fafc}.fd-button--hidden{display:none!important}.fd-layout{display:grid;grid-template-columns:minmax(0,3fr) minmax(280px,1fr);gap:1rem;min-height:620px}@media (max-width: 980px){.fd-layout{grid-template-columns:1fr}}.fd-stage{background:#050712f2;border:1px solid rgba(94,152,255,.2);border-radius:1rem;padding:1rem;display:flex;flex-direction:column;gap:.75rem;min-height:560px;position:relative}.fd-stage__title{font-size:1rem;letter-spacing:.08em;text-transform:uppercase;color:#a5b4fc}.fd-stage__canvas{flex:1;border:1px solid rgba(255,255,255,.08);border-radius:.75rem;background:radial-gradient(circle at 50% 40%,#2f50b42e,#070a18e6);position:relative;overflow:hidden}.fd-stage__narrative{font-size:.95rem;line-height:1.4;color:#dfe7ff;background:#080d1ee6;border:1px solid rgba(147,197,253,.2);border-radius:.75rem;padding:.8rem;min-height:84px}.fd-panels{display:flex;flex-direction:column;gap:1rem}.fd-panel{background:#070a16e6;border:1px solid rgba(60,90,190,.2);border-radius:.85rem;padding:1rem;display:flex;flex-direction:column;gap:.75rem}.fd-panel__title{text-transform:uppercase;font-size:.85rem;letter-spacing:.15em;color:#8ea2ff}.fd-controls{display:flex;flex-direction:column;gap:.6rem}.fd-button{border:none;background:linear-gradient(135deg,#3f8cff,#8b5cf6);color:#fff;padding:.85rem 1rem;border-radius:.65rem;font-size:1rem;font-weight:600;cursor:pointer;transition:opacity .12s ease,transform .12s ease}.fd-button:disabled{opacity:.45;cursor:not-allowed}.fd-button:not(:disabled):hover{opacity:.9;transform:translateY(-1px)}.fd-status-text{font-size:.9rem;color:#97a2c6}.fd-llm-status{font-size:.85rem;color:#cbd5f5;margin:.25rem 0 .75rem}.fd-toggle{display:flex;align-items:center;gap:.5rem;font-size:.85rem;color:#e2e8f0;margin-bottom:.75rem}.fd-toggle input{accent-color:#38bdf8}.fd-debug-panel{border-color:#ffb8594d}.fd-debug-list{max-height:200px;overflow-y:auto;display:flex;flex-direction:column;gap:.5rem}.fd-debug-entry{padding:.5rem;border-radius:.5rem;border:1px solid rgba(255,184,89,.3);font-size:.85rem;cursor:pointer;transition:border-color .12s ease}.fd-debug-entry:hover{border-color:#ffdc59cc}.fd-debug-entry--active{border-color:#ffdc59e6;background:#ffb85914}.fd-action-panel{display:flex;flex-direction:column;gap:.75rem}.fd-action-panel__select{padding:.5rem;border-radius:.5rem;border:1px solid rgba(148,163,255,.4);background:#080b19f2;color:#e2e8f0}.fd-action-panel__inputs{display:flex;flex-direction:column;gap:.5rem}.fd-action-panel__field{display:flex;flex-direction:column;gap:.25rem;font-size:.85rem}.fd-action-panel__field input{padding:.45rem .6rem;border-radius:.5rem;border:1px solid rgba(148,163,255,.4);background:#050814e6;color:#f8fafc}.fd-log-panel{background:#070a15f2;border:1px solid rgba(148,163,255,.2);border-radius:.9rem;padding:.75rem;display:flex;flex-direction:column;gap:.5rem}.fd-log-panel__list{flex:1;overflow-y:auto;display:flex;flex-direction:column;gap:.6rem;max-height:520px;padding-right:.4rem}.fd-log-panel__section{border:1px solid rgba(99,102,241,.2);border-radius:.7rem;background:#0b0e20d9}.fd-log-panel__section-header{width:100%;text-align:left;background:transparent;border:none;color:#c7d2fe;font-weight:600;padding:.5rem .8rem;letter-spacing:.05em;cursor:pointer}.fd-log-panel__section-content{padding:.4rem .8rem .75rem;display:flex;flex-direction:column;gap:.45rem}.fd-log-panel__entry{border-radius:.5rem;padding:.4rem .6rem;font-size:.85rem;color:#e2e8f0;background:#0f1222d9;border:1px solid rgba(148,163,255,.08)}.fd-log-panel__entry[data-kind=combat]{border-color:#ef444466}.fd-log-panel__entry[data-kind=morale]{border-color:#eab30866}.fd-log-panel__entry[data-kind=structures]{border-color:#94a3b866}.fd-log-panel__entry[data-kind=events]{border-color:#3b82f673}.fd-log-panel__entry[data-kind=function]{border-color:#f9731666}.fd-log-panel__details{margin:.25rem 0 0;padding-left:1.1rem;color:#94a3b8d9;font-size:.78rem}.fd-collapse-overlay{position:absolute;top:.5rem;right:.5rem;bottom:.5rem;left:.5rem;border-radius:.8rem;background:radial-gradient(circle,#ef444440,#0f172a00);border:1px solid rgba(239,68,68,.35);pointer-events:none;animation:fd-collapse-pulse 2s ease-in-out infinite}.fd-final-container{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.fd-final{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;align-items:center;justify-content:center;background:#020617cc;opacity:0;pointer-events:none;transition:opacity .4s ease}.fd-final--visible{opacity:1;pointer-events:auto}.fd-final__content{max-width:460px;background:#070a15f2;border:1px solid rgba(148,163,255,.3);border-radius:1rem;padding:1.5rem;text-align:center;box-shadow:0 25px 60px #00000080}.fd-final__atmosphere{font-size:1.2rem;letter-spacing:.2em;color:#94a3ffcc;text-transform:uppercase}.fd-final__description{margin:.75rem 0 1rem;color:#e2e8f0e6}.fd-final__stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:.75rem}.fd-final__stat{background:#0f1226d9;border:1px solid rgba(99,102,241,.3);border-radius:.65rem;padding:.5rem .75rem;display:flex;flex-direction:column;gap:.25rem;font-size:.85rem;color:#cbd5e1e6}.fd-final__stat span:last-child{font-size:1.2rem;font-weight:600;color:#f8fafc}.fd-map-tooltip{background:#0f172aeb;border:1px solid rgba(148,163,255,.35);padding:.4rem .6rem;border-radius:.4rem;font-size:.75rem;color:#e2e8f0;pointer-events:none;box-shadow:0 10px 30px #02061759}@keyframes fd-threat-pulse{0%{box-shadow:0 0 #ef444480}80%{box-shadow:0 0 25px 10px #ef444400}to{box-shadow:0 0 #ef444400}}@keyframes fd-atmosphere-pulse{0%{box-shadow:0 0 #38bdf826}60%{box-shadow:0 0 18px 8px #38bdf800}to{box-shadow:0 0 #38bdf800}}@keyframes fd-collapse-pulse{0%{opacity:.15}50%{opacity:.35}to{opacity:.15}}@keyframes fd-shake{0%{transform:translateZ(0)}25%{transform:translate3d(-4px,2px,0)}50%{transform:translate3d(3px,-3px,0)}75%{transform:translate3d(-3px,1px,0)}to{transform:translateZ(0)}}
